function tEnvoy(e=openpgp,t=nacl,r=sha256){let d=e,u=t,a=r;this.wordsList="abandon ability able about above absent absorb abstract absurd abuse access accident account accuse achieve acid acoustic acquire across act action actor actress actual adapt add addict address adjust admit adult advance advice aerobic affair afford afraid again age agent agree ahead aim air airport aisle alarm album alcohol alert alien all alley allow almost alone alpha already also alter always amateur amazing among amount amused analyst anchor ancient anger angle angry animal ankle announce annual another answer antenna antique anxiety any apart apology appear apple approve april arch arctic area arena argue arm armed armor army around arrange arrest arrive arrow art artefact artist artwork ask aspect assault asset assist assume asthma athlete atom attack attend attitude attract auction audit august aunt author auto autumn average avocado avoid awake aware away awesome awful awkward axis baby bachelor bacon badge bag balance balcony ball bamboo banana banner bar barely bargain barrel base basic basket battle beach bean beauty because become beef before begin behave behind believe below belt bench benefit best betray better between beyond bicycle bid bike bind biology bird birth bitter black blade blame blanket blast bleak bless blind blood blossom blouse blue blur blush board boat body boil bomb bone bonus book boost border boring borrow boss bottom bounce box boy bracket brain brand brass brave bread breeze brick bridge brief bright bring brisk broccoli broken bronze broom brother brown brush bubble buddy budget buffalo build bulb bulk bullet bundle bunker burden burger burst bus business busy butter buyer buzz cabbage cabin cable cactus cage cake call calm camera camp can canal cancel candy cannon canoe canvas canyon capable capital captain car carbon card cargo carpet carry cart case cash casino castle casual cat catalog catch category cattle caught cause caution cave ceiling celery cement census century cereal certain chair chalk champion change chaos chapter charge chase chat cheap check cheese chef cherry chest chicken chief child chimney choice choose chronic chuckle chunk churn cigar cinnamon circle citizen city civil claim clap clarify claw clay clean clerk clever click client cliff climb clinic clip clock clog close cloth cloud clown club clump cluster clutch coach coast coconut code coffee coil coin collect color column combine come comfort comic common company concert conduct confirm congress connect consider control convince cook cool copper copy coral core corn correct cost cotton couch country couple course cousin cover coyote crack cradle craft cram crane crash crater crawl crazy cream credit creek crew cricket crime crisp critic crop cross crouch crowd crucial cruel cruise crumble crunch crush cry crystal cube culture cup cupboard curious current curtain curve cushion custom cute cycle dad damage damp dance danger daring dash daughter dawn day deal debate debris decade december decide decline decorate decrease deer defense define defy degree delay deliver demand demise denial dentist deny depart depend deposit depth deputy derive describe desert design desk despair destroy detail detect develop device devote diagram dial diamond diary dice diesel diet differ digital dignity dilemma dinner dinosaur direct dirt disagree discover disease dish dismiss disorder display distance divert divide divorce dizzy doctor document dog doll dolphin domain donate donkey donor door dose double dove draft dragon drama drastic draw dream dress drift drill drink drip drive drop drum dry duck dumb dune during dust dutch duty dwarf dynamic eager eagle early earn earth easily east easy echo ecology economy edge edit educate effort egg eight either elbow elder electric elegant element elephant elevator elite else embark embody embrace emerge emotion employ empower empty enable enact end endless endorse enemy energy enforce engage engine enhance enjoy enlist enough enrich enroll ensure enter entire entry envelope episode equal equip era erase erode erosion error erupt escape essay essence estate eternal ethics evidence evil evoke evolve exact example excess exchange excite exclude excuse execute exercise exhaust exhibit exile exist exit exotic expand expect expire explain expose express extend extra eye eyebrow fabric face faculty fade faint faith fall false fame family famous fan fancy fantasy farm fashion fat fatal father fatigue fault favorite feature february federal fee feed feel female fence festival fetch fever few fiber fiction field figure file film filter final find fine finger finish fire firm first fiscal fish fit fitness fix flag flame flash flat flavor flee flight flip float flock floor flower fluid flush fly foam focus fog foil fold follow food foot force forest forget fork fortune forum forward fossil foster found fox fragile frame frequent fresh friend fringe frog front frost frown frozen fruit fuel fun funny furnace fury future gadget gain galaxy gallery game gap garage garbage garden garlic garment gas gasp gate gather gauge gaze general genius genre gentle genuine gesture ghost giant gift giggle ginger giraffe girl give glad glance glare glass glide glimpse globe gloom glory glove glow glue goat goddess gold good goose gorilla gospel gossip govern gown grab grace grain grant grape grass gravity great green grid grief grit grocery group grow grunt guard guess guide guilt guitar gun gym habit hair half hammer hamster hand happy harbor hard harsh harvest hat have hawk hazard head health heart heavy hedgehog height hello helmet help hen hero hidden high hill hint hip hire history hobby hockey hold hole holiday hollow home honey hood hope horn horror horse hospital host hotel hour hover hub huge human humble humor hundred hungry hunt hurdle hurry hurt husband hybrid ice icon idea identify idle ignore ill illegal illness image imitate immense immune impact impose improve impulse inch include income increase index indicate indoor industry infant inflict inform inhale inherit initial inject injury inmate inner innocent input inquiry insane insect inside inspire install intact interest into invest invite involve iron island isolate issue item ivory jacket jaguar jar jazz jealous jeans jelly jewel job join joke journey joy judge juice jump jungle junior junk just kangaroo keen keep ketchup key kick kid kidney kind kingdom kiss kit kitchen kite kitten kiwi knee knife knock know lab label labor ladder lady lake lamp language laptop large later latin laugh laundry lava law lawn lawsuit layer lazy leader leaf learn leave lecture left leg legal legend leisure lemon lend length lens leopard lesson letter level liar liberty library license life lift light like limb limit link lion liquid list little live lizard load loan lobster local lock logic lonely long loop lottery loud lounge love loyal lucky luggage lumber lunar lunch luxury lyrics machine mad magic magnet maid mail main major make mammal man manage mandate mango mansion manual maple marble march margin marine market marriage mask mass master match material math matrix matter maximum maze meadow mean measure meat mechanic medal media melody melt member memory mention menu mercy merge merit merry mesh message metal method middle midnight milk million mimic mind minimum minor minute miracle mirror misery miss mistake mix mixed mixture mobile model modify mom moment monitor monkey monster month moon moral more morning mosquito mother motion motor mountain mouse move movie much muffin mule multiply muscle museum mushroom music must mutual myself mystery myth naive name napkin narrow nasty nation nature near neck need negative neglect neither nephew nerve nest net network neutral never news next nice night noble noise nominee noodle normal north nose notable note nothing notice novel now nuclear number nurse nut oak obey object oblige obscure observe obtain obvious occur ocean october odor off offer office often oil okay old olive olympic omit once one onion online only open opera opinion oppose option orange orbit orchard order ordinary organ orient original orphan ostrich other outdoor outer output outside oval oven over own owner oxygen oyster ozone pact paddle page pair palace palm panda panel panic panther paper parade parent park parrot party pass patch path patient patrol pattern pause pave payment peace peanut pear peasant pelican pen penalty pencil people pepper perfect permit person pet phone photo phrase physical piano picnic picture piece pig pigeon pill pilot pink pioneer pipe pistol pitch pizza place planet plastic plate play please pledge pluck plug plunge poem poet point polar pole police pond pony pool popular portion position possible post potato pottery poverty powder power practice praise predict prefer prepare present pretty prevent price pride primary print priority prison private prize problem process produce profit program project promote proof property prosper protect proud provide public pudding pull pulp pulse pumpkin punch pupil puppy purchase purity purpose purse push put puzzle pyramid quality quantum quarter question quick quit quiz quote rabbit raccoon race rack radar radio rail rain raise rally ramp ranch random range rapid rare rate rather raven raw razor ready real reason rebel rebuild recall receive recipe record recycle reduce reflect reform refuse region regret regular reject relax release relief rely remain remember remind remove render renew rent reopen repair repeat replace report require rescue resemble resist resource response result retire retreat return reunion reveal review reward rhythm rib ribbon rice rich ride ridge rifle right rigid ring riot ripple risk ritual rival river road roast robot robust rocket romance roof rookie room rose rotate rough round route royal rubber rude rug rule run runway rural sad saddle sadness safe sail salad salmon salon salt salute same sample sand satisfy satoshi sauce sausage save say scale scan scare scatter scene scheme school science scissors scorpion scout scrap screen script scrub sea search season seat second secret section security seed seek segment select sell seminar senior sense sentence series service session settle setup seven shadow shaft shallow share shed shell sheriff shield shift shine ship shiver shock shoe shoot shop short shoulder shove shrimp shrug shuffle shy sibling sick side siege sight sign silent silk silly silver similar simple since sing siren sister situate six size skate sketch ski skill skin skirt skull slab slam sleep slender slice slide slight slim slogan slot slow slush small smart smile smoke smooth snack snake snap sniff snow soap soccer social sock soda soft solar soldier solid solution solve someone song soon sorry sort soul sound soup source south space spare spatial spawn speak special speed spell spend sphere spice spider spike spin spirit split spoil sponsor spoon sport spot spray spread spring spy square squeeze squirrel stable stadium staff stage stairs stamp stand start state stay steak steel stem step stereo stick still sting stock stomach stone stool story stove strategy street strike strong struggle student stuff stumble style subject submit subway success such sudden suffer sugar suggest suit summer sun sunny sunset super supply supreme sure surface surge surprise surround survey suspect sustain swallow swamp swap swarm swear sweet swift swim swing switch sword symbol symptom syrup system table tackle tag tail talent talk tank tape target task taste tattoo taxi teach team tell ten tenant tennis tent term test text thank that theme then theory there they thing this thought three thrive throw thumb thunder ticket tide tiger tilt timber time tiny tip tired tissue title toast tobacco today toddler toe together toilet token tomato tomorrow tone tongue tonight tool tooth top topic topple torch tornado tortoise toss total tourist toward tower town toy track trade traffic tragic train transfer trap trash travel tray treat tree trend trial tribe trick trigger trim trip trophy trouble truck true truly trumpet trust truth try tube tuition tumble tuna tunnel turkey turn turtle twelve twenty twice twin twist two type typical ugly umbrella unable unaware uncle uncover under undo unfair unfold unhappy uniform unique unit universe unknown unlock until unusual unveil update upgrade uphold upon upper upset urban urge usage use used useful useless usual utility vacant vacuum vague valid valley valve van vanish vapor various vast vault vehicle velvet vendor venture venue verb verify version very vessel veteran viable vibrant vicious victory video view village vintage violin virtual virus visa visit visual vital vivid vocal voice void volcano volume vote voyage wage wagon wait walk wall walnut want warfare warm warrior wash wasp waste water wave way wealth weapon wear weasel weather web wedding weekend weird welcome west wet whale what wheat wheel when where whip whisper wide width wife wild will win window wine wing wink winner winter wire wisdom wise wish witness wolf woman wonder wood wool word work world worry worth wrap wreck wrestle wrist write wrong yard year yellow you young youth zebra zero zone zoo".split(" "),Object.defineProperty(this,"version",{get:()=>"v7.0.8"}),this.core={},Object.defineProperty(this.core,"openpgp",{get:()=>d}),Object.defineProperty(this.core,"nacl",{get:()=>u}),Object.defineProperty(this.core,"sha256",{get:()=>a}),this.util={},this.util.utf8encode=e=>{if(null==e)throw"tEnvoy Fatal Error: argument string of method util.utf8encode is required and does not have a default value.";return d.util.encode_utf8(e)},this.util.utf8decode=e=>{if(null==e)throw"tEnvoy Fatal Error: argument bytes of method util.utf8decode is required and does not have a default value.";return e instanceof Uint8Array||(e=this.util.mixedToUint8Array(e,!1)),d.util.decode_utf8(e)},this.util.stringToBytes=e=>{if(null==e)throw"tEnvoy Fatal Error: argument string of method util.stringToBytes is required and does not have a default value.";return d.util.str_to_Uint8Array(e)},this.util.bytesToString=e=>{if(null==e)throw"tEnvoy Fatal Error: argument bytes of method util.bytesToString is required and does not have a default value.";return e instanceof Uint8Array||(e=this.util.mixedToUint8Array(e,!1)),d.util.Uint8Array_to_str(e)},this.util.stringToHex=r=>{if(null==r)throw"tEnvoy Fatal Error: argument string of method util.stringToHex is required and does not have a default value.";let n="";for(let t=0;t<r.length;t++){let e=r.charCodeAt(t).toString(16);for(;e.length<2;)e="0"+e;n+=e}return n},this.util.hexToString=t=>{if(null==t)throw"tEnvoy Fatal Error: argument hex of method util.hexToString is required and does not have a default value.";let r="";for(let e=0;e<t.length;e+=2)r+=String.fromCharCode(parseInt(t.substring(e,e+2),16));return r},this.util.bytesToHex=t=>{if(null==t)throw"tEnvoy Fatal Error: argument bytes of method util.bytesToHex is required and does not have a default value.";t instanceof Uint8Array||(t=this.util.mixedToUint8Array(t,!1));let r="";for(let e=0;e<t.length;e++)0==t[e].toString(16).length?r+="00":1==t[e].toString(16).length?r+="0"+t[e].toString(16):r+=t[e].toString(16);return r},this.util.hexToBytes=t=>{if(null==t)throw"tEnvoy Fatal Error: argument hex of method util.hexToBytes is required and does not have a default value.";let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=parseInt(t.substring(e,e+2),16);return r},this.util.arrayDeepCopy=t=>{if(null==t)throw"tEnvoy Fatal Error: argument array of method util.arrayDeepCopy is required and does not have a default value.";let r;if(t instanceof Uint8Array)r=new Uint8Array(t.length);else{if(!(t instanceof Array))throw"tEnvoy Fatal Error: argument array of method util.arrayDeepCopy is invalid, array must be of type Uint8Array or Array.";r=new Array(t.length)}for(let e=0;e<t.length;e++)r[e]=t[e];return r},this.util.compareConstant=(t,r)=>{if(null==t)throw"tEnvoy Fatal Error: argument inputted of method util.compareConstant is required and does not have a default value.";if(null==r)throw"tEnvoy Fatal Error: argument original of method util.compareConstant is required and does not have a default value.";let n=!0;for(let e=0;e<t.length;e++)(e>=r.length||t[e]!=r[e])&&(n=!1);return t.length!=r.length&&(n=!1),n},this.util.mixedToUint8Array=(r,t=!1,n=null)=>{if(null==r)return r;var a=(r,e)=>{if(r.length==e||null==e)return r;if(r.length>e){let t=new Uint8Array(e);for(let e=0;e<t.length;e++)t[e]=r[e];return t}{let t=new Uint8Array(e);for(let e=0;e<t.length;e++)t[e]=255;for(let e=0;e<r.length;e++)t[t.length-r.length+e]=r[e];return t}};if(null==r)throw"tEnvoy Fatal Error: argument mixed of method util.mixedToUint8Array is required and does not have a default value.";let i=!0;if("object"==typeof r&&r.constructor==Object){var s=Object.keys(r);let t=new Uint8Array(s.length);for(let e=0;e<s.length&&i;e++)s[e]!=e||!Number.isInteger(r[s[e]])||r[s[e]]<0||255<r[s[e]]?i=!1:t[e]=r[s[e]];if(i)return t}if(r instanceof Uint8Array){if(t){let t=new Uint8Array(r.length+1);for(let e=t[0]=0;e<r.length;e++)t[e+1]=r[e];return a(t,n)}return r}if(r instanceof Array&&(t=>{for(let e=0;e<t.length;e++)if("number"!=typeof t[e]||!Number.isInteger(t[e])||t[e]<0||255<t[e])return!1;return!0})(r)){if(t){let t=new Uint8Array(r.length+1);t[0]=1;for(let e=0;e<r.length;e++)t[e+1]=r[e];return a(t,n)}{let t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r[e];return t}}if("number"==typeof r){if(Number.isInteger(r)){if(0<r){let e=r.toString(16);e.length%2!=0&&(e="0"+e),0==e.length&&(e="00");var o=this.util.hexToBytes(e);if(t){let t=new Uint8Array(o.length+1);t[0]=2;for(let e=0;e<o.length;e++)t[e+1]=o[e];return a(t,n)}{let t=new Uint8Array(o.length);for(let e=0;e<o.length;e++)t[e]=o[e];return t}}if(r<0){let e=(r=-r).toString(16);e.length%2!=0&&(e="0"+e),0==e.length&&(e="00");var u=this.util.hexToBytes(e);if(t){let t=new Uint8Array(u.length+1);t[0]=3;for(let e=0;e<u.length;e++)t[e+1]=u[e];return a(t,n)}{let t=new Uint8Array(u.length);for(let e=0;e<u.length;e++)t[e]=u[e];return t}}if(t){let e=new Uint8Array(2);return e[0]=4,e[1]=0,a(e,n)}{let e=new Uint8Array(1);return e[0]=0,e}}if(Number.isNaN(r)){if(t){let e=new Uint8Array(2);return e[0]=7,e[1]=0,a(e,n)}{let e=new Uint8Array(1);return e[0]=0,e}}if(Number.isFinite(r)){if(t){let e=this.util.pack(r+"");return e[0]=8,a(e,n)}return this.util.mixedToUint8Array(r+"",!1)}if(t){let e=new Uint8Array(2);return e[0]=9,e[1]=255,a(e,n)}{let e=new Uint8Array(1);return e[0]=255,e}}if(r.constructor==Object||r.constructor==Array||"function"==typeof r.toJSON){var c=this.util.utf8encode(JSON.stringify(r));if(t){let t=new Uint8Array(c.length+1);t[0]=5;for(let e=0;e<c.length;e++)t[e+1]=c[e];return a(t,n)}return c}if("boolean"==typeof r){if(t){let e=new Uint8Array(2);return e[0]=6,e[1]=r?1:0,a(e,n)}{let e=new Uint8Array(1);return e[0]=r?1:0,e}}var l=this.util.utf8encode(r.toString());if(t){let t=new Uint8Array(l.length+1);t[0]=254;for(let e=0;e<l.length;e++)t[e+1]=l[e];return a(t,n)}return l},this.util.uint8ArrayToMixed=(s,e=!1)=>{if(null==s)return null;if("object"==typeof s&&s.constructor==Object){var r=Object.keys(s);let t=new Uint8Array(r.length);for(let e=0;e<r.length;e++){if(r[e]!=e||!Number.isInteger(s[r[e]])||s[r[e]]<0||255<s[r[e]])return null;t[e]=s[r[e]]}s=t}if(e){let t=!1,r=0;for(let e=0;e<s.length;e++)255==s[e]||t||(t=!0,r=e);let n,a=new Uint8Array(r);if(t){n=new Uint8Array(s.length-r);for(let e=r;e<s.length;e++)n[e-r]=s[e];null!=u&&(a=u.randomBytes(r))}else n=s,null!=u&&(a=u.randomBytes(u.randomBytes(1)[0]%16));s=n;let i=new Uint8Array(s.length-1);for(let e=0;e<i.length;e++)i[e]=s[e+1];if(1==s[0]){let t=[];for(let e=0;e<i.length;e++)t[e]=i[e];let r=[];for(let e=0;e<a.length;e++)r[e]=a[e];return t}if(2==s[0]){var o=this.util.bytesToHex(i);this.util.bytesToHex(a);return parseInt(o,16)}if(3==s[0]){o=this.util.bytesToHex(i),parseInt(this.util.bytesToHex(a),16);return-1*parseInt(o,16)}if(4==s[0])return s[1];if(5==s[0]){this.util.utf8decode(a),JSON.parse("{}");return JSON.parse(this.util.utf8decode(i))}if(6==s[0])return 0!=i[0];if(7==s[0])return NaN;if(8==s[0]){this.util.utf8decode(a);return parseFloat(this.util.utf8decode(i))}if(9==s[0])return 1/0;if(254!=s[0])return i;this.util.utf8decode(a);return this.util.utf8decode(i)}{let t=[];for(let e=0;e<s.length;e++)t[e]=s[e];return t}},this.util.pack=(e,t)=>this.util.mixedToUint8Array(e,!0,t),this.util.unpack=e=>this.util.uint8ArrayToMixed(e,!0),this.util.objectEquals=(e,t)=>{return(()=>{var e,t,n,a;let i=(e,t)=>{if(isNaN(e)&&isNaN(t)&&"number"==typeof e&&"number"==typeof t)return!0;if(e===t)return!0;if("function"==typeof e&&"function"==typeof t||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return e.toString()===t.toString();if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e))return!1;if(e.constructor!==t.constructor)return!1;if(e.prototype!==t.prototype)return!1;if(-1<n.indexOf(e)||-1<a.indexOf(t))return!1;for(var r in t){if(t.hasOwnProperty(r)!==e.hasOwnProperty(r))return!1;if(typeof t[r]!=typeof e[r])return!1}for(r in e){if(t.hasOwnProperty(r)!==e.hasOwnProperty(r))return!1;if(typeof t[r]!=typeof e[r])return!1;switch(typeof e[r]){case"object":case"function":if(n.push(e),a.push(t),!i(e[r],t[r]))return!1;n.pop(),a.pop();break;default:if(e[r]!==t[r])return!1}}return!0};if(arguments.length<1)throw"need two or more arguments to compare";for(e=1,t=arguments.length;e<t;e++)if(n=[],a=[],!i(arguments[0],arguments[e]))return!1;return!0})()},this.util.fixArmor=e=>{for(e=e.replace("Version: OpenPGP.js v4.10.10","Version: tEnvoy "+this.version).replace("Comment: https://openpgpjs.org","Comment: https://togatech.org/ (TogaTech tEnvoy)");"-"!=e[0];)e=e.substring(1);return e},this.hash=(e,t="sha256")=>{if("function"==typeof this.hash[t=null==t?"sha256":t])return this.hash[t](e);throw"tEnvoy Fatal Error: argument mixed of method hash is invalid."},this.hash.sha256=r=>new Promise(async(e,t)=>{null==r&&t("tEnvoy Fatal Error: argument mixed of method hash.sha256 is required and does not have a default value."),e(this.util.stringToHex(this.util.bytesToString(await d.crypto.hash.sha256(this.util.mixedToUint8Array(r,!1)).catch(e=>{t(e)}))))}),this.hash.sha1=r=>new Promise(async(e,t)=>{null==r&&t("tEnvoy Fatal Error: argument mixed of method hash.sha1 is required and does not have a default value."),e(this.util.stringToHex(this.util.bytesToString(await d.crypto.hash.sha1(this.util.mixedToUint8Array(r,!1)).catch(e=>{t(e)}))))}),this.hash.sha224=r=>new Promise(async(e,t)=>{null==r&&t("tEnvoy Fatal Error: argument mixed of method hash.sha224 is required and does not have a default value."),e(this.util.stringToHex(this.util.bytesToString(await d.crypto.hash.sha224(this.util.mixedToUint8Array(r,!1)).catch(e=>{t(e)}))))}),this.hash.sha384=r=>new Promise(async(e,t)=>{null==r&&t("tEnvoy Fatal Error: argument mixed of method hash.sha384 is required and does not have a default value."),e(this.util.stringToHex(this.util.bytesToString(await d.crypto.hash.sha384(this.util.mixedToUint8Array(r,!1)).catch(e=>{t(e)}))))}),this.hash.sha512=r=>new Promise(async(e,t)=>{null==r&&t("tEnvoy Fatal Error: argument mixed of method hash.sha512 is required and does not have a default value."),e(this.util.stringToHex(this.util.bytesToString(await d.crypto.hash.sha512(this.util.mixedToUint8Array(r,!1)).catch(e=>{t(e)}))))}),this.hash.md5=r=>new Promise(async(e,t)=>{null==r&&t("tEnvoy Fatal Error: argument mixed of method hash.md5 is required and does not have a default value."),e(this.util.stringToHex(this.util.bytesToString(await d.crypto.hash.md5(this.util.mixedToUint8Array(r,!1)).catch(e=>{t(e)}))))}),this.hash.ripemd160=r=>new Promise(async(e,t)=>{null==r&&t("tEnvoy Fatal Error: argument mixed of method hash.ripemd160 is required and does not have a default value."),e(this.util.stringToHex(this.util.bytesToString(await d.crypto.hash.ripemd(this.util.mixedToUint8Array(r,!1)).catch(e=>{t(e)}))))}),this.random={},this.random.bytes=(r=1)=>new Promise(async(e,t)=>{null==r&&(r=1),r=isNaN(parseInt(r))?0:parseInt(r),e(await d.crypto.random.getRandomBytes(r).catch(e=>{t(e)}))}),this.random.number=(n=0,a=1)=>new Promise(async(e,t)=>{null==n&&(n=0),n=isNaN(parseFloat(n))?0:parseFloat(n),null==a&&(a=0),a=isNaN(parseFloat(a))?0:parseFloat(a);var r=await this.random.bytes(4).catch(e=>{t(e)});e(new Uint32Array(r.buffer)[0]/4294967296*(a-n)+n)}),this.random.string=(a=10)=>new Promise(async(e,t)=>{null==a&&(a=10),a=isNaN(parseInt(a))?10:parseInt(a);let r="";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<a;e++)r+=n.charAt(Math.floor(await this.random.number(0,n.length-1).catch(e=>{t(e)})));e(r)}),this.random.words=(n=12)=>new Promise(async(e,t)=>{null==n&&(n=12),n=isNaN(parseInt(n))?12:parseInt(n);let r="";for(let e=0;e<n;e++)r+=this.wordsList[Math.floor(await this.random.number(0,2047).catch(e=>{t(e)}))],e+1!=n&&(r+=" ");e(r)}),this.keyFactory={},this.keyFactory.pbkdf2=(e,t,r=15e4,n=32)=>{if(null==e)throw"tEnvoy Fatal Error: argument password of method keyFactory.pbkdf2 is required and does not have a default value.";if(null==t)throw"tEnvoy Fatal Error: argument salt of method keyFactory.pbkdf2 is required and does not have a default value.";return null==r&&(r=15e4),r=isNaN(parseInt(r))?15e4:parseInt(r),null==n&&(n=32),n=isNaN(parseInt(n))?32:parseInt(n),e=this.util.mixedToUint8Array(e,!1),t=this.util.mixedToUint8Array(t,!1),a.pbkdf2(e,t,r,n)},this.keyFactory.genSeedFromCredentials=(e,t,r=15e4,n=32)=>(null==e&&reject("tEnvoy Fatal Error: argument username of method keyFactory.genSeedFromCredentials is required and does not have a default value."),null==t&&reject("tEnvoy Fatal Error: argument password of method keyFactory.genSeedFromCredentials is required and does not have a default value."),null==n&&(n=32),n=isNaN(parseInt(n))?32:parseInt(n),this.keyFactory.pbkdf2(t,e,r,n)),this.keyFactory.genPGPKeys=f=>new Promise(async(e,t)=>{null==(f=null==f?{}:f).passwordProtected&&(f.passwordProtected=[]);let r,n,a,i;if(null!=f.keyArmored){let e=new tEnvoyPGPKey(f.keyArmored,null,null,[],this);var s=e.getType();"private"==s?(a=await e.getPrivateArmored(f.password),i=await e.getPublicArmored(f.password)):"public"==s?i=await e.getPublicArmored(f.password):t("tEnvoy Fatal Error: argument key of object args of method keyFactory.genPGPKeys must either be public or private. For aes keys, use keyFactory.genPGPSymmetricKey instead."),e.destroy()}else{null==f.options&&(f.options={curve:"curve25519"}),null==f.users&&null==f.options.userIds&&(f.users=[{}]),null==f.users&&null!=f.options.userIds&&(f.users=f.options.userIds),null!=f.users&&null!=f.options.userIds&&(f.options.userIds=f.options.userIds.filter(t=>null==f.users.find(e=>e.name==t.name&&e.email==t.email&&e.comment==t.comment)),f.users=f.users.concat(f.options.userIds));for(let e=0;e<f.users.length;e++){var o=f.users[e].name||"",u=f.users[e].email||"",c=f.users[e].comment||"";f.users[e]={name:o,email:u,comment:c}}f.options.userIds=f.users;s=await d.generateKey(f.options).catch(e=>{t(e)});a=this.util.fixArmor(s.privateKeyArmored),i=this.util.fixArmor(s.publicKeyArmored)}var l;n=null==f.password?(null!=a&&(r=new tEnvoyPGPKey(a,"private",f.password,f.passwordProtected,this)),new tEnvoyPGPKey(i,"public",f.password,f.passwordProtected,this)):(null!=a&&(l=await d.encrypt({message:await d.message.fromText(a),passwords:[f.password]}).catch(e=>{t(e)}),r=new tEnvoyPGPKey(this.util.fixArmor(l.data),"private",f.password,f.passwordProtected,this)),l=await d.encrypt({message:await d.message.fromText(i),passwords:[f.password]}).catch(e=>{t(e)}),new tEnvoyPGPKey(this.util.fixArmor(l.data),"public",f.password,f.passwordProtected,this)),e({privateKey:r,publicKey:n})}),this.keyFactory.genPGPSymmetricKey=n=>new Promise(async(e,t)=>{var r;null==(n=null==n?{}:n).passwordProtected&&(n.passwordProtected=[]),null==n.key&&t("tEnvoy Fatal Error: argument key of object args of method keyFactory.genPGPSymmetricKey is required and does not have a default value."),null==n.password?e(new tEnvoyPGPKey(n.key,"aes",null,n.passwordProtected,this)):(r=await d.encrypt({message:await d.message.fromText(n.key),passwords:[n.password]}).catch(e=>{t(e)}),e(new tEnvoyPGPKey(this.util.fixArmor(r.data),"aes",n.password,n.passwordProtected,this)))}),this.keyFactory.genNaClKeys=t=>{null==(t=null==t?{}:t).passwordProtected&&(t.passwordProtected=[]);let e,r,n,a,i;if(null!=t.key||null!=t.backup){if(null==t.keyType)throw"tEnvoy Fatal Error: argument keyType of object args of method keyFactory.genNaClKeys is required when using either args.key or args.backup and does not have a default value.";if(null==t.key){let e=this.keyFactory.genNaClKeys({password:t.password,passwordProtected:t.passwordProtected})[t.keyType+"Key"];e.fromBackup(t.backup,t.password),t.keyType.startsWith("private")?t.key=e.getPrivate(t.password):t.key=e.getPublic(t.password)}if("private"==t.keyType)e=new tEnvoyNaClKey(t.key,"private",t.password,t.passwordProtected,this),r=e.toPublic();else if("public"==t.keyType)r=new tEnvoyNaClKey(t.key,"public",t.password,t.passwordProtected,this);else if("privateSigning"==t.keyType)n=new tEnvoyNaClSigningKey(t.key,"private",t.password,t.passwordProtected,this),a=n.toPublic();else{if("publicSigning"!=t.keyType)throw"tEnvoy Fatal Error: argument keyType of object args of method keyFactory.genNaClKeys must either be private, public, privateSigning, or publicSigning. For secret (or shared) keys, use keyFactory.genNaClSymmetricKey instead.";a=new tEnvoyNaClSigningKey(t.key,"public",t.password,t.passwordProtected,this)}}else i=null==t.seed?u.box.keyPair():u.box.keyPair.fromSecretKey(t.seed),e=new tEnvoyNaClKey(i.secretKey,"private",t.password,t.passwordProtected,this),r=new tEnvoyNaClKey(i.publicKey,"public",t.password,t.passwordProtected,this);return null!=e&&(t=e.genSigningKeys(t.password),n=t.privateKey,a=t.publicKey),{privateKey:e,publicKey:r,privateSigningKey:n,publicSigningKey:a}},this.keyFactory.genNaClSymmetricKey=e=>{if(null==(e=null==e?{}:e).passwordProtected&&(e.passwordProtected=[]),null==e.key)throw"tEnvoy Fatal Error: argument key of object args of method keyFactory.genNaClSymmetricKey is required and does not have a default value.";return new tEnvoyNaClKey(e.key,"secret",e.password,e.passwordProtected,this)}}function tEnvoyPGPKey(a,e="aes",r=null,n=[],t=TogaTech.tEnvoy){let i,s,o,u,c,l,f,d;let h=t,p=h.core.openpgp;if(this.destroy=(e=null)=>{e=c("destroy",e);if(!e.proceed)throw e.error;if(null!=i)for(let e=0;e<i.length;e++)i[e]=0;if(null!=s)for(let e=0;e<s.length;e++)s[e]=0;for(method in this)delete this[method]},this.toString=()=>`[tEnvoyPGPKey ${u}]`,this.getType=()=>u,this.getPasswordProtected=()=>h.util.arrayDeepCopy(o),this.setPasswordProtected=(r,e=null)=>{e=c("setPasswordProtected",e);if(!e.proceed)throw e.error;{o=[];let t=[];"private"==u?t=["destroy","getId","getPublic","encrypt","decrypt","sign","verify"]:"public"==u?t=["destroy","getId","encrypt","verify"]:"aes"==u&&(t=["destroy","encrypt","decrypt"]),null==r&&(r=[]);for(let e=0;e<r.length;e++)t.includes(r[e])&&o.push(r[e])}},this.getId=(n=null)=>new Promise(async(t,e)=>{if("private"==u||"public"==u){var r=c("getId",n);if(r.proceed){let e=await this.getPublic(d());t(e.getKeyId().toHex())}else e(r.error)}else e("tEnvoyPGPKey Fatal Error: Key does not have an asymmetric component.")}),this.getKey=(n=null)=>new Promise(async(e,t)=>{var r;"aes"==u?null==d()?e(l()):(r=c("getKey",n)).proceed?e((await p.decrypt({message:await p.message.readArmored(l()),passwords:[d()]}).catch(e=>{t(e)})).data):t(r.error):t("tEnvoyPGPKey Fatal Error: Key does not have a symmetric component.")}),this.getPrivate=(n=null)=>new Promise(async(e,t)=>{var r=await this.getPrivateArmored(n).catch(e=>{t(e)});e((await p.key.readArmored(r).catch(e=>{t(e)})).keys[0])}),this.setPrivate=(r,n=null)=>new Promise(async(e,t)=>{await this.setPrivateArmored(r.armor(),n).catch(e=>{t(e)}),e()}),this.getPrivateArmored=(n=null)=>new Promise(async(e,t)=>{var r;"private"==u?null==d()?e(l()):(r=c("getPrivate",n)).proceed?e((await p.decrypt({message:await p.message.readArmored(a),passwords:[d()]}).catch(e=>{t(e)})).data):t(r.error):t("tEnvoyPGPKey Fatal Error: Key does not have a private component.")}),this.setPrivateArmored=(a,i=null)=>new Promise(async(e,t)=>{var r,n;"private"==u?(null==a&&t("tEnvoyPGPKey Fatal Error: argument keyArmored of method setPrivateArmored is required and does not have a default value."),a=h.util.fixArmor(a),null==d()?(f(a),e()):(r=c("setPrivate",i)).proceed?(n=await p.encrypt({message:await p.message.fromText(a),passwords:[d()]}).catch(e=>{t(e)}),f(h.util.fixArmor(n.data)),e()):t(r.error)):t("tEnvoyPGPKey Fatal Error: Key does not have a private component.")}),this.getPublic=(n=null)=>new Promise(async(t,r)=>{var e=c("getPublic",n);if(e.proceed)if("private"==u){let e=await this.getPrivate(d());t(e.toPublic())}else if("public"==u){let e;e=null==d()?l():(await p.decrypt({message:await p.message.readArmored(l()),passwords:[d()]}).catch(e=>{r(e)})).data,t((await p.key.readArmored(e).catch(e=>{r(e)})).keys[0])}else r("tEnvoyPGPKey Fatal Error: Key does not have a public component.");else r(e.error)}),this.setPublic=(a,i=null)=>new Promise(async(e,t)=>{var r,n=c("setPublic",i);n.proceed?"public"==u?(null==d()?f(h.util.fixArmor(a.armor())):(r=await p.encrypt({message:await p.message.fromText(a.armor()),passwords:[d()]}).catch(e=>{t(e)}),f(h.util.fixArmor(r.data))),e()):"private"==u?t("tEnvoyPGPKey Fatal Error: Key has a public component that depends on the private component."):t("tEnvoyPGPKey Fatal Error: Key does not have a public component."):t(n.error)}),this.getPublicArmored=(n=null)=>new Promise(async(e,t)=>{let r=await this.getPublic(n).catch(e=>{t(e)});e(h.util.fixArmor(r.armor()))}),this.setPublicArmored=(n,a=null)=>new Promise(async(e,t)=>{var r;null==n?t("tEnvoyPGPKey Fatal Error: argument keyArmored of method setPublicArmored is required and does not have a default value."):(n=h.util.fixArmor(n),r=await p.key.readArmored(n).catch(e=>{t(e)}),await this.setPublic(r.keys[0],a),e())}),this.encrypt=(a,e=null)=>new Promise(async(r,n)=>{if(c("encrypt",e).proceed){let e,t;t="aes"==u?(e=await this.getKey(d()).catch(e=>{n(e)}),await p.encrypt({message:await p.message.fromText(a),passwords:[e]}).catch(e=>{n(e)})):(e=await this.getPublic(d()).catch(e=>{n(e)}),await p.encrypt({message:p.message.fromText(a),publicKeys:e}).catch(e=>{n(e)})),r(h.util.fixArmor(t.data))}}),this.decrypt=(a,t=null)=>new Promise(async(r,n)=>{var e=c("decrypt",t);if(e.proceed){a=h.util.fixArmor(a);let e,t;t="aes"==u?(e=await this.getKey(d()).catch(e=>{n(e)}),await p.decrypt({message:await p.message.readArmored(a),passwords:[e]}).catch(e=>{n(e)})):(e=await this.getPrivate(d()).catch(e=>{n(e)}),await p.decrypt({message:await p.message.readArmored(a),privateKeys:e}).catch(e=>{n(e)})),r(t.data)}else n(e.error)}),this.sign=(a,i=null)=>new Promise(async(e,t)=>{var r,n=c("sign",i);n.proceed?"aes"==u?t("tEnvoyPGPKey Fatal Error: Key does not have an asymmetric component."):(r=await this.getPrivate(d()),r=await p.sign({message:await p.cleartext.fromText(a),privateKeys:r}),e(h.util.fixArmor(r.data))):t(n.error)}),this.verify=(a,i=null)=>new Promise(async(t,e)=>{var r,n=c("verify",i);if(n.proceed)if(a=h.util.fixArmor(a),"aes"==u)e("tEnvoyPGPKey Fatal Error: Key does not have an asymmetric component.");else{r=await this.getPublic(d());let e=await p.verify({message:await p.cleartext.readArmored(a),publicKeys:r});e.signatures[0]&&e.signatures[0].valid?t({verified:!0,keyid:e.signatures[0].keyid.toHex(),signatures:e.signatures,content:a.split("\n")[3]}):t({verified:!1})}else e(n.error)}),this.toPublic=(r=null)=>new Promise(async(e,t)=>{e(new tEnvoyPGPKey(await this.getPublicArmored(r),"public",d(),o,h))}),0==a.indexOf("-----BEGIN PGP PRIVATE KEY BLOCK-----")?(u="private",a=h.util.fixArmor(a)):0==a.indexOf("-----BEGIN PGP PUBLIC KEY BLOCK-----")?(u="public",a=h.util.fixArmor(a)):0==a.indexOf("-----BEGIN PGP MESSAGE-----")?(u=e||"aes",a=h.util.fixArmor(a)):u="aes",!["public","private","aes"].includes(u))throw"tEnvoyPGPKey Fatal Error: argument type of method constructor is invalid.";{l=()=>h.util.unpack(i),f=e=>{i=h.util.pack(e)},d=()=>h.util.unpack(s),(e=>{s=h.util.pack(e)})(r),f(a),o=[];let t=[];"private"==u?t=["destroy","getId","getPublic","encrypt","decrypt","sign","verify"]:"public"==u?t=["destroy","getId","encrypt","verify"]:"aes"==u&&(t=["destroy","encrypt","decrypt"]),null==n&&(n=[]);for(let e=0;e<n.length;e++)t.includes(n[e])&&o.push(n[e]);c=(t,r)=>{if(null==d())return{proceed:!0};{let e;return"private"==u?e=["getPrivate","setPrivate","setPasswordProtected"]:"public"==u?e=["getPublic","setPublic","setPasswordProtected"]:"aes"==u&&(e=["getKey"]),e.includes(t)||o.includes(t)?null==r?{proceed:!1,error:"tEnvoyPGPKey Fatal Error: Key is password-protected for method "+t+", and no password was specified."}:h.util.compareConstant(r,d())?{proceed:!0}:{proceed:!1,error:"tEnvoyPGPKey Fatal Error: Key is password-protected for method "+t+", and an incorrect password was specified."}:{proceed:!0}}},"aes"!=u&&this.getPublic(d())}}function tEnvoyNaClKey(r,e="secret",n=null,a=[],t=TogaTech.tEnvoy){let i,s,o,u,d,h,c,l,p;let y=t,f=y.core.nacl;if(this.destroy=(e=null)=>{e=h("destroy",e);if(!e.proceed)throw e.error;if(null!=i)for(let e=0;e<i.length;e++)i[e]=0;if(null!=o)for(let e=0;e<o.length;e++)o[e]=0;for(method in this)delete this[method]},this.toString=()=>`[tEnvoyNaClKey ${d}]`,this.getType=()=>d,this.getPasswordProtected=()=>y.util.arrayDeepCopy(u),this.setPasswordProtected=(r,e=null)=>{e=h("setPasswordProtected",e);if(!e.proceed)throw e.error;{u=[];let t=[];"private"==d||"shared"==d||"secret"==d?t=["destroy","getPublic","encrypt","decrypt","encryptEphemeral","decryptEphemeral","genSigningKey","genSharedKey","sign","verify"]:"public"==d&&(t=["destroy","encrypt","genSharedKey","verify"]),null==r&&(r=[]);for(let e=0;e<r.length;e++)t.includes(r[e])&&u.push(r[e])}},this.getPrivate=(t=null)=>{var e=h("getPrivate",t);if(e.proceed){if("private"!=d&&"secret"!=d&&"shared"!=d)throw"tEnvoyNaClKey Fatal Error: Key does not have a private, secret, or shared component.";if(null==p())return c()instanceof Array||c()instanceof Uint8Array?y.util.arrayDeepCopy(c()):c();{let e=new tEnvoyNaClKey(p(),"secret",null,[],y);t=e.decrypt(c());if(e.destroy(),y.util.bytesToHex(t.nonce)==y.util.bytesToHex(s))return t.message;throw"tEnvoyNaClKey Fatal Error: The encrypted key was tampered with, and the nonce is invalid."}}throw e.error},this.setPrivate=(t,e=null)=>{e=h("setPrivate",e);if(!e.proceed)throw e.error;if(null==t)throw"tEnvoyNaClKey Fatal Error: argument privateKey of method setPrivate is required and does not have a default value.";if((t=y.util.mixedToUint8Array(t,!1)).length!=nacl.box.secretKeyLength)throw"tEnvoyNaClKey Fatal Error: argument privateKey of method setPrivate is invalid, length should be "+nacl.box.secretKeyLength+" (was "+t.length+").";if("private"!=d&&"secret"!=d&&"shared"!=d)throw"tEnvoyNaClKey Fatal Error: Key does not have a private, secret, or shared component.";if(null==p())l(t);else{s=f.randomBytes(12);let e=new tEnvoyNaClKey(p(),"secret",null,[],y);l(e.encrypt(t,s)),e.destroy()}},this.getPublic=(t=null)=>{var e=h("getPublic",t);if(e.proceed){if("private"==d)return f.box.keyPair.fromSecretKey(this.getPrivate(p())).publicKey;if("public"!=d)throw"tEnvoyNaClKey Fatal Error: Key does not have a public component.";if(null==p())return y.util.arrayDeepCopy(c());{let e=new tEnvoyNaClKey(p(),"secret",null,[],y);t=e.decrypt(c());if(e.destroy(),y.util.bytesToHex(t.nonce)==y.util.bytesToHex(s))return t.message;throw"tEnvoyNaClKey Fatal Error: The encrypted key was tampered with, and the nonce is invalid."}}throw e.error},this.setPublic=(t,e=null)=>{e=h("setPublic",e);if(!e.proceed)throw e.error;if(null==t)throw"tEnvoyNaClKey Fatal Error: argument publicKey of method setPublic is required and does not have a default value.";if((t=y.util.mixedToUint8Array(t,!1)).length!=nacl.box.publicKeyLength)throw"tEnvoyNaClKey Fatal Error: argument publicKey of method setPublic is invalid, length should be "+nacl.box.publicKeyLength+" (was "+t.length+").";if("private"==d)throw"tEnvoyNaClKey Fatal Error: Key has a public component that depends on the private component.";if("public"!=d)throw"tEnvoyNaClKey Fatal Error: Key does not have a public component.";if(null==p())l(t);else{s=f.randomBytes(12);let e=new tEnvoyNaClKey(p(),"secret",null,[],y);l(e.encrypt(t,s)),e.destroy()}},this.backup=(e=null)=>{e=h("getPrivate",e);if(e.proceed){let a;if("private"==d)a=this.getPrivate(p());else{if("public"!=d)throw"tEnvoyNaClKey Fatal Error: Only private and public keys can be converted into a backup.";a=this.getPublic(p())}if(a instanceof Uint8Array){keyArray=new Array(a.length);for(let e=0;e<a.length;e++)keyArray[e]=a[e];let t=[];for(;0<keyArray.length;)t.push(keyArray.splice(0,4));let r=[];for(let e=0;e<t.length;e++){var i=t[e],i=i[0]+255*i[1]+255*i[2]*255+255*i[3]*255*255;r.push(Math.floor(i/4194304)),i-=4194304*Math.floor(i/4194304),r.push(Math.floor(i/2048)),i-=2048*Math.floor(i/2048),r.push(i)}let n=[];for(let e=0;e<r.length;e++)n.push(y.wordsList[r[e]]);return n.join(" ")}throw"tEnvoyNaClKey Fatal Error: The key is invalid and therefore cannot be converted into a backup. The key must be of type Uint8Array."}throw e.error},this.fromBackup=(o,e=null)=>{e=h("setPrivate",e);if(!e.proceed)throw e.error;if(null==o)throw"tEnvoyNaClKey Fatal Error: argument backup of method fromBackup is required and does not have a default value.";{let r=o.split(" "),e=[];for(let t=0;t<r.length;t++){var u=y.wordsList.findIndex(e=>e==r[t]);if(!(-1<u))throw"tEnvoyNaClKey Fatal Error: argument backup of method fromBackup is invalid.";e.push(u)}let t=[];for(;0<e.length;)t.push(e.splice(0,3));let n=[];for(let e=0;e<t.length;e++){var c=t[e],c=4194304*c[0]+2048*c[1]+c[2];n.push(c)}let a=[];for(let t=0;t<n.length;t++){var l=n[t];let e=new Array(4);e[3]=Math.floor(l/16581375),l-=16581375*e[3],e[2]=Math.floor(l/65025),l-=65025*e[2],e[1]=Math.floor(l/255),l-=255*e[1],e[0]=l,a.push(e)}let i=[];for(let e=0;e<a.length;e++){var f=a[e];for(let e=0;e<f.length;e++)i.push(f[e])}let s=new Uint8Array(i.length);for(let e=0;e<i.length;e++)s[e]=i[e];if("private"==d)this.setPrivate(s,p());else{if("public"!=d)throw"tEnvoyNaClKey Fatal Error: Only private and public keys can be loaded from a backup.";this.setPublic(s,p())}}},this.encrypt=(e,t,r=null)=>{var n=h("encrypt",r);if(n.proceed){if(null==e)throw"tEnvoyNaClKey Fatal Error: argument message of method encrypt is required and does not have a default value.";if(null==t)throw"tEnvoyNaClKey Fatal Error: argument nonce of method encrypt is required and does not have a default value.";var a=y.util.pack(e).length,r=f.randomBytes(1)[0]%16,a=32+32*parseInt(a/32);a+=r,e=y.util.pack(e,a);a=y.util.pack(t);if("shared"==d){if(a.length>f.box.nonceLength)throw"tEnvoyNaClKey Fatal Error: Nonce is too long, ensure that nonce length is under "+f.box.nonceLength+" (was "+a.length+").";t=y.util.pack(t,f.box.nonceLength)}else if("secret"==d){if(a.length>f.secretbox.nonceLength)throw"tEnvoyNaClKey Fatal Error: Nonce is too long, ensure that nonce length is under "+f.secretbox.nonceLength+" (was "+a.length+").";t=y.util.pack(t,f.secretbox.nonceLength)}if("shared"==d)return y.util.bytesToHex(t)+"::"+y.util.bytesToHex(f.box.after(e,t,this.getPrivate(p())));if("secret"==d)return y.util.bytesToHex(t)+"::"+y.util.bytesToHex(f.secretbox(e,t,y.util.pack(this.getPrivate(p()),32)));throw"tEnvoyNaClKey Fatal Error: Key cannot be used for encryption, only secret or shared keys can be used to encrypt."}throw n.error},this.decrypt=(e,t=null)=>{var r=h("decrypt",t);if(r.proceed){if(null==e)throw"tEnvoyNaClKey Fatal Error: argument encrypted of method decrypt is required and does not have a default value.";if(2!=e.split("::").length)throw"tEnvoyNaClKey Fatal Error: Invalid encrypted message.";var n=y.util.mixedToUint8Array(y.util.hexToBytes(e.split("::")[0]),!1),t=y.util.hexToBytes(e.split("::")[1]);if("shared"==d)return{message:y.util.unpack(f.box.open.after(t,n,this.getPrivate(p()))),nonce:y.util.unpack(y.util.hexToBytes(e.split("::")[0]))};if("secret"==d)return{message:y.util.unpack(f.secretbox.open(t,n,y.util.pack(this.getPrivate(p()),32))),nonce:y.util.unpack(y.util.hexToBytes(e.split("::")[0]))};throw"tEnvoyNaClKey Fatal Error: Key cannot be used for decryption, only secret or shared keys can be used to decrypt."}throw r.error},this.encryptEphemeral=(r,n,e=null)=>{e=h("encryptEphemeral",e);if(!e.proceed)throw e.error;{let t=y.keyFactory.genNaClKeys({password:p(),passwordProtected:u});if("public"==d){let e=this.genSharedKey(t.privateKey,p(),p());return e.encrypt(r,n,p())+"::"+y.util.bytesToHex(t.publicKey.getPublic(p()))}if("private"!=d)throw"tEnvoyNaClKey Fatal Error: Key cannot be used for ephemeral encryption, only public or private keys can be used to encrypt ephemerally.";{let e=this.toPublic(p()).genSharedKey(t.privateKey,p(),p());return e.encrypt(r,n,p())+"::"+y.util.bytesToHex(t.publicKey.getPublic(p()))}}},this.decryptEphemeral=(e,r=null)=>{var t=h("decryptEphemeral",r);if(t.proceed){if(null==e)throw"tEnvoyNaClKey Fatal Error: argument encryptedEphemeral of method decryptEphemeral is required and does not have a default value.";if(3!=e.split("::").length)throw"tEnvoyNaClKey Fatal Error: Invalid ephemeral encrypted message.";r=e.split("::").slice(0,2).join("::");let t=new tEnvoyNaClKey(y.util.hexToBytes(e.split("::")[2]),"public",p(),u,y);if("private"!=d)throw t.destroy(),"tEnvoyNaClKey Fatal Error: Key cannot be used for ephemeral decryption, only private keys can be used to decrypt ephemerally.";{let e=this.genSharedKey(t,p(),p());return t.destroy(),e.decrypt(r)}}throw t.error},this.genSigningKeys=(e=null)=>{var t=h("genSigningKey",e);if(t.proceed){if("secret"==d)throw"tEnvoyNaClKey Fatal Error: Secret key cannot be used to generate signing keys.";e=f.sign.keyPair.fromSeed(this.getPrivate(p()));return{privateKey:new tEnvoyNaClSigningKey(e.secretKey,"private",p(),u,y),publicKey:new tEnvoyNaClSigningKey(e.publicKey,"public",p(),u,y)}}throw t.error},this.genSharedKey=(e,t=null,r=null)=>{r=h("genSharedKey",r);if(r.proceed){if(null==e)throw"tEnvoyNaClKey Fatal Error: argument otherKey of method genSharedKey is required and does not have a default value.";if(e instanceof tEnvoyNaClKey){if("public"==d&&"private"==e.getType())return new tEnvoyNaClKey(f.box.before(this.getPublic(p()),e.getPrivate(t)),"shared",p(),u,y);if("private"!=d||"public"!=e.getType())throw"tEnvoyNaClKey Fatal Error: Incompatible key types, one key should be public, and the other should be private.";return new tEnvoyNaClKey(f.box.before(e.getPublic(t),this.getPrivate(p())),"shared",p(),u,y)}throw"tEnvoyNaClKey Fatal Error: Incompatible key types, both keys should be of type tEnvoyNaClKey."}throw r.error},this.toPublic=(e=null)=>new tEnvoyNaClKey(this.getPublic(e),"public",p(),u,y),!["public","private","secret","shared"].includes(e))throw"tEnvoyNaClKey Fatal Error: argument type of method constructor is invalid.";{if(c=()=>y.util.unpack(i),l=e=>{i=y.util.pack(e)},p=()=>y.util.unpack(o),(e=>{o=y.util.pack(e)})(n),"secret"==d&&(r=y.util.pack(r,32)),null==n)l(r);else{s=f.randomBytes(12);let e=new tEnvoyNaClKey(n,"secret",null,[],y);l(e.encrypt(r,s)),e.destroy()}d=e,u=[];let t=[];"private"==d||"shared"==d||"secret"==d?t=["destroy","getPublic","encrypt","decrypt","encryptEphemeral","decryptEphemeral","genSigningKey","genSharedKey","sign","verify"]:"public"==d&&(t=["destroy","encrypt","genSharedKey","verify"]),null==a&&(a=[]);for(let e=0;e<a.length;e++)t.includes(a[e])&&u.push(a[e]);h=(t,r=null)=>{if(null==p())return{proceed:!0};{let e;return"private"==d||"shared"==d||"secret"==d?e=["getPrivate","setPrivate","setPasswordProtected"]:"public"==d&&(e=["getPublic","setPublic","setPasswordProtected"]),e.includes(t)||u.includes(t)?null==r?{proceed:!1,error:"tEnvoyNaClKey Fatal Error: Key is password-protected for method "+t+", and no password was specified"}:y.util.compareConstant(r,p())?{proceed:!0}:{proceed:!1,error:"tEnvoyNaClKey Fatal Error: Key is password-protected for method "+t+", and an incorrect password was specified."}:{proceed:!0}}}}}function tEnvoyNaClSigningKey(r,e="secret",n=null,a=[],t=TogaTech.tEnvoy){let i,s,o,u,d,h,c,l,p;let y=t,f=y.core.nacl;if(this.destroy=(e=null)=>{e=h("destroy",e);if(!e.proceed)throw e.error;if(null!=i)for(let e=0;e<i.length;e++)i[e]=0;if(null!=o)for(let e=0;e<o.length;e++)o[e]=0;for(method in this)delete this[method]},this.toString=()=>`[tEnvoyNaClSigningKey ${d}]`,this.getType=()=>d,this.getPasswordProtected=()=>y.util.arrayDeepCopy(u),this.setPasswordProtected=(r,e=null)=>{e=h("setPasswordProtected",e);if(!e.proceed)throw e.error;{u=[];let t=[];"private"==d?t=["destroy","getPublic","sign","verify"]:"public"==d&&(t=["destroy","verify"]),null==r&&(r=[]);for(let e=0;e<r.length;e++)t.includes(r[e])&&u.push(r[e])}},this.getPrivate=(t=null)=>{var e=h("getPrivate",t);if(e.proceed){if("private"!=d)throw"tEnvoyNaClSigningKey Fatal Error: Key does not have a private component.";if(null==p())return y.util.arrayDeepCopy(c());{let e=new tEnvoyNaClKey(p(),"secret",null,[],y);t=e.decrypt(c());if(e.destroy(),y.util.bytesToHex(t.nonce)==y.util.bytesToHex(s))return t.message;throw"tEnvoyNaClSigningKey Fatal Error: The encrypted key was tampered with, and the nonce is invalid."}}throw e.error},this.setPrivate=(t,e=null)=>{e=h("setPrivate",e);if(!e.proceed)throw e.error;if(null==t)throw"tEnvoyNaClSigningKey Fatal Error: argument privateKey of method setPrivate is required and does not have a default value.";if((t=y.util.mixedToUint8Array(t,!1)).length!=nacl.sign.secretKeyLength)throw"tEnvoyNaClSigningKey Fatal Error: argument privateKey of method setPrivate is invalid, length should be "+nacl.sign.secretKeyLength+" (was "+t.length+").";if("private"!=d)throw"tEnvoyNaClSigningKey Fatal Error: Key does not have a private component.";if(null==p())l(t);else{s=f.randomBytes(12);let e=new tEnvoyNaClKey(p(),"secret",null,[],y);l(e.encrypt(t,s)),e.destroy()}},this.getPublic=(t=null)=>{var e=h("getPublic",t);if(e.proceed){if("private"==d)return f.sign.keyPair.fromSecretKey(this.getPrivate(p())).publicKey;if("public"!=d)throw"tEnvoyNaClSigningKey Fatal Error: Key does not have a public component.";if(null==p())return y.util.arrayDeepCopy(c());{let e=new tEnvoyNaClKey(p(),"secret",null,[],y);t=e.decrypt(c());if(e.destroy(),y.util.bytesToHex(t.nonce)==y.util.bytesToHex(s))return t.message;throw"tEnvoyNaClSigningKey Fatal Error: The encrypted key was tampered with, and the nonce is invalid."}}throw e.error},this.setPublic=(t,e=null)=>{e=h("setPublic",e);if(!e.proceed)throw e.error;if(null==t)throw"tEnvoyNaClSigningKey Fatal Error: argument publicKey of method setPublic is required and does not have a default value.";if((t=y.util.mixedToUint8Array(t,!1)).length!=nacl.sign.publicKeyLength)throw"tEnvoyNaClSigningKey Fatal Error: argument publicKey of method setPublic is invalid, length should be "+nacl.sign.publicKeyLength+" (was "+t.length+").";if("private"==d)throw"tEnvoyNaClSigningKey Fatal Error: Key has a public component that depends on the private component.";if("public"!=d)throw"tEnvoyNaClSigningKey Fatal Error: Key does not have a public component.";if(null==p())l(t);else{s=f.randomBytes(12);let e=new tEnvoyNaClKey(p(),"secret",null,[],y);l(e.encrypt(t,s)),e.destroy()}},this.backup=(e=null)=>{e=h("getPrivate",e);if(e.proceed){let a;if("private"==d)a=this.getPrivate(p());else{if("public"!=d)throw"tEnvoyNaClSigningKey Fatal Error: Only private and public keys can be converted into a backup.";a=this.getPublic(p())}if(a instanceof Uint8Array){keyArray=new Array(a.length);for(let e=0;e<a.length;e++)keyArray[e]=a[e];let t=[];for(;0<keyArray.length;)t.push(keyArray.splice(0,4));let r=[];for(let e=0;e<t.length;e++){var i=t[e],i=i[0]+255*i[1]+255*i[2]*255+255*i[3]*255*255;r.push(Math.floor(i/4194304)),i-=4194304*Math.floor(i/4194304),r.push(Math.floor(i/2048)),i-=2048*Math.floor(i/2048),r.push(i)}let n=[];for(let e=0;e<r.length;e++)n.push(y.wordsList[r[e]]);return n.join(" ")}throw"tEnvoyNaClSigningKey Fatal Error: The key is invalid and therefore cannot be converted into a backup. The key must be of type Uint8Array."}throw e.error},this.fromBackup=(o,e=null)=>{e=h("setPrivate",e);if(!e.proceed)throw e.error;if(null==o)throw"tEnvoyNaClSigningKey Fatal Error: argument backup of method fromBackup is required and does not have a default value.";{let r=o.split(" "),e=[];for(let t=0;t<r.length;t++){var u=y.wordsList.findIndex(e=>e==r[t]);if(!(-1<u))throw"tEnvoyNaClSigningKey Fatal Error: argument backup of method fromBackup is invalid.";e.push(u)}let t=[];for(;0<e.length;)t.push(e.splice(0,3));let n=[];for(let e=0;e<t.length;e++){var c=t[e],c=4194304*c[0]+2048*c[1]+c[2];n.push(c)}let a=[];for(let t=0;t<n.length;t++){var l=n[t];let e=new Array(4);e[3]=Math.floor(l/16581375),l-=16581375*e[3],e[2]=Math.floor(l/65025),l-=65025*e[2],e[1]=Math.floor(l/255),l-=255*e[1],e[0]=l,a.push(e)}let i=[];for(let e=0;e<a.length;e++){var f=a[e];for(let e=0;e<f.length;e++)i.push(f[e])}let s=new Uint8Array(i.length);for(let e=0;e<i.length;e++)s[e]=i[e];if("private"==d)this.setPrivate(s,p());else{if("public"!=d)throw"tEnvoyNaClSigningKey Fatal Error: Only private and public keys can be loaded from a backup.";this.setPublic(s,p())}}},this.sign=(e,t=null)=>{var r=h("sign",t);if(r.proceed){if(null==e)throw"tEnvoyNaClSigningKey Fatal Error: argument message of method sign is required and does not have a default value.";if("private"!=d)throw"tEnvoyNaClSigningKey Fatal Error: Key does not have a private component.";e=y.util.pack(e);t=y.util.bytesToHex(f.hash(e));return{signature:t+"::"+y.util.bytesToHex(f.sign.detached(f.hash(e),this.getPrivate(p()))),hash:t}}throw r.error},this.verify=(e,t=null)=>{var r=h("verify",t);if(r.proceed){if(null==e)throw"tEnvoyNaClSigningKey Fatal Error: argument signed of method verify is required and does not have a default value.";if(2!=e.split("::").length)throw"tEnvoyNaClSigningKey Fatal Error: Invalid signature.";var n=y.util.hexToBytes(e.split("::")[0]),t=y.util.hexToBytes(e.split("::")[1]);return{verified:f.sign.detached.verify(n,t,this.getPublic(p())),hash:e.split("::")[0]}}throw r.error},this.verifyWithMessage=(e,t,r=null)=>{if(null==e)throw"tEnvoyNaClSigningKey Fatal Error: argument signed of method verifyWithMessage is required and does not have a default value.";if(null==t)throw"tEnvoyNaClSigningKey Fatal Error: argument message of method verifyWithMessage is required and does not have a default value.";if(2!=e.split("::").length)throw"tEnvoyNaClSigningKey Fatal Error: Invalid signature.";var n=y.util.hexToBytes(e.split("::")[0]);return this.verify(e,r).verified&&y.util.bytesToHex(f.hash(y.util.pack(t)))==y.util.bytesToHex(n)},this.toPublic=(e=null)=>new tEnvoyNaClSigningKey(this.getPublic(e),"public",p(),u,y),!["public","private"].includes(e))throw"tEnvoyNaClSigningKey Fatal Error: argument type of method constructor is invalid.";{if(c=()=>y.util.unpack(i),l=e=>{i=y.util.pack(e)},p=()=>y.util.unpack(o),(e=>{o=y.util.pack(e)})(n),null==n)l(r);else{s=f.randomBytes(12);let e=new tEnvoyNaClKey(n,"secret",null,[],y);l(e.encrypt(r,s)),e.destroy()}d=e,u=[];let t=[];"private"==d?t=["destroy","getPublic","sign","verify"]:"public"==d&&(t=["destroy","verify"]),null==a&&(a=[]);for(let e=0;e<a.length;e++)t.includes(a[e])&&u.push(a[e]);h=(t,r=null)=>{if(null==p())return{proceed:!0};{let e;return"private"==d?e=["getPrivate","setPrivate","setPasswordProtected"]:"public"==d&&(e=["getPublic","setPublic","setPasswordProtected"]),e.includes(t)||u.includes(t)?null==r?{proceed:!1,error:"tEnvoyNaClSigningKey Fatal Error: Key is password-protected for method "+t+", and no password was specified."}:y.util.compareConstant(r,p())?{proceed:!0}:{proceed:!1,error:"tEnvoyNaClSigningKey Fatal Error: Key is password-protected for method "+t+", and an incorrect password was specified."}:{proceed:!0}}}}}!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).openpgp=e()}(function(){return function n(a,i,s){function o(t,e){if(!i[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},a[t][0].call(r.exports,function(e){return o(a[t][1][e]||e)},r,r.exports,n,a,i,s)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)o(s[e]);return o}({1:[function(e,t,r){!function(zt){"use strict";var e;e=void 0,function(e){const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`,r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==zt?zt:void 0,n=Number.isNaN||function(e){return e!=e};function a(e){return"object"==typeof e&&null!==e||"function"==typeof e}function i(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function h(e){return e.slice()}function s(e){return!1!=("number"==typeof(t=e)&&(!n(t)&&!(t<0)))&&e!==1/0;var t}function o(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function p(t,e,r,n){const a=t[e];if(void 0!==a){if("function"!=typeof a)throw new TypeError(`${a} is not a method`);switch(r){case 0:return()=>b(a,t,n);case 1:return e=>{e=[e].concat(n);return b(a,t,e)}}}return()=>Promise.resolve()}function y(e,t,r){t=e[t];if(void 0!==t)return o(t,e,r)}function b(e,t,r){try{return Promise.resolve(o(e,t,r))}catch(e){return Promise.reject(e)}}function m(e){if(e=Number(e),n(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function g(t){if(void 0===t)return()=>1;if("function"!=typeof t)throw new TypeError("size property of a queuing strategy must be a function");return e=>t(e)}function _(e,l,r){let f,d;var t=new Promise((e,t)=>{f=e,d=t});return void 0===r&&(r=e=>{throw e}),function(t,r){let n=!1;var e,a,i=e=>{!1===n&&(n=!0,r(e))};let s=0,o=0;const u=t.length,c=new Array(u);for(const r of t){const t=s;e=r,a=e=>{c[t]=e,++o===u&&(e=>{try{const t=l(e);f(t)}catch(e){d(e)}})(c)},Promise.prototype.then.call(e,a,i),++s}}(e,e=>{try{var t=r(e);f(t)}catch(e){d(e)}}),t}function u(e){}function k(e){e&&e instanceof u.AssertionError&&setTimeout(()=>{throw e},0)}function c(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function l(e,t,r){if(!s(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function f(e){e._queue=[],e._queueTotalSize=0}u.AssertionError=function(){};const d=t("[[AbortSteps]]"),w=t("[[ErrorSteps]]");class v{constructor(e={},t={}){S(this);var r=t.size;let n=t.highWaterMark;if(void 0!==e.type)throw new RangeError("Invalid type is specified");r=g(r);void 0===n&&(n=1),function(e,t,r,n){const a=Object.create(N.prototype);var i=p(t,"write",1,[a]),s=p(t,"close",0,[]),o=p(t,"abort",1,[]);F(e,a,function(){return y(t,"start",[a])},i,s,o,r,n)}(this,e,n=m(n),r)}get locked(){if(!1===E(this))throw V("locked");return P(this)}abort(e){return!1===E(this)?Promise.reject(V("abort")):!0===P(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):x(this,e)}getWriter(){if(!1===E(this))throw V("getWriter");return A(this)}}function A(e){return new R(e)}function S(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=[],e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function E(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function P(e){return void 0!==e._writer}function x(r,n){var e=r._state;if("closed"===e||"errored"===e)return Promise.resolve(void 0);if(void 0!==r._pendingAbortRequest)return r._pendingAbortRequest._promise;let a=!1;"erroring"===e&&(a=!0,n=void 0);e=new Promise((e,t)=>{r._pendingAbortRequest={_promise:void 0,_resolve:e,_reject:t,_reason:n,_wasAlreadyErroring:a}});return r._pendingAbortRequest._promise=e,!1===a&&K(r,n),e}function M(e,t){"writable"!==e._state?C(e):K(e,t)}function K(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&O(n,t),!1==(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&!0===r._started&&C(e)}function C(t){t._state="errored",t._writableStreamController[w]();var e=t._storedError;for(const r of t._writeRequests)r._reject(e);if(t._writeRequests=[],void 0!==t._pendingAbortRequest){const r=t._pendingAbortRequest;if(!(t._pendingAbortRequest=void 0)===r._wasAlreadyErroring)return r._reject(e),void T(t);t._writableStreamController[d](r._reason).then(()=>{r._resolve(),T(t)},e=>{r._reject(e),T(t)})}else T(t)}function U(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function T(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Q(t,e._storedError)}function B(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(!0===t?te:ie)(r),e._backpressure=t}class R{constructor(e){if(!1===E(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===P(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");(this._ownerWritableStream=e)._writer=this;const t=e._state;if("writable"===t)(!1===U(e)&&!0===e._backpressure?te:ne)(this),J(this);else if("erroring"===t)re(this,e._storedError),J(this);else if("closed"===t)ne(this),J(r=this),ee(r);else{const t=e._storedError;re(this,t),X(this,t)}var r}get closed(){return!1===j(this)?Promise.reject(Y("closed")):this._closedPromise}get desiredSize(){if(!1===j(this))throw Y("desiredSize");if(void 0===this._ownerWritableStream)throw $("desiredSize");return"errored"===(e=(t=(e=this)._ownerWritableStream)._state)||"erroring"===e?null:"closed"===e?0:L(t._writableStreamController);var e,t}get ready(){return!1===j(this)?Promise.reject(Y("ready")):this._readyPromise}abort(e){return!1===j(this)?Promise.reject(Y("abort")):void 0===this._ownerWritableStream?Promise.reject($("abort")):x(this._ownerWritableStream,e)}close(){if(!1===j(this))return Promise.reject(Y("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject($("close")):!0===U(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):I(this)}releaseLock(){if(!1===j(this))throw Y("releaseLock");void 0!==this._ownerWritableStream&&z(this)}write(e){return!1===j(this)?Promise.reject(Y("write")):void 0===this._ownerWritableStream?Promise.reject($("write to")):D(this,e)}}function j(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function I(e){const r=e._ownerWritableStream,t=r._state;if("closed"===t||"errored"===t)return Promise.reject(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));var n=new Promise((e,t)=>{t={_resolve:e,_reject:t};r._closeRequest=t});return!0===r._backpressure&&"writable"===t&&ie(e),l(e=r._writableStreamController,"close",0),H(e),n}function O(e,t){("pending"===e._readyPromiseState?ae:re)(e,t)}function z(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");var n,a;O(e,r),a=r,("pending"===(n=e)._closedPromiseState?Q:X)(n,a),t._writer=void 0,e._ownerWritableStream=void 0}function D(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,a=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return W(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return Promise.reject($("write to"));e=r._state;if("errored"===e)return Promise.reject(r._storedError);if(!0===U(r)||"closed"===e)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===e)return Promise.reject(r._storedError);var i,r=(i=r,new Promise((e,t)=>{i._writeRequests.push({_resolve:e,_reject:t})}));return function(e,t,r){var n={chunk:t};try{l(e,n,r)}catch(t){return W(e,t)}r=e._controlledWritableStream;if(!1===U(r)&&"writable"===r._state){const t=G(e);B(r,t)}H(e)}(n,t,a),r}class N{constructor(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}error(e){if(!1==(!!a(t=this)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var t;"writable"===this._controlledWritableStream._state&&Z(this,e)}[d](e){e=this._abortAlgorithm(e);return q(this),e}[w](){f(this)}}function F(t,r,e,n,a,i,s,o){((r._controlledWritableStream=t)._writableStreamController=r)._queue=void 0,r._queueTotalSize=void 0,f(r),r._started=!1,r._strategySizeAlgorithm=o,r._strategyHWM=s,r._writeAlgorithm=n,r._closeAlgorithm=a,r._abortAlgorithm=i;i=G(r);B(t,i);e=e();Promise.resolve(e).then(()=>{r._started=!0,H(r)},e=>{r._started=!0,M(t,e)}).catch(k)}function q(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function L(e){return e._strategyHWM-e._queueTotalSize}function H(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var r=t._state;if("closed"!==r&&"errored"!==r){if("erroring"===r)return C(t),0;0!==e._queue.length&&("close"===(t=e._queue[0].value)?function(e){const r=e._controlledWritableStream;var t;(t=r)._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,c(e);const n=e._closeAlgorithm();q(e),n.then(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"!==e._state||(e._storedError=void 0)!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0),e._state="closed";e=e._writer;void 0!==e&&ee(e)}(r)},e=>{var t;t=r,e=e,t._inFlightCloseRequest._reject(e),(t._inFlightCloseRequest=void 0)!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),M(t,e)}).catch(k)}(e):function(r,e){const n=r._controlledWritableStream;var t;(t=n)._inFlightWriteRequest=t._writeRequests.shift(),r._writeAlgorithm(e).then(()=>{var e;(e=n)._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0;const t=n._state;if(c(r),!1===U(n)&&"writable"===t){const t=G(r);B(n,t)}H(r)},e=>{var t;"writable"===n._state&&q(r),t=n,e=e,t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,M(t,e)}).catch(k)}(e,t.chunk))}}}function W(e,t){"writable"===e._controlledWritableStream._state&&Z(e,t)}function G(e){return L(e)<=0}function Z(e,t){var r=e._controlledWritableStream;q(e),K(r,t)}function V(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Y(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function $(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function J(r){r._closedPromise=new Promise((e,t)=>{r._closedPromise_resolve=e,r._closedPromise_reject=t,r._closedPromiseState="pending"})}function X(e,t){J(e),Q(e,t)}function Q(e,t){e._closedPromise.catch(()=>{}),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function ee(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function te(r){r._readyPromise=new Promise((e,t)=>{r._readyPromise_resolve=e,r._readyPromise_reject=t}),r._readyPromiseState="pending"}function re(e,t){te(e),ae(e,t)}function ne(e){te(e),ie(e)}function ae(e,t){e._readyPromise.catch(()=>{}),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function ie(e){e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}const se=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},oe=t("[[CancelSteps]]"),ue=t("[[PullSteps]]");class ce{constructor(e={},t={}){de(this);var r=t.size;let n=t.highWaterMark;t=e.type;if("bytes"===String(t)){if(void 0!==r)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===n&&(n=0),function(e,s,t){const o=Object.create(Ze.prototype);var r=p(s,"pull",0,[o]),n=p(s,"cancel",1,[]);let a=s.autoAllocateChunkSize;if(void 0!==a&&(a=Number(a),!1===se(a)||a<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(e,t,r,n,a,i){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,Je(t),t._queue=t._queueTotalSize=void 0,f(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=m(a),t._pullAlgorithm=r,t._cancelAlgorithm=n,t._autoAllocateChunkSize=i,t._pendingPullIntos=[],e._readableStreamController=t;e=y(s,"start",[o]);Promise.resolve(e).then(()=>{t._started=!0,$e(t)},e=>{ct(t,e)}).catch(k)}(e,o,r,n,t,a)}(this,e,n=m(n))}else{if(void 0!==t)throw new RangeError("Invalid type is specified");{const a=g(r);void 0===n&&(n=1),function(e,t,r,n){const a=Object.create(je.prototype);var i=p(t,"pull",0,[a]),s=p(t,"cancel",1,[]);We(e,a,function(){return y(t,"start",[a])},i,s,r,n)}(this,e,n=m(n),a)}}}get locked(){if(!1===he(this))throw dt("locked");return pe(this)}cancel(e){return!1===he(this)?Promise.reject(dt("cancel")):!0===pe(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):ge(this,e)}getReader({mode:e}={}){if(!1===he(this))throw dt("getReader");if(void 0===e)return le(this);if("byob"===(e=String(e)))return e=this,new Me(e);throw new RangeError("Invalid mode is specified")}pipeThrough({writable:e,readable:t},{preventClose:r,preventAbort:n,preventCancel:a,signal:i}={}){if(!1===he(this))throw dt("pipeThrough");if(!1===E(e))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===he(t))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(r=Boolean(r),n=Boolean(n),a=Boolean(a),void 0!==i&&!ft(i))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===pe(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===P(e))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ye(this,e,r,n,a,i).catch(()=>{}),t}pipeTo(e,{preventClose:t,preventAbort:r,preventCancel:n,signal:a}={}){return!1===he(this)?Promise.reject(dt("pipeTo")):!1===E(e)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(t=Boolean(t),r=Boolean(r),n=Boolean(n),void 0===a||ft(a)?!0===pe(this)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===P(e)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ye(this,e,t,r,n,a):Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))}tee(){if(!1===he(this))throw dt("tee");var e=function(r){const e=le(r);let n,a,i,s,o,u=!1,c=!1,l=!1;const f=new Promise(e=>{o=e});function t(){return Re(e).then(e=>{var t=e.value;!0===e.done&&!1===u&&(!1===c&&Ne(i._readableStreamController),!1===l&&Ne(s._readableStreamController),u=!0),!0!==u&&(t=e=t,!1===c&&Fe(i._readableStreamController,e),!1===l&&Fe(s._readableStreamController,t))})}function d(){}return i=fe(d,t,function(e){if(c=!0,n=e,!0===l){const e=h([n,a]),t=ge(r,e);o(t)}return f}),s=fe(d,t,function(e){if(l=!0,a=e,!0===c){const e=h([n,a]),t=ge(r,e);o(t)}return f}),e._closedPromise.catch(e=>{!0!==u&&(qe(i._readableStreamController,e),qe(s._readableStreamController,e),u=!0)}),[i,s]}(this);return h(e)}}function le(e){return new xe(e)}function fe(e,t,r,n=1,a=()=>1){var i=Object.create(ce.prototype);return de(i),We(i,Object.create(je.prototype),e,t,r,n,a),i}function de(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function he(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function pe(e){return void 0!==e._reader}function ye(f,d,h,p,y,b){const m=le(f),g=A(d);let w=!1,v=Promise.resolve();return new Promise((r,n)=>{let a;if(void 0!==b){if(a=()=>{const e=new DOMException("Aborted","AbortError"),t=[];!1===p&&t.push(()=>"writable"===d._state?x(d,e):Promise.resolve()),!1===y&&t.push(()=>"readable"===f._state?ge(f,e):Promise.resolve()),u(()=>_(t.map(e=>e()),e=>e),!0,e)},!0===b.aborted)return void a();b.addEventListener("abort",a)}if(o(f,m._closedPromise,e=>{!1===p?u(()=>x(d,e),!0,e):c(!0,e)}),o(d,g._closedPromise,e=>{!1===y?u(()=>ge(f,e),!0,e):c(!0,e)}),e=f,t=m._closedPromise,i=()=>{!1===h?u(()=>function(e){var t=e._ownerWritableStream,r=t._state;return!0===U(t)||"closed"===r?Promise.resolve():"errored"===r?Promise.reject(t._storedError):I(e)}(g)):c()},"closed"===e._state?i():t.then(i).catch(k),!0===U(d)||"closed"===d._state){const d=new TypeError("the destination writable stream closed before all data could be piped to it");!1===y?u(()=>ge(f,d),!0,d):c(!0,d)}var e,t,i;function s(){const e=v;return v.then(()=>e!==v?s():void 0)}function o(e,t,r){"errored"===e._state?r(e._storedError):t.catch(r).catch(k)}function u(e,t,r){function n(){e().then(()=>l(t,r),e=>l(!0,e)).catch(k)}!0!==w&&(w=!0,"writable"===d._state&&!1===U(d)?s().then(n):n())}function c(e,t){!0!==w&&(w=!0,"writable"===d._state&&!1===U(d)?s().then(()=>l(e,t)).catch(k):l(e,t))}function l(e,t){z(g),Be(m),void 0!==b&&b.removeEventListener("abort",a),e?n(t):r(void 0)}new Promise((r,n)=>{!function e(t){t?r():(!0===w?Promise.resolve(!0):g._readyPromise.then(()=>Re(m).then(({value:e,done:t})=>!0===t||(v=D(g,e).catch(()=>{}),!1)))).then(e,n)}(!1)}).catch(e=>{v=Promise.resolve(),k(e)})})}function be(r,n){return new Promise((e,t)=>{r._reader._readIntoRequests.push({_resolve:e,_reject:t,_forAuthorCode:n})})}function me(r,n){return new Promise((e,t)=>{r._reader._readRequests.push({_resolve:e,_reject:t,_forAuthorCode:n})})}function ge(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(we(e),e._readableStreamController[oe](t).then(()=>{}))}function we(e){e._state="closed";const t=e._reader;if(void 0!==t){if(Ce(t)){for(const n of t._readRequests){const e=n._resolve;var r=n._forAuthorCode;e(ve(void 0,!0,r))}t._readRequests=[]}gt(t)}}function ve(e,t,r){let n=null;!0===r&&(n=Object.prototype);r=Object.create(n);return Object.defineProperty(r,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(r,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),r}function _e(e,t){e._state="errored",e._storedError=t;const r=e._reader;if(void 0!==r){if(Ce(r)){for(const e of r._readRequests)e._reject(t);r._readRequests=[]}else{for(const e of r._readIntoRequests)e._reject(t);r._readIntoRequests=[]}mt(r,t)}}function ke(e,t,r){const n=e._reader._readRequests.shift();n._resolve(ve(t,r,n._forAuthorCode))}function Ae(e){return e._reader._readIntoRequests.length}function Se(e){return e._reader._readRequests.length}function Ee(e){e=e._reader;return void 0!==e&&!!Ke(e)}function Pe(e){e=e._reader;return void 0!==e&&!!Ce(e)}class xe{constructor(e){if(!1===he(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===pe(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ue(this,e),this._readRequests=[]}get closed(){return Ce(this)?this._closedPromise:Promise.reject(pt("closed"))}cancel(e){return Ce(this)?void 0===this._ownerReadableStream?Promise.reject(ht("cancel")):Te(this,e):Promise.reject(pt("cancel"))}read(){return Ce(this)?void 0===this._ownerReadableStream?Promise.reject(ht("read from")):Re(this,!0):Promise.reject(pt("read"))}releaseLock(){if(!Ce(this))throw pt("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Be(this)}}}class Me{constructor(e){if(!he(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ve(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(pe(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ue(this,e),this._readIntoRequests=[]}get closed(){return Ke(this)?this._closedPromise:Promise.reject(wt("closed"))}cancel(e){return Ke(this)?void 0===this._ownerReadableStream?Promise.reject(ht("cancel")):Te(this,e):Promise.reject(wt("cancel"))}read(e){return Ke(this)?void 0===this._ownerReadableStream?Promise.reject(ht("read from")):ArrayBuffer.isView(e)?(e.buffer,0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):function(e,t){const r=e._ownerReadableStream;return r._disturbed=!0,"errored"===r._state?Promise.reject(r._storedError):function(e,t){var r=e._controlledReadableByteStream;let n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);const a=t.constructor,i={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:a,readerType:"byob"};if(0<e._pendingPullIntos.length)return e._pendingPullIntos.push(i),be(r,!0);if("closed"===r._state){const e=new a(i.buffer,i.byteOffset,0);return Promise.resolve(ve(e,!0,!0))}if(0<e._queueTotalSize){if(!0===tt(e,i)){const t=Qe(i);return nt(e),Promise.resolve(ve(t,!1,!0))}if(!0===e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return ct(e,t),Promise.reject(t)}}e._pendingPullIntos.push(i);r=be(r,!0);return $e(e),r}(r._readableStreamController,t)}(this,e)):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(wt("read"))}releaseLock(){if(!Ke(this))throw wt("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Be(this)}}}function Ke(e){return a(e)&&Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Ce(e){return a(e)&&Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Ue(e,t){var r;(e._ownerReadableStream=t)._reader=e,"readable"===t._state?yt(e):"closed"===t._state?(yt(r=e),gt(r)):bt(e,t._storedError)}function Te(e,t){return ge(e._ownerReadableStream,t)}function Be(e){"readable"===e._ownerReadableStream._state?mt(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):bt(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Re(e,t=!1){const r=e._ownerReadableStream;return r._disturbed=!0,"closed"===r._state?Promise.resolve(ve(void 0,!0,t)):"errored"===r._state?Promise.reject(r._storedError):r._readableStreamController[ue](t)}class je{constructor(){throw new TypeError}get desiredSize(){if(!1===Ie(this))throw vt("desiredSize");return Le(this)}close(){if(!1===Ie(this))throw vt("close");if(!1===He(this))throw new TypeError("The stream is not in a state that permits close");Ne(this)}enqueue(e){if(!1===Ie(this))throw vt("enqueue");if(!1===He(this))throw new TypeError("The stream is not in a state that permits enqueue");return Fe(this,e)}error(e){if(!1===Ie(this))throw vt("error");qe(this,e)}[oe](e){f(this);e=this._cancelAlgorithm(e);return De(this),e}[ue](e){var t=this._controlledReadableStream;if(0<this._queue.length){const r=c(this);return!0===this._closeRequested&&0===this._queue.length?(De(this),we(t)):Oe(this),Promise.resolve(ve(r,!1,e))}const r=me(t,e);return Oe(this),r}}function Ie(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Oe(t){!1!==ze(t)&&(!0!==t._pulling?(t._pulling=!0,t._pullAlgorithm().then(()=>{if(!(t._pulling=!1)===t._pullAgain)return t._pullAgain=!1,Oe(t)},e=>{qe(t,e)}).catch(k)):t._pullAgain=!0)}function ze(e){var t=e._controlledReadableStream;return!1!==He(e)&&!1!==e._started&&(!0===pe(t)&&0<Se(t)||0<Le(e))}function De(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ne(e){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(De(e),we(t))}function Fe(t,r){var e=t._controlledReadableStream;if(!0===pe(e)&&0<Se(e))ke(e,r,!1);else{let e;try{e=t._strategySizeAlgorithm(r)}catch(r){throw qe(t,r),r}try{l(t,r,e)}catch(r){throw qe(t,r),r}}Oe(t)}function qe(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(f(e),De(e),_e(r,t))}function Le(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function He(e){var t=e._controlledReadableStream._state;return!1===e._closeRequested&&"readable"===t}function We(e,t,r,n,a,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,f(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,e._readableStreamController=t;r=r();Promise.resolve(r).then(()=>{t._started=!0,Oe(t)},e=>{qe(t,e)}).catch(k)}class Ge{constructor(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}get view(){if(!1===Ye(this))throw _t("view");return this._view}respond(r){if(!1===Ye(this))throw _t("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(!1===s(t=Number(r)))throw new RangeError("bytesWritten must be a finite");st(e,t)}(this._associatedReadableByteStreamController)}respondWithNewView(e){if(!1===Ye(this))throw _t("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");e.buffer,function(e,t){const r=e._pendingPullIntos[0];if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,st(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}}class Ze{constructor(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}get byobRequest(){if(!1===Ve(this))throw kt("byobRequest");var e,t,r,n;return void 0===this._byobRequest&&0<this._pendingPullIntos.length&&(n=this._pendingPullIntos[0],t=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=Object.create(Ge.prototype),r=this,n=t,(t=e)._associatedReadableByteStreamController=r,t._view=n,this._byobRequest=e),this._byobRequest}get desiredSize(){if(!1===Ve(this))throw kt("desiredSize");return lt(this)}close(){if(!1===Ve(this))throw kt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const t=e._controlledReadableByteStream;if(0<e._queueTotalSize)return e._closeRequested=!0;if(0<e._pendingPullIntos.length){const t=e._pendingPullIntos[0];if(0<t.bytesFilled){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ct(e,t),t}}ut(e),we(t)}(this)}enqueue(i){if(!1===Ve(this))throw kt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be enqueued to`);if(!ArrayBuffer.isView(i))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");i.buffer,function(e){var t=e._controlledReadableByteStream,r=i.buffer,n=i.byteOffset,a=i.byteLength,r=r;if(!0===Pe(t))if(0===Se(t))et(e,r,n,a);else{const e=new Uint8Array(r,n,a);ke(t,e,!1)}else!0===Ee(t)?(et(e,r,n,a),it(e)):et(e,r,n,a);$e(e)}(this)}error(e){if(!1===Ve(this))throw kt("error");ct(this,e)}[oe](e){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0),f(this);e=this._cancelAlgorithm(e);return ut(this),e}[ue](t){const r=this._controlledReadableByteStream;if(0<this._queueTotalSize){const r=this._queue.shift();let e;this._queueTotalSize-=r.byteLength,nt(this);try{e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(t){return Promise.reject(t)}return Promise.resolve(ve(e,!1,t))}var n=this._autoAllocateChunkSize;if(void 0!==n){let e;try{e=new ArrayBuffer(n)}catch(t){return Promise.reject(t)}const r={buffer:e,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}n=me(r,t);return $e(this),n}}function Ve(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function Ye(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function $e(t){var e,r;!1!=("readable"===(r=(e=t)._controlledReadableByteStream)._state&&(!0!==e._closeRequested&&(!1!==e._started&&(!0===Pe(r)&&0<Se(r)||(!0===Ee(r)&&0<Ae(r)||0<lt(e))))))&&(!0!==t._pulling?(t._pulling=!0,t._pullAlgorithm().then(()=>{!(t._pulling=!1)===t._pullAgain&&(t._pullAgain=!1,$e(t))},e=>{ct(t,e)}).catch(k)):t._pullAgain=!0)}function Je(e){at(e),e._pendingPullIntos=[]}function Xe(e,t){let r=!1;"closed"===e._state&&(r=!0);var n=Qe(t);("default"===t.readerType?ke:function(e,t,r){const n=e._reader._readIntoRequests.shift();n._resolve(ve(t,r,n._forAuthorCode))})(e,n,r)}function Qe(e){var t=e.bytesFilled,r=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/r)}function et(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function tt(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+a,s=i-i%r;let o=a,u=!1;s>n&&(o=s-t.bytesFilled,u=!0);const c=e._queue;for(;0<o;){const r=c[0],n=Math.min(o,r.byteLength),a=t.byteOffset+t.bytesFilled;l=t.buffer,f=a,d=r.buffer,h=r.byteOffset,p=n,new Uint8Array(l).set(new Uint8Array(d,h,p),f),r.byteLength===n?c.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,rt(e,n,t),o-=n}var l,f,d,h,p;return u}function rt(e,t,r){at(e),r.bytesFilled+=t}function nt(e){0===e._queueTotalSize&&!0===e._closeRequested?(ut(e),we(e._controlledReadableByteStream)):$e(e)}function at(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function it(e){for(;0<e._pendingPullIntos.length;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===tt(e,t)&&(ot(e),Xe(e._controlledReadableByteStream,t))}}function st(e,t){var r=e._pendingPullIntos[0];if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;var r=e._controlledReadableByteStream;if(!0===Ee(r))for(;0<Ae(r);)Xe(r,ot(e))}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(rt(e,t,r),!(r.bytesFilled<r.elementSize)){ot(e);t=r.bytesFilled%r.elementSize;if(0<t){const n=r.byteOffset+r.bytesFilled,a=r.buffer.slice(n-t,n);et(e,a,0,a.byteLength)}r.buffer=r.buffer,r.bytesFilled-=t,Xe(e._controlledReadableByteStream,r),it(e)}}(e,t,r);$e(e)}function ot(e){var t=e._pendingPullIntos.shift();return at(e),t}function ut(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ct(e,t){var r=e._controlledReadableByteStream;"readable"===r._state&&(Je(e),f(e),ut(e),_e(r,t))}function lt(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ft(e){if("object"==typeof e&&null!==e){const t=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{return t.call(e),1}catch(e){return}}}function dt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function ht(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function pt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}function yt(r){r._closedPromise=new Promise((e,t)=>{r._closedPromise_resolve=e,r._closedPromise_reject=t})}function bt(e,t){yt(e),mt(e,t)}function mt(e,t){e._closedPromise.catch(()=>{}),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function gt(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function wt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function vt(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function _t(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function kt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}class At{constructor({highWaterMark:e}){i(this,"highWaterMark",e)}size(e){return e.byteLength}}class St{constructor({highWaterMark:e}){i(this,"highWaterMark",e)}size(){return 1}}class Et{constructor(e={},t={},r={}){var n=t.size;let a=t.highWaterMark;var i=r.size;let s=r.highWaterMark;if(void 0!==e.writableType)throw new RangeError("Invalid writable type specified");var o=g(n);if(void 0===a&&(a=1),a=m(a),void 0!==e.readableType)throw new RangeError("Invalid readable type specified");var u,c,l=g(i);let f;function d(){return c}void 0===s&&(s=0),s=m(s),u=this,c=new Promise(e=>{f=e}),t=a,r=o,n=s,i=l,u._writable=([o,l=1,t=()=>1]=[d,t,r],S(r=Object.create(v.prototype)),F(r,Object.create(N.prototype),o,function(e){return function(r,n){const a=r._transformStreamController;if(!0===r._backpressure){const e=r._backpressureChangePromise;return e.then(()=>{const e=r._writable,t=e._state;if("erroring"===t)throw e._storedError;return Rt(a,n)})}return Rt(a,n)}(u,e)},function(){return function(t){const r=t._readable,e=t._transformStreamController,n=e._flushAlgorithm();return Tt(e),n.then(()=>{if("errored"===r._state)throw r._storedError;const e=r._readableStreamController;!0===He(e)&&Ne(e)}).catch(e=>{throw xt(t,e),r._storedError})}(u)},function(e){return function(e,t){return xt(e,t),Promise.resolve()}(u,e)},l,t),r),u._readable=fe(d,function(){return Kt(e=u,!1),e._backpressureChangePromise;var e},function(e){return Mt(u,e),Promise.resolve()},n,i),u._backpressure=void 0,u._backpressureChangePromise=void 0,u._backpressureChangePromise_resolve=void 0,Kt(u,!0),u._transformStreamController=void 0,function(e,t){const r=Object.create(Ct.prototype);let n=e=>{try{return Bt(r,e),Promise.resolve()}catch(e){return Promise.reject(e)}};const a=t.transform;if(void 0!==a){if("function"!=typeof a)throw new TypeError("transform is not a method");n=e=>b(a,t,[e,r])}var i,s,o=p(t,"flush",0,[r]);i=e,s=r,e=n,o=o,((s._controlledTransformStream=i)._transformStreamController=s)._transformAlgorithm=e,s._flushAlgorithm=o}(this,e);e=y(e,"start",[this._transformStreamController]);f(e)}get readable(){if(!1===Pt(this))throw It("readable");return this._readable}get writable(){if(!1===Pt(this))throw It("writable");return this._writable}}function Pt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function xt(e,t){qe(e._readable._readableStreamController,t),Mt(e,t)}function Mt(e,t){Tt(e._transformStreamController),W(e._writable._writableStreamController,t),!0===e._backpressure&&Kt(e,!1)}function Kt(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=new Promise(e=>{t._backpressureChangePromise_resolve=e}),t._backpressure=e}class Ct{constructor(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}get desiredSize(){if(!1===Ut(this))throw jt("desiredSize");return Le(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!1===Ut(this))throw jt("enqueue");Bt(this,e)}error(e){if(!1===Ut(this))throw jt("error");xt(this._controlledTransformStream,e)}terminate(){if(!1===Ut(this))throw jt("terminate");var e,t;!0===He(e=(t=(e=this)._controlledTransformStream)._readable._readableStreamController)&&Ne(e),Mt(t,new TypeError("TransformStream terminated"))}}function Ut(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Tt(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Bt(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!1===He(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Fe(n,t)}catch(e){throw Mt(r,e),r._readable._storedError}!0!==ze(n)!==r._backpressure&&Kt(r,!0)}function Rt(t,e){return t._transformAlgorithm(e).catch(e=>{throw xt(t._controlledTransformStream,e),e})}function jt(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function It(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}var Ot={ReadableStream:ce,WritableStream:v,ByteLengthQueuingStrategy:At,CountQueuingStrategy:St,TransformStream:Et};void 0!==r&&Object.assign(r,Ot),e.ReadableStream=ce,e.WritableStream=v,e.ByteLengthQueuingStrategy=At,e.CountQueuingStrategy=St,e.TransformStream=Et,Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof r&&void 0!==t?r:(e=e||self).WebStreamsPolyfill={})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,s,a,g,o,u,w,c;r.AES_asm=(c=a=!1,f.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},f.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},f.MAC={CBC:0,GCM:1},f.HEAP_DATA=16384,f);function l(e,t){var r=i[(s[e]+s[t])%255];return r=0===e||0===t?0:r}function n(){function e(e){var t,r,n,a;for(a=i[255-s[e]],r=n=a=0===e?0:a,t=0;t<4;t++)n^=r=255&(r<<1|r>>>7);return n^=99}a||function(){i=[],s=[];for(var e,t=1,r=0;r<255;r++)e=128&(i[r]=t),t<<=1,t&=255,128==e&&(t^=27),t^=i[r],s[i[r]]=r;i[255]=i[0],s[0]=0,a=!0}(),g=[],o=[],u=[[],[],[],[]],w=[[],[],[],[]];for(var t=0;t<256;t++){var r=e(t);g[t]=r,o[r]=t,u[0][t]=l(2,r)<<24|r<<16|r<<8|l(3,r),w[0][r]=l(14,t)<<24|l(9,t)<<16|l(13,t)<<8|l(11,t);for(var n=1;n<4;n++)u[n][t]=u[n-1][t]>>>8|u[n-1][t]<<24,w[n][r]=w[n-1][r]>>>8|w[n-1][r]<<24}c=!0}function f(e,t){c||n();var b=new Uint32Array(t);b.set(g,512),b.set(o,768);for(var r=0;r<4;r++)b.set(u[r],4096+1024*r>>2),b.set(w[r],8192+1024*r>>2);var m=function(e,t){"use asm";var b=0,m=0,g=0,w=0,p=0,y=0,v=0,_=0,a=0,i=0,s=0,o=0,u=0,c=0,l=0,f=0,k=0,A=0,S=0,E=0,d=0;var P=new e.Uint32Array(t),h=new e.Uint8Array(t);function x(e,t,r,n,a,i,s,o){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;i=i|0;s=s|0;o=o|0;var u=0,c=0,l=0,f=0,d=0,h=0,p=0,y=0;u=r|0x400,c=r|0x800,l=r|0xc00;a=a^P[(e|0)>>2],i=i^P[(e|4)>>2],s=s^P[(e|8)>>2],o=o^P[(e|12)>>2];for(y=16;(y|0)<=n<<4;y=y+16|0){f=P[(r|a>>22&1020)>>2]^P[(u|i>>14&1020)>>2]^P[(c|s>>6&1020)>>2]^P[(l|o<<2&1020)>>2]^P[(e|y|0)>>2],d=P[(r|i>>22&1020)>>2]^P[(u|s>>14&1020)>>2]^P[(c|o>>6&1020)>>2]^P[(l|a<<2&1020)>>2]^P[(e|y|4)>>2],h=P[(r|s>>22&1020)>>2]^P[(u|o>>14&1020)>>2]^P[(c|a>>6&1020)>>2]^P[(l|i<<2&1020)>>2]^P[(e|y|8)>>2],p=P[(r|o>>22&1020)>>2]^P[(u|a>>14&1020)>>2]^P[(c|i>>6&1020)>>2]^P[(l|s<<2&1020)>>2]^P[(e|y|12)>>2];a=f,i=d,s=h,o=p}b=P[(t|a>>22&1020)>>2]<<24^P[(t|i>>14&1020)>>2]<<16^P[(t|s>>6&1020)>>2]<<8^P[(t|o<<2&1020)>>2]^P[(e|y|0)>>2],m=P[(t|i>>22&1020)>>2]<<24^P[(t|s>>14&1020)>>2]<<16^P[(t|o>>6&1020)>>2]<<8^P[(t|a<<2&1020)>>2]^P[(e|y|4)>>2],g=P[(t|s>>22&1020)>>2]<<24^P[(t|o>>14&1020)>>2]<<16^P[(t|a>>6&1020)>>2]<<8^P[(t|i<<2&1020)>>2]^P[(e|y|8)>>2],w=P[(t|o>>22&1020)>>2]<<24^P[(t|a>>14&1020)>>2]<<16^P[(t|i>>6&1020)>>2]<<8^P[(t|s<<2&1020)>>2]^P[(e|y|12)>>2]}function M(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,d,e,t,r,n)}function K(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;x(0x0400,0x0c00,0x2000,d,e,n,r,t);a=m,m=w,w=a}function C(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,d,p^e,y^t,v^r,_^n);p=b,y=m,v=g,_=w}function U(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;x(0x0400,0x0c00,0x2000,d,e,n,r,t);a=m,m=w,w=a;b=b^p,m=m^y,g=g^v,w=w^_;p=e,y=t,v=r,_=n}function T(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,d,p,y,v,_);p=b=b^e,y=m=m^t,v=g=g^r,_=w=w^n}function B(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,d,p,y,v,_);b=b^e,m=m^t,g=g^r,w=w^n;p=e,y=t,v=r,_=n}function R(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,d,p,y,v,_);p=b,y=m,v=g,_=w;b=b^e,m=m^t,g=g^r,w=w^n}function j(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,d,a,i,s,o);o=~f&o|f&o+1;s=~l&s|l&s+((o|0)==0);i=~c&i|c&i+((s|0)==0);a=~u&a|u&a+((i|0)==0);b=b^e;m=m^t;g=g^r;w=w^n}function I(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,i=0,s=0,o=0,u=0,c=0,l=0,f=0,d=0,h=0;e=e^p,t=t^y,r=r^v,n=n^_;a=k|0,i=A|0,s=S|0,o=E|0;for(;(d|0)<128;d=d+1|0){if(a>>>31)u=u^e,c=c^t,l=l^r,f=f^n;a=a<<1|i>>>31,i=i<<1|s>>>31,s=s<<1|o>>>31,o=o<<1;h=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(h)e=e^0xe1000000}p=u,y=c,v=l,_=f}function r(e){e=e|0;d=e}function O(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;b=e,m=t,g=r,w=n}function z(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;p=e,y=t,v=r,_=n}function D(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;a=e,i=t,s=r,o=n}function N(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;u=e,c=t,l=r,f=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;o=~f&o|f&n,s=~l&s|l&r,i=~c&i|c&t,a=~u&a|u&e}function n(e){e=e|0;if(e&15)return-1;h[e|0]=b>>>24,h[e|1]=b>>>16&255,h[e|2]=b>>>8&255,h[e|3]=b&255,h[e|4]=m>>>24,h[e|5]=m>>>16&255,h[e|6]=m>>>8&255,h[e|7]=m&255,h[e|8]=g>>>24,h[e|9]=g>>>16&255,h[e|10]=g>>>8&255,h[e|11]=g&255,h[e|12]=w>>>24,h[e|13]=w>>>16&255,h[e|14]=w>>>8&255,h[e|15]=w&255;return 16}function q(e){e=e|0;if(e&15)return-1;h[e|0]=p>>>24,h[e|1]=p>>>16&255,h[e|2]=p>>>8&255,h[e|3]=p&255,h[e|4]=y>>>24,h[e|5]=y>>>16&255,h[e|6]=y>>>8&255,h[e|7]=y&255,h[e|8]=v>>>24,h[e|9]=v>>>16&255,h[e|10]=v>>>8&255,h[e|11]=v&255,h[e|12]=_>>>24,h[e|13]=_>>>16&255,h[e|14]=_>>>8&255,h[e|15]=_&255;return 16}function L(){M(0,0,0,0);k=b,A=m,S=g,E=w}function H(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){G[e&7](h[t|0]<<24|h[t|1]<<16|h[t|2]<<8|h[t|3],h[t|4]<<24|h[t|5]<<16|h[t|6]<<8|h[t|7],h[t|8]<<24|h[t|9]<<16|h[t|10]<<8|h[t|11],h[t|12]<<24|h[t|13]<<16|h[t|14]<<8|h[t|15]);h[t|0]=b>>>24,h[t|1]=b>>>16&255,h[t|2]=b>>>8&255,h[t|3]=b&255,h[t|4]=m>>>24,h[t|5]=m>>>16&255,h[t|6]=m>>>8&255,h[t|7]=m&255,h[t|8]=g>>>24,h[t|9]=g>>>16&255,h[t|10]=g>>>8&255,h[t|11]=g&255,h[t|12]=w>>>24,h[t|13]=w>>>16&255,h[t|14]=w>>>8&255,h[t|15]=w&255;n=n+16|0,t=t+16|0,r=r-16|0}return n|0}function W(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){Z[e&1](h[t|0]<<24|h[t|1]<<16|h[t|2]<<8|h[t|3],h[t|4]<<24|h[t|5]<<16|h[t|6]<<8|h[t|7],h[t|8]<<24|h[t|9]<<16|h[t|10]<<8|h[t|11],h[t|12]<<24|h[t|13]<<16|h[t|14]<<8|h[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var G=[M,K,C,U,T,B,R,j];var Z=[C,I];return{set_rounds:r,set_state:O,set_iv:z,set_nonce:D,set_mask:N,set_counter:F,get_state:n,get_iv:q,gcm_init:L,cipher:H,mac:W}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},t);return m.set_key=function(e,t,r,n,a,i,s,o,u){var c=b.subarray(0,60),l=b.subarray(256,316);c.set([t,r,n,a,i,s,o,u]);for(var f=e,d=1;f<4*e+28;f++){var h=c[f-1];(f%e==0||8===e&&f%e==4)&&(h=g[h>>>24]<<24^g[h>>>16&255]<<16^g[h>>>8&255]<<8^g[255&h]),f%e==0&&(h=h<<8^h>>>24^d<<24,d=d<<1^(128&d?27:0)),c[f]=c[f-e]^h}for(var p=0;p<f;p+=4)for(var y=0;y<4;y++){h=c[f-(4+p)+(4-y)%4];l[p+y]=p<4||f-4<=p?h:w[0][g[h>>>24]]^w[1][g[h>>>16&255]]^w[2][g[h>>>8&255]]^w[3][g[255&h]]}m.set_rounds(e+5)},m}},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AES=void 0;var p=e("./aes.asm"),y=e("../other/utils"),l=e("../other/errors"),n=[],a=[],e=(i.prototype.acquire_asm=function(){void 0===this.heap&&void 0===this.asm&&(this.heap=n.pop()||(0,y._heap_init)().subarray(p.AES_asm.HEAP_DATA),this.asm=a.pop()||(0,p.AES_asm)(null,this.heap.buffer),this.reset(this.key,this.iv))},i.prototype.release_asm=function(){n.push(this.heap),a.push(this.asm),this.heap=void 0,this.asm=void 0},i.prototype.reset=function(e,t){var r=e.length;if(16!==r&&24!==r&&32!==r)throw new l.IllegalArgumentError("illegal key size");e=new DataView(e.buffer,e.byteOffset,e.byteLength);if(this.asm.set_key(r>>2,e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12),16<r?e.getUint32(16):0,16<r?e.getUint32(20):0,24<r?e.getUint32(24):0,24<r?e.getUint32(28):0),void 0!==t){if(16!==t.length)throw new l.IllegalArgumentError("illegal iv size");t=new DataView(t.buffer,t.byteOffset,t.byteLength);this.asm.set_iv(t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12))}else this.asm.set_iv(0,0,0,0)},i.prototype.AES_Encrypt_process=function(e){if(!(0,y.is_bytes)(e))throw new TypeError("data isn't of expected type");this.acquire_asm();for(var t,r=this.asm,n=this.heap,a=p.AES_asm.ENC[this.mode],i=p.AES_asm.HEAP_DATA,s=this.pos,o=this.len,u=0,c=e.length||0,l=0,f=new Uint8Array(o+c&-16);0<c;)o+=t=(0,y._heap_write)(n,s+o,e,u,c),u+=t,c-=t,(t=r.cipher(a,i+s,o))&&f.set(n.subarray(s,s+t),l),l+=t,t<o?(s+=t,o-=t):o=s=0;return this.pos=s,this.len=o,f},i.prototype.AES_Encrypt_finish=function(){this.acquire_asm();var e=this.asm,t=this.heap,r=p.AES_asm.ENC[this.mode],n=p.AES_asm.HEAP_DATA,a=this.pos,i=this.len,s=16-i%16,o=i;if(this.hasOwnProperty("padding")){if(this.padding){for(var u=0;u<s;++u)t[a+i+u]=s;o=i+=s}else if(i%16)throw new l.IllegalArgumentError("data length must be a multiple of the block size")}else i+=s;var c=new Uint8Array(o);return i&&e.cipher(r,n+a,i),o&&c.set(t.subarray(a,a+o)),this.pos=0,this.len=0,this.release_asm(),c},i.prototype.AES_Decrypt_process=function(e){if(!(0,y.is_bytes)(e))throw new TypeError("data isn't of expected type");this.acquire_asm();var t,r=this.asm,n=this.heap,a=p.AES_asm.DEC[this.mode],i=p.AES_asm.HEAP_DATA,s=this.pos,o=this.len,u=0,c=e.length||0,l=0,f=o+c&-16,d=0;this.padding&&(f-=d=o+c-f||16);for(var h=new Uint8Array(f);0<c;)o+=t=(0,y._heap_write)(n,s+o,e,u,c),u+=t,(t=r.cipher(a,i+s,o-((c-=t)?0:d)))&&h.set(n.subarray(s,s+t),l),l+=t,t<o?(s+=t,o-=t):o=s=0;return this.pos=s,this.len=o,h},i.prototype.AES_Decrypt_finish=function(){this.acquire_asm();var e=this.asm,t=this.heap,r=p.AES_asm.DEC[this.mode],n=p.AES_asm.HEAP_DATA,a=this.pos,i=this.len,s=i;if(0<i){if(i%16){if(this.hasOwnProperty("padding"))throw new l.IllegalArgumentError("data length must be a multiple of the block size");i+=16-i%16}if(e.cipher(r,n+a,i),this.hasOwnProperty("padding")&&this.padding){var o=t[a+s-1];if(o<1||16<o||s<o)throw new l.SecurityError("bad padding");for(var u=0,c=o;1<c;c--)u|=o^t[a+s-c];if(u)throw new l.SecurityError("bad padding");s-=o}}i=new Uint8Array(s);return 0<s&&i.set(t.subarray(a,a+s)),this.pos=0,this.len=0,this.release_asm(),i},i);function i(e,t,r,n){void 0===r&&(r=!0),this.pos=0,this.len=0,this.mode=n,this.pos=0,this.len=0,this.key=e,this.iv=t,this.padding=r,this.acquire_asm()}r.AES=e},{"../other/errors":14,"../other/utils":15,"./aes.asm":2}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AES_CBC=void 0;var n,a,i=e("./aes"),s=e("../other/utils"),e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(a=i.AES,e(o,a),o.encrypt=function(e,t,r,n){return new o(t,n,r=void 0===r?!0:r).encrypt(e)},o.decrypt=function(e,t,r,n){return new o(t,n,r=void 0===r?!0:r).decrypt(e)},o.prototype.encrypt=function(e){var t=this.AES_Encrypt_process(e),e=this.AES_Encrypt_finish();return(0,s.joinBytes)(t,e)},o.prototype.decrypt=function(e){var t=this.AES_Decrypt_process(e),e=this.AES_Decrypt_finish();return(0,s.joinBytes)(t,e)},o);function o(e,t,r){return a.call(this,e,t,r=void 0===r?!0:r,"CBC")||this}r.AES_CBC=e},{"../other/utils":15,"./aes":3}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AES_CFB=void 0;var n,a,i=e("./aes"),s=e("../other/utils"),e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(a=i.AES,e(o,a),o.encrypt=function(e,t,r){return new o(t,r).encrypt(e)},o.decrypt=function(e,t,r){return new o(t,r).decrypt(e)},o.prototype.encrypt=function(e){var t=this.AES_Encrypt_process(e),e=this.AES_Encrypt_finish();return(0,s.joinBytes)(t,e)},o.prototype.decrypt=function(e){var t=this.AES_Decrypt_process(e),e=this.AES_Decrypt_finish();return(0,s.joinBytes)(t,e)},o);function o(e,t){t=a.call(this,e,t,!0,"CFB")||this;return delete t.padding,t}r.AES_CFB=e},{"../other/utils":15,"./aes":3}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AES_CTR=void 0;var n,a,i=e("./aes"),s=e("../other/errors"),o=e("../other/utils"),e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(a=i.AES,e(u,a),u.encrypt=function(e,t,r){return new u(t,r).encrypt(e)},u.decrypt=function(e,t,r){return new u(t,r).encrypt(e)},u.prototype.encrypt=function(e){var t=this.AES_Encrypt_process(e),e=this.AES_Encrypt_finish();return(0,o.joinBytes)(t,e)},u.prototype.decrypt=function(e){var t=this.AES_Encrypt_process(e),e=this.AES_Encrypt_finish();return(0,o.joinBytes)(t,e)},u.prototype.AES_CTR_set_options=function(e,t,r){if(void 0!==r){if(r<8||48<r)throw new s.IllegalArgumentError("illegal counter size");var n=Math.pow(2,r)-1;this.asm.set_mask(0,0,n/4294967296|0,0|n)}else r=48,this.asm.set_mask(0,0,65535,4294967295);if(void 0===e)throw new Error("nonce is required");n=e.length;if(!n||16<n)throw new s.IllegalArgumentError("illegal nonce size");n=new DataView(new ArrayBuffer(16));if(new Uint8Array(n.buffer).set(e),this.asm.set_nonce(n.getUint32(0),n.getUint32(4),n.getUint32(8),n.getUint32(12)),void 0!==t){if(t<0||t>=Math.pow(2,r))throw new s.IllegalArgumentError("illegal counter value");this.asm.set_counter(0,0,t/4294967296|0,0|t)}},u);function u(e,t){e=a.call(this,e,void 0,!1,"CTR")||this;return delete e.padding,e.AES_CTR_set_options(t),e}r.AES_CTR=e},{"../other/errors":14,"../other/utils":15,"./aes":3}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AES_ECB=void 0;var n,a,i=e("./aes"),s=e("../other/utils"),e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(a=i.AES,e(o,a),o.encrypt=function(e,t,r){return new o(t,r=void 0===r?!1:r).encrypt(e)},o.decrypt=function(e,t,r){return new o(t,r=void 0===r?!1:r).decrypt(e)},o.prototype.encrypt=function(e){var t=this.AES_Encrypt_process(e),e=this.AES_Encrypt_finish();return(0,s.joinBytes)(t,e)},o.prototype.decrypt=function(e){var t=this.AES_Decrypt_process(e),e=this.AES_Decrypt_finish();return(0,s.joinBytes)(t,e)},o);function o(e,t){return a.call(this,e,void 0,t=void 0===t?!1:t,"ECB")||this}r.AES_ECB=e},{"../other/utils":15,"./aes":3}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AES_GCM=void 0;var n,i,h=e("../other/errors"),p=e("../other/utils"),a=e("./aes"),y=e("./aes.asm"),e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=68719476704,e=(i=a.AES,e(s,i),s.encrypt=function(e,t,r,n,a){return new s(t,r,n,a).encrypt(e)},s.decrypt=function(e,t,r,n,a){return new s(t,r,n,a).decrypt(e)},s.prototype.encrypt=function(e){return this.AES_GCM_encrypt(e)},s.prototype.decrypt=function(e){return this.AES_GCM_decrypt(e)},s.prototype.AES_GCM_Encrypt_process=function(e){var t,r=0,n=e.length||0,a=this.asm,i=this.heap,s=this.counter,o=this.pos,u=this.len,c=0,l=u+n&-16;if(b<(s-1<<4)+u+n)throw new RangeError("counter overflow");for(var f=new Uint8Array(l);0<n;)u+=t=(0,p._heap_write)(i,o+u,e,r,n),r+=t,n-=t,t=a.cipher(y.AES_asm.ENC.CTR,y.AES_asm.HEAP_DATA+o,u),(t=a.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA+o,t))&&f.set(i.subarray(o,o+t),c),s+=t>>>4,c+=t,t<u?(o+=t,u-=t):u=o=0;return this.counter=s,this.pos=o,this.len=u,f},s.prototype.AES_GCM_Encrypt_finish=function(){var e=this.asm,t=this.heap,r=this.counter,n=this.tagSize,a=this.adata,i=this.pos,s=this.len,o=new Uint8Array(s+n);e.cipher(y.AES_asm.ENC.CTR,y.AES_asm.HEAP_DATA+i,s+15&-16),s&&o.set(t.subarray(i,i+s));for(var u=s;15&u;u++)t[i+u]=0;e.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA+i,u);a=void 0!==a?a.length:0,r=(r-1<<4)+s;return t[0]=0,t[1]=0,t[2]=0,t[3]=a>>>29,t[4]=a>>>21,t[5]=a>>>13&255,t[6]=a>>>5&255,t[7]=a<<3&255,t[8]=t[9]=t[10]=0,t[11]=r>>>29,t[12]=r>>>21&255,t[13]=r>>>13&255,t[14]=r>>>5&255,t[15]=r<<3&255,e.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA,16),e.get_iv(y.AES_asm.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(y.AES_asm.ENC.CTR,y.AES_asm.HEAP_DATA,16),o.set(t.subarray(0,n),s),this.counter=1,this.pos=0,this.len=0,o},s.prototype.AES_GCM_Decrypt_process=function(e){var t,r=0,n=e.length||0,a=this.asm,i=this.heap,s=this.counter,o=this.tagSize,u=this.pos,c=this.len,l=0,o=o<c+n?c+n-o&-16:0,f=c+n-o;if(b<(s-1<<4)+c+n)throw new RangeError("counter overflow");for(var d=new Uint8Array(o);f<n;)c+=t=(0,p._heap_write)(i,u+c,e,r,n-f),r+=t,n-=t,t=a.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA+u,t),(t=a.cipher(y.AES_asm.DEC.CTR,y.AES_asm.HEAP_DATA+u,t))&&d.set(i.subarray(u,u+t),l),s+=t>>>4,l+=t,c=u=0;return 0<n&&(c+=(0,p._heap_write)(i,0,e,r,n)),this.counter=s,this.pos=u,this.len=c,d},s.prototype.AES_GCM_Decrypt_finish=function(){var e=this.asm,t=this.heap,r=this.tagSize,n=this.adata,a=this.counter,i=this.pos,s=this.len,o=s-r;if(s<r)throw new h.IllegalStateError("authentication tag not found");for(var u=new Uint8Array(o),c=new Uint8Array(t.subarray(i+o,i+s)),l=o;15&l;l++)t[i+l]=0;e.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA+i,l),e.cipher(y.AES_asm.DEC.CTR,y.AES_asm.HEAP_DATA+i,l),o&&u.set(t.subarray(i,i+o));n=void 0!==n?n.length:0,s=(a-1<<4)+s-r;t[0]=0,t[1]=0,t[2]=0,t[3]=n>>>29,t[4]=n>>>21,t[5]=n>>>13&255,t[6]=n>>>5&255,t[7]=n<<3&255,t[8]=t[9]=t[10]=0,t[11]=s>>>29,t[12]=s>>>21&255,t[13]=s>>>13&255,t[14]=s>>>5&255,t[15]=s<<3&255,e.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA,16),e.get_iv(y.AES_asm.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(y.AES_asm.ENC.CTR,y.AES_asm.HEAP_DATA,16);for(var f=0,d=0;d<r;++d)f|=c[d]^t[d];if(f)throw new h.SecurityError("data integrity check failed");return this.counter=1,this.pos=0,this.len=0,u},s.prototype.AES_GCM_decrypt=function(e){var t=this.AES_GCM_Decrypt_process(e),r=this.AES_GCM_Decrypt_finish(),e=new Uint8Array(t.length+r.length);return t.length&&e.set(t),r.length&&e.set(r,t.length),e},s.prototype.AES_GCM_encrypt=function(e){var t=this.AES_GCM_Encrypt_process(e),r=this.AES_GCM_Encrypt_finish(),e=new Uint8Array(t.length+r.length);return t.length&&e.set(t),r.length&&e.set(r,t.length),e},s.prototype._gcm_mac_process=function(e){for(var t=this.heap,r=this.asm,n=0,a=e.length||0,i=0;0<a;){for(n+=i=(0,p._heap_write)(t,0,e,n,a),a-=i;15&i;)t[i++]=0;r.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA,i)}},s);function s(e,t,r,n){void 0===n&&(n=16);var a=i.call(this,e,void 0,!1,"CTR")||this;if(a.tagSize=n,a.gamma0=0,a.counter=1,a.asm.gcm_init(),a.tagSize<4||16<a.tagSize)throw new h.IllegalArgumentError("illegal tagSize value");e=t.length||0,n=new Uint8Array(16);12!==e?(a._gcm_mac_process(t),a.heap[0]=0,a.heap[1]=0,a.heap[2]=0,a.heap[3]=0,a.heap[4]=0,a.heap[5]=0,a.heap[6]=0,a.heap[7]=0,a.heap[8]=0,a.heap[9]=0,a.heap[10]=0,a.heap[11]=e>>>29,a.heap[12]=e>>>21&255,a.heap[13]=e>>>13&255,a.heap[14]=e>>>5&255,a.heap[15]=e<<3&255,a.asm.mac(y.AES_asm.MAC.GCM,y.AES_asm.HEAP_DATA,16),a.asm.get_iv(y.AES_asm.HEAP_DATA),a.asm.set_iv(0,0,0,0),n.set(a.heap.subarray(0,16))):(n.set(t),n[15]=1);n=new DataView(n.buffer);if(a.gamma0=n.getUint32(12),a.asm.set_nonce(n.getUint32(0),n.getUint32(4),n.getUint32(8),0),a.asm.set_mask(0,0,0,4294967295),void 0!==r){if(r.length>b)throw new h.IllegalArgumentError("illegal adata length");r.length?(a.adata=r,a._gcm_mac_process(r)):a.adata=void 0}else a.adata=void 0;if(a.counter<1||4294967295<a.counter)throw new RangeError("counter must be a positive 32-bit integer");return a.asm.set_counter(0,0,0,a.gamma0+a.counter|0),a}r.AES_GCM=e},{"../other/errors":14,"../other/utils":15,"./aes":3,"./aes.asm":2}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Hash=void 0;var u=e("../other/utils"),c=e("../other/errors"),e=(n.prototype.acquire_asm=function(){void 0===this.heap&&void 0===this.asm&&(this.heap=this.constructor.heap_pool.pop()||(0,u._heap_init)(),this.asm=this.constructor.asm_pool.pop()||this.constructor.asm_function({Uint8Array:Uint8Array},null,this.heap.buffer),this.reset())},n.prototype.release_asm=function(){this.constructor.heap_pool.push(this.heap),this.constructor.asm_pool.push(this.asm),this.heap=void 0,this.asm=void 0},n.prototype.reset=function(){return this.acquire_asm(),this.result=null,this.pos=0,this.len=0,this.asm.reset(),this},n.prototype.process=function(e){if(null!==this.result)throw new c.IllegalStateError("state must be reset before processing new data");this.acquire_asm();for(var t,r=this.asm,n=this.heap,a=this.pos,i=this.len,s=0,o=e.length;0<o;)i+=t=(0,u._heap_write)(n,a+i,e,s,o),s+=t,o-=t,a+=t=r.process(a,i),(i-=t)||(a=0);return this.pos=a,this.len=i,this},n.prototype.finish=function(){if(null!==this.result)throw new c.IllegalStateError("state must be reset before processing new data");return this.acquire_asm(),this.asm.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(this.heap.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this},n);function n(){this.pos=0,this.len=0,this.acquire_asm()}r.Hash=e},{"../other/errors":14,"../other/utils":15}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.sha1_asm=function(e,t,r){"use asm";var Be=0,Re=0,je=0,Ie=0,Oe=0,b=0,m=0;var g=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,P=0,x=0;var y=new e.Uint8Array(r);function ze(e,t,r,n,a,i,s,o,u,c,l,f,d,h,p,y){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;i=i|0;s=s|0;o=o|0;u=u|0;c=c|0;l=l|0;f=f|0;d=d|0;h=h|0;p=p|0;y=y|0;var b=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,P=0,x=0,M=0,K=0,C=0,U=0,T=0,B=0,R=0,j=0,I=0,O=0,z=0,D=0,N=0,F=0,q=0,L=0,H=0,W=0,G=0,Z=0,V=0,Y=0,$=0,J=0,X=0,Q=0,ee=0,te=0,re=0,ne=0,ae=0,ie=0,se=0,oe=0,ue=0,ce=0,le=0,fe=0,de=0,he=0,pe=0,ye=0,be=0,me=0,ge=0,we=0,ve=0,_e=0,ke=0,Ae=0,Se=0,Ee=0,Pe=0,xe=0,Me=0,Ke=0,Ce=0,Ue=0,Te=0;b=Be;m=Re;g=je;w=Ie;v=Oe;k=e+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=t+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=r+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=n+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=a+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=i+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=s+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=o+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=u+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=c+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=l+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=f+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=d+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=h+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=p+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;k=y+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=h^u^r^e;A=_<<1|_>>>31;k=A+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=p^c^n^t;S=_<<1|_>>>31;k=S+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=y^l^a^r;E=_<<1|_>>>31;k=E+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=A^f^i^n;P=_<<1|_>>>31;k=P+(b<<5|b>>>27)+v+(m&g|~m&w)+0x5a827999|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=S^d^s^a;x=_<<1|_>>>31;k=x+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=E^h^o^i;M=_<<1|_>>>31;k=M+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=P^p^u^s;K=_<<1|_>>>31;k=K+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=x^y^c^o;C=_<<1|_>>>31;k=C+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=M^A^l^u;U=_<<1|_>>>31;k=U+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=K^S^f^c;T=_<<1|_>>>31;k=T+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=C^E^d^l;B=_<<1|_>>>31;k=B+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=U^P^h^f;R=_<<1|_>>>31;k=R+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=T^x^p^d;j=_<<1|_>>>31;k=j+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=B^M^y^h;I=_<<1|_>>>31;k=I+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=R^K^A^p;O=_<<1|_>>>31;k=O+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=j^C^S^y;z=_<<1|_>>>31;k=z+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=I^U^E^A;D=_<<1|_>>>31;k=D+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=O^T^P^S;N=_<<1|_>>>31;k=N+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=z^B^x^E;F=_<<1|_>>>31;k=F+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=D^R^M^P;q=_<<1|_>>>31;k=q+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=N^j^K^x;L=_<<1|_>>>31;k=L+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=F^I^C^M;H=_<<1|_>>>31;k=H+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=q^O^U^K;W=_<<1|_>>>31;k=W+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=L^z^T^C;G=_<<1|_>>>31;k=G+(b<<5|b>>>27)+v+(m^g^w)+0x6ed9eba1|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=H^D^B^U;Z=_<<1|_>>>31;k=Z+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=W^N^R^T;V=_<<1|_>>>31;k=V+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=G^F^j^B;Y=_<<1|_>>>31;k=Y+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Z^q^I^R;$=_<<1|_>>>31;k=$+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=V^L^O^j;J=_<<1|_>>>31;k=J+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Y^H^z^I;X=_<<1|_>>>31;k=X+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=$^W^D^O;Q=_<<1|_>>>31;k=Q+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=J^G^N^z;ee=_<<1|_>>>31;k=ee+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=X^Z^F^D;te=_<<1|_>>>31;k=te+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Q^V^q^N;re=_<<1|_>>>31;k=re+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ee^Y^L^F;ne=_<<1|_>>>31;k=ne+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=te^$^H^q;ae=_<<1|_>>>31;k=ae+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=re^J^W^L;ie=_<<1|_>>>31;k=ie+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ne^X^G^H;se=_<<1|_>>>31;k=se+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ae^Q^Z^W;oe=_<<1|_>>>31;k=oe+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ie^ee^V^G;ue=_<<1|_>>>31;k=ue+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=se^te^Y^Z;ce=_<<1|_>>>31;k=ce+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=oe^re^$^V;le=_<<1|_>>>31;k=le+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ue^ne^J^Y;fe=_<<1|_>>>31;k=fe+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ce^ae^X^$;de=_<<1|_>>>31;k=de+(b<<5|b>>>27)+v+(m&g|m&w|g&w)-0x70e44324|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=le^ie^Q^J;he=_<<1|_>>>31;k=he+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=fe^se^ee^X;pe=_<<1|_>>>31;k=pe+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=de^oe^te^Q;ye=_<<1|_>>>31;k=ye+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=he^ue^re^ee;be=_<<1|_>>>31;k=be+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=pe^ce^ne^te;me=_<<1|_>>>31;k=me+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ye^le^ae^re;ge=_<<1|_>>>31;k=ge+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=be^fe^ie^ne;we=_<<1|_>>>31;k=we+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=me^de^se^ae;ve=_<<1|_>>>31;k=ve+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ge^he^oe^ie;_e=_<<1|_>>>31;k=_e+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=we^pe^ue^se;ke=_<<1|_>>>31;k=ke+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ve^ye^ce^oe;Ae=_<<1|_>>>31;k=Ae+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=_e^be^le^ue;Se=_<<1|_>>>31;k=Se+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=ke^me^fe^ce;Ee=_<<1|_>>>31;k=Ee+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Ae^ge^de^le;Pe=_<<1|_>>>31;k=Pe+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Se^we^he^fe;xe=_<<1|_>>>31;k=xe+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Ee^ve^pe^de;Me=_<<1|_>>>31;k=Me+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Pe^_e^ye^he;Ke=_<<1|_>>>31;k=Ke+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=xe^ke^be^pe;Ce=_<<1|_>>>31;k=Ce+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Me^Ae^me^ye;Ue=_<<1|_>>>31;k=Ue+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;_=Ke^Se^ge^be;Te=_<<1|_>>>31;k=Te+(b<<5|b>>>27)+v+(m^g^w)-0x359d3e2a|0;v=w;w=g;g=m<<30|m>>>2;m=b;b=k;Be=Be+b|0;Re=Re+m|0;je=je+g|0;Ie=Ie+w|0;Oe=Oe+v|0}function i(e){e=e|0;ze(y[e|0]<<24|y[e|1]<<16|y[e|2]<<8|y[e|3],y[e|4]<<24|y[e|5]<<16|y[e|6]<<8|y[e|7],y[e|8]<<24|y[e|9]<<16|y[e|10]<<8|y[e|11],y[e|12]<<24|y[e|13]<<16|y[e|14]<<8|y[e|15],y[e|16]<<24|y[e|17]<<16|y[e|18]<<8|y[e|19],y[e|20]<<24|y[e|21]<<16|y[e|22]<<8|y[e|23],y[e|24]<<24|y[e|25]<<16|y[e|26]<<8|y[e|27],y[e|28]<<24|y[e|29]<<16|y[e|30]<<8|y[e|31],y[e|32]<<24|y[e|33]<<16|y[e|34]<<8|y[e|35],y[e|36]<<24|y[e|37]<<16|y[e|38]<<8|y[e|39],y[e|40]<<24|y[e|41]<<16|y[e|42]<<8|y[e|43],y[e|44]<<24|y[e|45]<<16|y[e|46]<<8|y[e|47],y[e|48]<<24|y[e|49]<<16|y[e|50]<<8|y[e|51],y[e|52]<<24|y[e|53]<<16|y[e|54]<<8|y[e|55],y[e|56]<<24|y[e|57]<<16|y[e|58]<<8|y[e|59],y[e|60]<<24|y[e|61]<<16|y[e|62]<<8|y[e|63])}function M(e){e=e|0;y[e|0]=Be>>>24;y[e|1]=Be>>>16&255;y[e|2]=Be>>>8&255;y[e|3]=Be&255;y[e|4]=Re>>>24;y[e|5]=Re>>>16&255;y[e|6]=Re>>>8&255;y[e|7]=Re&255;y[e|8]=je>>>24;y[e|9]=je>>>16&255;y[e|10]=je>>>8&255;y[e|11]=je&255;y[e|12]=Ie>>>24;y[e|13]=Ie>>>16&255;y[e|14]=Ie>>>8&255;y[e|15]=Ie&255;y[e|16]=Oe>>>24;y[e|17]=Oe>>>16&255;y[e|18]=Oe>>>8&255;y[e|19]=Oe&255}function K(){Be=0x67452301;Re=0xefcdab89;je=0x98badcfe;Ie=0x10325476;Oe=0xc3d2e1f0;b=m=0}function o(e,t,r,n,a,i,s){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;i=i|0;s=s|0;Be=e;Re=t;je=r;Ie=n;Oe=a;b=i;m=s}function s(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){i(e);e=e+64|0;t=t-64|0;r=r+64|0}b=b+r|0;if(b>>>0<r>>>0)m=m+1|0;return r|0}function c(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=s(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;b=b+t|0;if(b>>>0<t>>>0)m=m+1|0;y[e|t]=0x80;if((t|0)>=56){for(a=t+1|0;(a|0)<64;a=a+1|0)y[e|a]=0x00;i(e);t=0;y[e|0]=0}for(a=t+1|0;(a|0)<59;a=a+1|0)y[e|a]=0;y[e|56]=m>>>21&255;y[e|57]=m>>>13&255;y[e|58]=m>>>5&255;y[e|59]=m<<3&255|b>>>29;y[e|60]=b>>>21&255;y[e|61]=b>>>13&255;y[e|62]=b>>>5&255;y[e|63]=b<<3&255;i(e);if(~r)M(r);return n|0}function C(){Be=g;Re=w;je=v;Ie=_;Oe=k;b=64;m=0}function U(){Be=A;Re=S;je=E;Ie=P;Oe=x;b=64;m=0}function T(e,t,r,n,a,i,s,o,u,c,l,f,d,h,p,y){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;i=i|0;s=s|0;o=o|0;u=u|0;c=c|0;l=l|0;f=f|0;d=d|0;h=h|0;p=p|0;y=y|0;K();ze(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,n^0x5c5c5c5c,a^0x5c5c5c5c,i^0x5c5c5c5c,s^0x5c5c5c5c,o^0x5c5c5c5c,u^0x5c5c5c5c,c^0x5c5c5c5c,l^0x5c5c5c5c,f^0x5c5c5c5c,d^0x5c5c5c5c,h^0x5c5c5c5c,p^0x5c5c5c5c,y^0x5c5c5c5c);A=Be;S=Re;E=je;P=Ie;x=Oe;K();ze(e^0x36363636,t^0x36363636,r^0x36363636,n^0x36363636,a^0x36363636,i^0x36363636,s^0x36363636,o^0x36363636,u^0x36363636,c^0x36363636,l^0x36363636,f^0x36363636,d^0x36363636,h^0x36363636,p^0x36363636,y^0x36363636);g=Be;w=Re;v=je;_=Ie;k=Oe;b=64;m=0}function B(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,i=0,s=0,o=0,u=0;if(e&63)return-1;if(~r)if(r&31)return-1;u=c(e,t,-1)|0;n=Be,a=Re,i=je,s=Ie,o=Oe;U();ze(n,a,i,s,o,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~r)M(r);return u|0}function R(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;var i=0,s=0,o=0,u=0,c=0,l=0,f=0,d=0,h=0,p=0;if(e&63)return-1;if(~a)if(a&31)return-1;y[e+t|0]=r>>>24;y[e+t+1|0]=r>>>16&255;y[e+t+2|0]=r>>>8&255;y[e+t+3|0]=r&255;B(e,t+4|0,-1)|0;i=l=Be,s=f=Re,o=d=je,u=h=Ie,c=p=Oe;n=n-1|0;while((n|0)>0){C();ze(l,f,d,h,p,0x80000000,0,0,0,0,0,0,0,0,0,672);l=Be,f=Re,d=je,h=Ie,p=Oe;U();ze(l,f,d,h,p,0x80000000,0,0,0,0,0,0,0,0,0,672);l=Be,f=Re,d=je,h=Ie,p=Oe;i=i^Be;s=s^Re;o=o^je;u=u^Ie;c=c^Oe;n=n-1|0}Be=i;Re=s;je=o;Ie=u;Oe=c;if(~a)M(a);return 0}return{reset:K,init:o,process:s,finish:c,hmac_reset:C,hmac_init:T,hmac_finish:B,pbkdf2_generate_block:R}}},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Sha1=r._sha1_hash_size=r._sha1_block_size=void 0;var n,a,i=e("./sha1.asm"),s=e("../hash"),e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=(r._sha1_block_size=64,r._sha1_hash_size=20,a=s.Hash,e(o,a),o.bytes=function(e){return(new o).process(e).finish().result},o.NAME="sha1",o.heap_pool=[],o.asm_pool=[],o.asm_function=i.sha1_asm,o);function o(){var e=null!==a&&a.apply(this,arguments)||this;return e.NAME="sha1",e.BLOCK_SIZE=64,e.HASH_SIZE=20,e}r.Sha1=i},{"../hash":9,"./sha1.asm":10}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.sha256_asm=function(e,t,r){"use asm";var S=0,E=0,P=0,x=0,M=0,K=0,C=0,U=0,b=0,m=0;var g=0,w=0,v=0,_=0,k=0,A=0,T=0,B=0,R=0,j=0,I=0,O=0,z=0,D=0,N=0,F=0;var q=new e.Uint8Array(r);function L(e,t,r,n,a,i,s,o,u,c,l,f,d,h,p,y){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;i=i|0;s=s|0;o=o|0;u=u|0;c=c|0;l=l|0;f=f|0;d=d|0;h=h|0;p=p|0;y=y|0;var b=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0;b=S;m=E;g=P;w=x;v=M;_=K;k=C;A=U;A=e+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0x428a2f98|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;k=t+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0x71374491|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;_=r+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0xb5c0fbcf|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;v=n+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0xe9b5dba5|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;w=a+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0x3956c25b|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;g=i+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0x59f111f1|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;m=s+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0x923f82a4|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;b=o+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0xab1c5ed5|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;A=u+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0xd807aa98|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;k=c+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0x12835b01|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;_=l+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0x243185be|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;v=f+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0x550c7dc3|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;w=d+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0x72be5d74|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;g=h+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0x80deb1fe|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;m=p+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0x9bdc06a7|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;b=y+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0xc19bf174|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+e+c|0;A=e+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0xe49b69c1|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+t+l|0;k=t+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0xefbe4786|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;r=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+f|0;_=r+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0x0fc19dc6|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;n=(a>>>7^a>>>18^a>>>3^a<<25^a<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+n+d|0;v=n+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0x240ca1cc|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;a=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+a+h|0;w=a+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0x2de92c6f|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;i=(s>>>7^s>>>18^s>>>3^s<<25^s<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+i+p|0;g=i+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0x4a7484aa|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;s=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(a>>>17^a>>>19^a>>>10^a<<15^a<<13)+s+y|0;m=s+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0x5cb0a9dc|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;o=(u>>>7^u>>>18^u>>>3^u<<25^u<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+o+e|0;b=o+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0x76f988da|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;u=(c>>>7^c>>>18^c>>>3^c<<25^c<<14)+(s>>>17^s>>>19^s>>>10^s<<15^s<<13)+u+t|0;A=u+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0x983e5152|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;c=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+c+r|0;k=c+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0xa831c66d|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;l=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(u>>>17^u>>>19^u>>>10^u<<15^u<<13)+l+n|0;_=l+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0xb00327c8|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+f+a|0;v=f+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0xbf597fc7|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;d=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+d+i|0;w=d+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0xc6e00bf3|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;h=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+h+s|0;g=h+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0xd5a79147|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+o|0;m=p+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0x06ca6351|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;y=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+y+u|0;b=y+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0x14292967|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+e+c|0;A=e+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0x27b70a85|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+t+l|0;k=t+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0x2e1b2138|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;r=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+f|0;_=r+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0x4d2c6dfc|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;n=(a>>>7^a>>>18^a>>>3^a<<25^a<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+n+d|0;v=n+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0x53380d13|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;a=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+a+h|0;w=a+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0x650a7354|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;i=(s>>>7^s>>>18^s>>>3^s<<25^s<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+i+p|0;g=i+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0x766a0abb|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;s=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(a>>>17^a>>>19^a>>>10^a<<15^a<<13)+s+y|0;m=s+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0x81c2c92e|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;o=(u>>>7^u>>>18^u>>>3^u<<25^u<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+o+e|0;b=o+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0x92722c85|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;u=(c>>>7^c>>>18^c>>>3^c<<25^c<<14)+(s>>>17^s>>>19^s>>>10^s<<15^s<<13)+u+t|0;A=u+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0xa2bfe8a1|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;c=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+c+r|0;k=c+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0xa81a664b|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;l=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(u>>>17^u>>>19^u>>>10^u<<15^u<<13)+l+n|0;_=l+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0xc24b8b70|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+f+a|0;v=f+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0xc76c51a3|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;d=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+d+i|0;w=d+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0xd192e819|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;h=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+h+s|0;g=h+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0xd6990624|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+o|0;m=p+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0xf40e3585|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;y=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+y+u|0;b=y+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0x106aa070|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+e+c|0;A=e+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0x19a4c116|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+t+l|0;k=t+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0x1e376c08|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;r=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+f|0;_=r+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0x2748774c|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;n=(a>>>7^a>>>18^a>>>3^a<<25^a<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+n+d|0;v=n+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0x34b0bcb5|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;a=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+a+h|0;w=a+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0x391c0cb3|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;i=(s>>>7^s>>>18^s>>>3^s<<25^s<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+i+p|0;g=i+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0x4ed8aa4a|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;s=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(a>>>17^a>>>19^a>>>10^a<<15^a<<13)+s+y|0;m=s+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0x5b9cca4f|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;o=(u>>>7^u>>>18^u>>>3^u<<25^u<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+o+e|0;b=o+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0x682e6ff3|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;u=(c>>>7^c>>>18^c>>>3^c<<25^c<<14)+(s>>>17^s>>>19^s>>>10^s<<15^s<<13)+u+t|0;A=u+A+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(k^v&(_^k))+0x748f82ee|0;w=w+A|0;A=A+(b&m^g&(b^m))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;c=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+c+r|0;k=c+k+(w>>>6^w>>>11^w>>>25^w<<26^w<<21^w<<7)+(_^w&(v^_))+0x78a5636f|0;g=g+k|0;k=k+(A&b^m&(A^b))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;l=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(u>>>17^u>>>19^u>>>10^u<<15^u<<13)+l+n|0;_=l+_+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(v^g&(w^v))+0x84c87814|0;m=m+_|0;_=_+(k&A^b&(k^A))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+f+a|0;v=f+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(w^m&(g^w))+0x8cc70208|0;b=b+v|0;v=v+(_&k^A&(_^k))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;d=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+d+i|0;w=d+w+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(g^b&(m^g))+0x90befffa|0;A=A+w|0;w=w+(v&_^k&(v^_))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;h=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+h+s|0;g=h+g+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(m^A&(b^m))+0xa4506ceb|0;k=k+g|0;g=g+(w&v^_&(w^v))+(w>>>2^w>>>13^w>>>22^w<<30^w<<19^w<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+o|0;m=p+m+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(b^k&(A^b))+0xbef9a3f7|0;_=_+m|0;m=m+(g&w^v&(g^w))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;y=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+y+u|0;b=y+b+(_>>>6^_>>>11^_>>>25^_<<26^_<<21^_<<7)+(A^_&(k^A))+0xc67178f2|0;v=v+b|0;b=b+(m&g^w&(m^g))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;S=S+b|0;E=E+m|0;P=P+g|0;x=x+w|0;M=M+v|0;K=K+_|0;C=C+k|0;U=U+A|0}function i(e){e=e|0;L(q[e|0]<<24|q[e|1]<<16|q[e|2]<<8|q[e|3],q[e|4]<<24|q[e|5]<<16|q[e|6]<<8|q[e|7],q[e|8]<<24|q[e|9]<<16|q[e|10]<<8|q[e|11],q[e|12]<<24|q[e|13]<<16|q[e|14]<<8|q[e|15],q[e|16]<<24|q[e|17]<<16|q[e|18]<<8|q[e|19],q[e|20]<<24|q[e|21]<<16|q[e|22]<<8|q[e|23],q[e|24]<<24|q[e|25]<<16|q[e|26]<<8|q[e|27],q[e|28]<<24|q[e|29]<<16|q[e|30]<<8|q[e|31],q[e|32]<<24|q[e|33]<<16|q[e|34]<<8|q[e|35],q[e|36]<<24|q[e|37]<<16|q[e|38]<<8|q[e|39],q[e|40]<<24|q[e|41]<<16|q[e|42]<<8|q[e|43],q[e|44]<<24|q[e|45]<<16|q[e|46]<<8|q[e|47],q[e|48]<<24|q[e|49]<<16|q[e|50]<<8|q[e|51],q[e|52]<<24|q[e|53]<<16|q[e|54]<<8|q[e|55],q[e|56]<<24|q[e|57]<<16|q[e|58]<<8|q[e|59],q[e|60]<<24|q[e|61]<<16|q[e|62]<<8|q[e|63])}function H(e){e=e|0;q[e|0]=S>>>24;q[e|1]=S>>>16&255;q[e|2]=S>>>8&255;q[e|3]=S&255;q[e|4]=E>>>24;q[e|5]=E>>>16&255;q[e|6]=E>>>8&255;q[e|7]=E&255;q[e|8]=P>>>24;q[e|9]=P>>>16&255;q[e|10]=P>>>8&255;q[e|11]=P&255;q[e|12]=x>>>24;q[e|13]=x>>>16&255;q[e|14]=x>>>8&255;q[e|15]=x&255;q[e|16]=M>>>24;q[e|17]=M>>>16&255;q[e|18]=M>>>8&255;q[e|19]=M&255;q[e|20]=K>>>24;q[e|21]=K>>>16&255;q[e|22]=K>>>8&255;q[e|23]=K&255;q[e|24]=C>>>24;q[e|25]=C>>>16&255;q[e|26]=C>>>8&255;q[e|27]=C&255;q[e|28]=U>>>24;q[e|29]=U>>>16&255;q[e|30]=U>>>8&255;q[e|31]=U&255}function W(){S=0x6a09e667;E=0xbb67ae85;P=0x3c6ef372;x=0xa54ff53a;M=0x510e527f;K=0x9b05688c;C=0x1f83d9ab;U=0x5be0cd19;b=m=0}function l(e,t,r,n,a,i,s,o,u,c){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;i=i|0;s=s|0;o=o|0;u=u|0;c=c|0;S=e;E=t;P=r;x=n;M=a;K=i;C=s;U=o;b=u;m=c}function s(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){i(e);e=e+64|0;t=t-64|0;r=r+64|0}b=b+r|0;if(b>>>0<r>>>0)m=m+1|0;return r|0}function d(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=s(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;b=b+t|0;if(b>>>0<t>>>0)m=m+1|0;q[e|t]=0x80;if((t|0)>=56){for(a=t+1|0;(a|0)<64;a=a+1|0)q[e|a]=0x00;i(e);t=0;q[e|0]=0}for(a=t+1|0;(a|0)<59;a=a+1|0)q[e|a]=0;q[e|56]=m>>>21&255;q[e|57]=m>>>13&255;q[e|58]=m>>>5&255;q[e|59]=m<<3&255|b>>>29;q[e|60]=b>>>21&255;q[e|61]=b>>>13&255;q[e|62]=b>>>5&255;q[e|63]=b<<3&255;i(e);if(~r)H(r);return n|0}function G(){S=g;E=w;P=v;x=_;M=k;K=A;C=T;U=B;b=64;m=0}function Z(){S=R;E=j;P=I;x=O;M=z;K=D;C=N;U=F;b=64;m=0}function V(e,t,r,n,a,i,s,o,u,c,l,f,d,h,p,y){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;i=i|0;s=s|0;o=o|0;u=u|0;c=c|0;l=l|0;f=f|0;d=d|0;h=h|0;p=p|0;y=y|0;W();L(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,n^0x5c5c5c5c,a^0x5c5c5c5c,i^0x5c5c5c5c,s^0x5c5c5c5c,o^0x5c5c5c5c,u^0x5c5c5c5c,c^0x5c5c5c5c,l^0x5c5c5c5c,f^0x5c5c5c5c,d^0x5c5c5c5c,h^0x5c5c5c5c,p^0x5c5c5c5c,y^0x5c5c5c5c);R=S;j=E;I=P;O=x;z=M;D=K;N=C;F=U;W();L(e^0x36363636,t^0x36363636,r^0x36363636,n^0x36363636,a^0x36363636,i^0x36363636,s^0x36363636,o^0x36363636,u^0x36363636,c^0x36363636,l^0x36363636,f^0x36363636,d^0x36363636,h^0x36363636,p^0x36363636,y^0x36363636);g=S;w=E;v=P;_=x;k=M;A=K;T=C;B=U;b=64;m=0}function Y(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,a=0,i=0,s=0,o=0,u=0,c=0,l=0,f=0;if(e&63)return-1;if(~r)if(r&31)return-1;f=d(e,t,-1)|0;n=S,a=E,i=P,s=x,o=M,u=K,c=C,l=U;Z();L(n,a,i,s,o,u,c,l,0x80000000,0,0,0,0,0,0,768);if(~r)H(r);return f|0}function $(e,t,r,n,a){e=e|0;t=t|0;r=r|0;n=n|0;a=a|0;var i=0,s=0,o=0,u=0,c=0,l=0,f=0,d=0,h=0,p=0,y=0,b=0,m=0,g=0,w=0,v=0;if(e&63)return-1;if(~a)if(a&31)return-1;q[e+t|0]=r>>>24;q[e+t+1|0]=r>>>16&255;q[e+t+2|0]=r>>>8&255;q[e+t+3|0]=r&255;Y(e,t+4|0,-1)|0;i=h=S,s=p=E,o=y=P,u=b=x,c=m=M,l=g=K,f=w=C,d=v=U;n=n-1|0;while((n|0)>0){G();L(h,p,y,b,m,g,w,v,0x80000000,0,0,0,0,0,0,768);h=S,p=E,y=P,b=x,m=M,g=K,w=C,v=U;Z();L(h,p,y,b,m,g,w,v,0x80000000,0,0,0,0,0,0,768);h=S,p=E,y=P,b=x,m=M,g=K,w=C,v=U;i=i^S;s=s^E;o=o^P;u=u^x;c=c^M;l=l^K;f=f^C;d=d^U;n=n-1|0}S=i;E=s;P=o;x=u;M=c;K=l;C=f;U=d;if(~a)H(a);return 0}return{reset:W,init:l,process:s,finish:d,hmac_reset:G,hmac_init:V,hmac_finish:Y,pbkdf2_generate_block:$}}},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Sha256=r._sha256_hash_size=r._sha256_block_size=void 0;var n,a,i=e("./sha256.asm"),s=e("../hash"),e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=(r._sha256_block_size=64,r._sha256_hash_size=32,a=s.Hash,e(o,a),o.bytes=function(e){return(new o).process(e).finish().result},o.NAME="sha256",o.heap_pool=[],o.asm_pool=[],o.asm_function=i.sha256_asm,o);function o(){var e=null!==a&&a.apply(this,arguments)||this;return e.NAME="sha256",e.BLOCK_SIZE=64,e.HASH_SIZE=32,e}r.Sha256=i},{"../hash":9,"./sha256.asm":12}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(a=Error,i(o,a),o);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.apply(this,e)||this;return Object.create(Error.prototype,{name:{value:"IllegalStateError"}}),r}r.IllegalStateError=s;var u,s=(u=Error,i(c,u),c);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.apply(this,e)||this;return Object.create(Error.prototype,{name:{value:"IllegalArgumentError"}}),r}r.IllegalArgumentError=s;var l,i=(l=Error,i(f,l),f);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.apply(this,e)||this;return Object.create(Error.prototype,{name:{value:"SecurityError"}}),r}r.SecurityError=i},{}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.string_to_bytes=i,r.hex_to_bytes=function(e){var t=e.length;1&t&&(e="0"+e,t++);for(var r=new Uint8Array(t>>1),n=0;n<t;n+=2)r[n>>1]=parseInt(e.substr(n,2),16);return r},r.base64_to_bytes=function(e){return i(n(e))},r.bytes_to_string=s,r.bytes_to_hex=function(e){for(var t="",r=0;r<e.length;r++){var n=(255&e[r]).toString(16);n.length<2&&(t+="0"),t+=n}return t},r.bytes_to_base64=function(e){return a(s(e))},r.pow2_ceil=function(e){return--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+=1},r.is_number=function(e){return"number"==typeof e},r.is_string=function(e){return"string"==typeof e},r.is_buffer=function(e){return e instanceof ArrayBuffer},r.is_bytes=function(e){return e instanceof Uint8Array},r.is_typed_array=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},r._heap_init=function(e,t){t=e?e.byteLength:t||65536;if(4095&t||t<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(t))},r._heap_write=function(e,t,r,n,a){var i=e.length-t,a=i<a?i:a;return e.set(r.subarray(n,n+a),t),a},r.joinBytes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(r),a=0,i=0;i<e.length;i++)n.set(e[i],a),a+=e[i].length;return n};var n="undefined"==typeof atob?function(e){return t("buffer").Buffer.from(e,"base64").toString("binary")}:atob,a="undefined"==typeof btoa?function(e){return t("buffer").Buffer.from(e,"binary").toString("base64")}:btoa;function i(e,t){void 0===t&&(t=!1);for(var r=e.length,n=new Uint8Array(t?4*r:r),a=0,i=0;a<r;a++){var s=e.charCodeAt(a);if(t&&55296<=s&&s<=56319){if(++a>=r)throw new Error("Malformed string, low surrogate expected at position "+a);s=(55296^s)<<10|65536|56320^e.charCodeAt(a)}else if(!t&&s>>>8)throw new Error("Wide characters are not allowed.");!t||s<=127?n[i++]=s:(s<=2047?n[i++]=192|s>>6:(s<=65535?n[i++]=224|s>>12:(n[i++]=240|s>>18,n[i++]=128|s>>12&63),n[i++]=128|s>>6&63),n[i++]=128|63&s)}return n.subarray(0,i)}function s(e,t){void 0===t&&(t=!1);for(var r=e.length,n=new Array(r),a=0,i=0;a<r;a++){var s=e[a];if(!t||s<128)n[i++]=s;else if(192<=s&&s<224&&a+1<r)n[i++]=(31&s)<<6|63&e[++a];else if(224<=s&&s<240&&a+2<r)n[i++]=(15&s)<<12|(63&e[++a])<<6|63&e[++a];else{if(!(240<=s&&s<248&&a+3<r))throw new Error("Malformed UTF8 character at byte offset "+a);s=(7&s)<<18|(63&e[++a])<<12|(63&e[++a])<<6|63&e[++a];s<=65535?n[i++]=s:(s^=65536,n[i++]=55296|s>>10,n[i++]=56320|1023&s)}}for(var o="",a=0;a<i;a+=16384)o+=String.fromCharCode.apply(String,n.slice(a,a+16384<=i?a+16384:i));return o}},{buffer:"buffer"}],16:[function(A,e,t){!function(e,t){"use strict";function y(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function b(e,t,r){if(b.isBN(e))return e;this.negative=0,this.words=null,this.length=0,(this.red=null)!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var n;"object"==typeof e?e.exports=b:t.BN=b,(b.BN=b).wordSize=26;try{n=A("buffer").Buffer}catch(e){}function s(e,t,r){for(var n=0,a=Math.min(e.length,r),i=t;i<a;i++){var s=e.charCodeAt(i)-48;n<<=4,n|=49<=s&&s<=54?s-49+10:17<=s&&s<=22?s-17+10:15&s}return n}function f(e,t,r,n){for(var a=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;a*=n,a+=49<=o?o-49+10:17<=o?o-17+10:o}return a}b.isBN=function(e){return e instanceof b||null!==e&&"object"==typeof e&&e.constructor.wordSize===b.wordSize&&Array.isArray(e.words)},b.max=function(e,t){return 0<e.cmp(t)?e:t},b.min=function(e,t){return e.cmp(t)<0?e:t},b.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);y((t="hex"===t?16:t)===(0|t)&&2<=t&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},b.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(y(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},b.prototype._initArray=function(e,t,r){if(y("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n,a,i=0;i<this.length;i++)this.words[i]=0;var s=0;if("be"===r)for(i=e.length-1,n=0;0<=i;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[n]|=a<<s&67108863,this.words[n+1]=a>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);else if("le"===r)for(n=i=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[n]|=a<<s&67108863,this.words[n+1]=a>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);return this.strip()},b.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r,n=0;n<this.length;n++)this.words[n]=0;for(var a=0,n=e.length-6,i=0;t<=n;n-=6)r=s(e,n,n+6),this.words[i]|=r<<a&67108863,this.words[i+1]|=r>>>26-a&4194303,26<=(a+=24)&&(a-=26,i++);n+6!==t&&(r=s(e,t,n+6),this.words[i]|=r<<a&67108863,this.words[i+1]|=r>>>26-a&4194303),this.strip()},b.prototype._parseBase=function(e,t,r){this.words=[0];for(var n=0,a=this.length=1;a<=67108863;a*=t)n++;for(var a=a/t|0,i=e.length-r,s=i%--n,o=Math.min(i,i-s)+r,u=0,c=r;c<o;c+=n)u=f(e,c,c+n,t),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!=s){for(var l=1,u=f(e,c,e.length,t),c=0;c<s;c++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},b.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},b.prototype.clone=function(){var e=new b(null);return this.copy(e),e},b.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function a(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0,n=(r.length=n)-1|0,a=(s=(0|e.words[0])*(0|t.words[0]))/67108864|0;r.words[0]=67108863&s;for(var i=1;i<n;i++){for(var s,o=a>>>26,u=67108863&a,c=Math.min(i,t.length-1),l=Math.max(0,i-e.length+1);l<=c;l++)o+=(s=(0|e.words[i-l|0])*(0|t.words[l])+u)/67108864|0,u=67108863&s;r.words[i]=0|u,a=0|o}return 0!==a?r.words[i]=0|a:r.length--,r.strip()}b.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){o="";for(var r=0,n=0,a=0;a<this.length;a++){var i=this.words[a],s=(16777215&(i<<r|n)).toString(16),o=0!==(n=i>>>24-r&16777215)||a!==this.length-1?d[6-s.length]+s+o:s+o;26<=(r+=2)&&(r-=26,a--)}for(0!==n&&(o=n.toString(16)+o);o.length%t!=0;)o="0"+o;return o=0!==this.negative?"-"+o:o}if(e===(0|e)&&2<=e&&e<=36){var u=h[e],c=p[e];for(o="",(l=this.clone()).negative=0;!l.isZero();){var l,f=l.modn(c).toString(e);o=(l=l.idivn(c)).isZero()?f+o:d[u-f.length]+f+o}for(this.isZero()&&(o="0"+o);o.length%t!=0;)o="0"+o;return o=0!==this.negative?"-"+o:o}y(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&y(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(e,t){return y(void 0!==n),this.toArrayLike(n,e,t)},b.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},b.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),a=r||Math.max(1,n);y(n<=a,"byte array longer than desired length"),y(0<a,"Requested array length <= 0"),this.strip();var i,s,t="le"===t,o=new e(a),u=this.clone();if(t){for(s=0;!u.isZero();s++)i=u.andln(255),u.iushrn(8),o[s]=i;for(;s<a;s++)o[s]=0}else{for(s=0;s<a-n;s++)o[s]=0;for(s=0;!u.isZero();s++)i=u.andln(255),u.iushrn(8),o[a-s-1]=i}return o},Math.clz32?b.prototype._countBits=function(e){return 32-Math.clz32(e)}:b.prototype._countBits=function(e){var t=e,e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},b.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,e=0;return 0==(8191&t)&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e},b.prototype.bitLength=function(){var e=this.words[this.length-1],e=this._countBits(e);return 26*(this.length-1)+e},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},b.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},b.prototype.ior=function(e){return y(0==(this.negative|e.negative)),this.iuor(e)},b.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},b.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},b.prototype.iuand=function(e){for(var t=this.length>e.length?e:this,r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},b.prototype.iand=function(e){return y(0==(this.negative|e.negative)),this.iuand(e)},b.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},b.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},b.prototype.iuxor=function(e){for(var t,r=this.length>e.length?(t=this,e):(t=e,this),n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},b.prototype.ixor=function(e){return y(0==(this.negative|e.negative)),this.iuxor(e)},b.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},b.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},b.prototype.inotn=function(e){y("number"==typeof e&&0<=e);var t=0|Math.ceil(e/26),e=e%26;this._expand(t),0<e&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return 0<e&&(this.words[r]=~this.words[r]&67108863>>26-e),this.strip()},b.prototype.notn=function(e){return this.clone().inotn(e)},b.prototype.setn=function(e,t){y("number"==typeof e&&0<=e);var r=e/26|0,e=e%26;return this._expand(1+r),this.words[r]=t?this.words[r]|1<<e:this.words[r]&~(1<<e),this.strip()},b.prototype.iadd=function(e){var t,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();for(var n=this.length>e.length?(r=this,e):(r=e,this),a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},b.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},b.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;for(var a=0<n?(r=this,e):(r=e,this),i=0,s=0;s<a.length;s++)i=(t=(0|r.words[s])-(0|a.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(e){return this.clone().isub(e)};var i=function(e,t,r){var n=e.words,a=t.words,i=r.words,s=0|n[0],o=8191&s,u=s>>>13,c=0|n[1],l=8191&c,f=c>>>13,d=0|n[2],h=8191&d,p=d>>>13,y=0|n[3],b=8191&y,m=y>>>13,g=0|n[4],w=8191&g,v=g>>>13,_=0|n[5],k=8191&_,A=_>>>13,S=0|n[6],E=8191&S,P=S>>>13,x=0|n[7],M=8191&x,K=x>>>13,C=0|n[8],U=8191&C,T=C>>>13,B=0|n[9],R=8191&B,j=B>>>13,I=0|a[0],O=8191&I,z=I>>>13,D=0|a[1],N=8191&D,F=D>>>13,q=0|a[2],L=8191&q,H=q>>>13,W=0|a[3],G=8191&W,Z=W>>>13,V=0|a[4],Y=8191&V,$=V>>>13,J=0|a[5],X=8191&J,Q=J>>>13,s=0|a[6],c=8191&s,d=s>>>13,y=0|a[7],g=8191&y,_=y>>>13,S=0|a[8],x=8191&S,C=S>>>13,n=0|a[9],B=8191&n,I=n>>>13;r.negative=e.negative^t.negative,r.length=19;var W=(0+Math.imul(o,O)|0)+((8191&(q=(q=Math.imul(o,z))+Math.imul(u,O)|0))<<13)|0,ee=((V=Math.imul(u,z))+(q>>>13)|0)+(W>>>26)|0;W&=67108863,D=Math.imul(l,O),q=(q=Math.imul(l,z))+Math.imul(f,O)|0,V=Math.imul(f,z);J=(ee+(D+Math.imul(o,N)|0)|0)+((8191&(q=(q=q+Math.imul(o,F)|0)+Math.imul(u,N)|0))<<13)|0;ee=((V=V+Math.imul(u,F)|0)+(q>>>13)|0)+(J>>>26)|0,J&=67108863,D=Math.imul(h,O),q=(q=Math.imul(h,z))+Math.imul(p,O)|0,V=Math.imul(p,z),D=D+Math.imul(l,N)|0,q=(q=q+Math.imul(l,F)|0)+Math.imul(f,N)|0,V=V+Math.imul(f,F)|0;s=(ee+(D+Math.imul(o,L)|0)|0)+((8191&(q=(q=q+Math.imul(o,H)|0)+Math.imul(u,L)|0))<<13)|0;ee=((V=V+Math.imul(u,H)|0)+(q>>>13)|0)+(s>>>26)|0,s&=67108863,D=Math.imul(b,O),q=(q=Math.imul(b,z))+Math.imul(m,O)|0,V=Math.imul(m,z),D=D+Math.imul(h,N)|0,q=(q=q+Math.imul(h,F)|0)+Math.imul(p,N)|0,V=V+Math.imul(p,F)|0,D=D+Math.imul(l,L)|0,q=(q=q+Math.imul(l,H)|0)+Math.imul(f,L)|0,V=V+Math.imul(f,H)|0;y=(ee+(D+Math.imul(o,G)|0)|0)+((8191&(q=(q=q+Math.imul(o,Z)|0)+Math.imul(u,G)|0))<<13)|0;ee=((V=V+Math.imul(u,Z)|0)+(q>>>13)|0)+(y>>>26)|0,y&=67108863,D=Math.imul(w,O),q=(q=Math.imul(w,z))+Math.imul(v,O)|0,V=Math.imul(v,z),D=D+Math.imul(b,N)|0,q=(q=q+Math.imul(b,F)|0)+Math.imul(m,N)|0,V=V+Math.imul(m,F)|0,D=D+Math.imul(h,L)|0,q=(q=q+Math.imul(h,H)|0)+Math.imul(p,L)|0,V=V+Math.imul(p,H)|0,D=D+Math.imul(l,G)|0,q=(q=q+Math.imul(l,Z)|0)+Math.imul(f,G)|0,V=V+Math.imul(f,Z)|0;S=(ee+(D+Math.imul(o,Y)|0)|0)+((8191&(q=(q=q+Math.imul(o,$)|0)+Math.imul(u,Y)|0))<<13)|0;ee=((V=V+Math.imul(u,$)|0)+(q>>>13)|0)+(S>>>26)|0,S&=67108863,D=Math.imul(k,O),q=(q=Math.imul(k,z))+Math.imul(A,O)|0,V=Math.imul(A,z),D=D+Math.imul(w,N)|0,q=(q=q+Math.imul(w,F)|0)+Math.imul(v,N)|0,V=V+Math.imul(v,F)|0,D=D+Math.imul(b,L)|0,q=(q=q+Math.imul(b,H)|0)+Math.imul(m,L)|0,V=V+Math.imul(m,H)|0,D=D+Math.imul(h,G)|0,q=(q=q+Math.imul(h,Z)|0)+Math.imul(p,G)|0,V=V+Math.imul(p,Z)|0,D=D+Math.imul(l,Y)|0,q=(q=q+Math.imul(l,$)|0)+Math.imul(f,Y)|0,V=V+Math.imul(f,$)|0;a=(ee+(D+Math.imul(o,X)|0)|0)+((8191&(q=(q=q+Math.imul(o,Q)|0)+Math.imul(u,X)|0))<<13)|0;ee=((V=V+Math.imul(u,Q)|0)+(q>>>13)|0)+(a>>>26)|0,a&=67108863,D=Math.imul(E,O),q=(q=Math.imul(E,z))+Math.imul(P,O)|0,V=Math.imul(P,z),D=D+Math.imul(k,N)|0,q=(q=q+Math.imul(k,F)|0)+Math.imul(A,N)|0,V=V+Math.imul(A,F)|0,D=D+Math.imul(w,L)|0,q=(q=q+Math.imul(w,H)|0)+Math.imul(v,L)|0,V=V+Math.imul(v,H)|0,D=D+Math.imul(b,G)|0,q=(q=q+Math.imul(b,Z)|0)+Math.imul(m,G)|0,V=V+Math.imul(m,Z)|0,D=D+Math.imul(h,Y)|0,q=(q=q+Math.imul(h,$)|0)+Math.imul(p,Y)|0,V=V+Math.imul(p,$)|0,D=D+Math.imul(l,X)|0,q=(q=q+Math.imul(l,Q)|0)+Math.imul(f,X)|0,V=V+Math.imul(f,Q)|0;n=(ee+(D+Math.imul(o,c)|0)|0)+((8191&(q=(q=q+Math.imul(o,d)|0)+Math.imul(u,c)|0))<<13)|0;ee=((V=V+Math.imul(u,d)|0)+(q>>>13)|0)+(n>>>26)|0,n&=67108863,D=Math.imul(M,O),q=(q=Math.imul(M,z))+Math.imul(K,O)|0,V=Math.imul(K,z),D=D+Math.imul(E,N)|0,q=(q=q+Math.imul(E,F)|0)+Math.imul(P,N)|0,V=V+Math.imul(P,F)|0,D=D+Math.imul(k,L)|0,q=(q=q+Math.imul(k,H)|0)+Math.imul(A,L)|0,V=V+Math.imul(A,H)|0,D=D+Math.imul(w,G)|0,q=(q=q+Math.imul(w,Z)|0)+Math.imul(v,G)|0,V=V+Math.imul(v,Z)|0,D=D+Math.imul(b,Y)|0,q=(q=q+Math.imul(b,$)|0)+Math.imul(m,Y)|0,V=V+Math.imul(m,$)|0,D=D+Math.imul(h,X)|0,q=(q=q+Math.imul(h,Q)|0)+Math.imul(p,X)|0,V=V+Math.imul(p,Q)|0,D=D+Math.imul(l,c)|0,q=(q=q+Math.imul(l,d)|0)+Math.imul(f,c)|0,V=V+Math.imul(f,d)|0;e=(ee+(D+Math.imul(o,g)|0)|0)+((8191&(q=(q=q+Math.imul(o,_)|0)+Math.imul(u,g)|0))<<13)|0;ee=((V=V+Math.imul(u,_)|0)+(q>>>13)|0)+(e>>>26)|0,e&=67108863,D=Math.imul(U,O),q=(q=Math.imul(U,z))+Math.imul(T,O)|0,V=Math.imul(T,z),D=D+Math.imul(M,N)|0,q=(q=q+Math.imul(M,F)|0)+Math.imul(K,N)|0,V=V+Math.imul(K,F)|0,D=D+Math.imul(E,L)|0,q=(q=q+Math.imul(E,H)|0)+Math.imul(P,L)|0,V=V+Math.imul(P,H)|0,D=D+Math.imul(k,G)|0,q=(q=q+Math.imul(k,Z)|0)+Math.imul(A,G)|0,V=V+Math.imul(A,Z)|0,D=D+Math.imul(w,Y)|0,q=(q=q+Math.imul(w,$)|0)+Math.imul(v,Y)|0,V=V+Math.imul(v,$)|0,D=D+Math.imul(b,X)|0,q=(q=q+Math.imul(b,Q)|0)+Math.imul(m,X)|0,V=V+Math.imul(m,Q)|0,D=D+Math.imul(h,c)|0,q=(q=q+Math.imul(h,d)|0)+Math.imul(p,c)|0,V=V+Math.imul(p,d)|0,D=D+Math.imul(l,g)|0,q=(q=q+Math.imul(l,_)|0)+Math.imul(f,g)|0,V=V+Math.imul(f,_)|0;t=(ee+(D+Math.imul(o,x)|0)|0)+((8191&(q=(q=q+Math.imul(o,C)|0)+Math.imul(u,x)|0))<<13)|0;ee=((V=V+Math.imul(u,C)|0)+(q>>>13)|0)+(t>>>26)|0,t&=67108863,D=Math.imul(R,O),q=(q=Math.imul(R,z))+Math.imul(j,O)|0,V=Math.imul(j,z),D=D+Math.imul(U,N)|0,q=(q=q+Math.imul(U,F)|0)+Math.imul(T,N)|0,V=V+Math.imul(T,F)|0,D=D+Math.imul(M,L)|0,q=(q=q+Math.imul(M,H)|0)+Math.imul(K,L)|0,V=V+Math.imul(K,H)|0,D=D+Math.imul(E,G)|0,q=(q=q+Math.imul(E,Z)|0)+Math.imul(P,G)|0,V=V+Math.imul(P,Z)|0,D=D+Math.imul(k,Y)|0,q=(q=q+Math.imul(k,$)|0)+Math.imul(A,Y)|0,V=V+Math.imul(A,$)|0,D=D+Math.imul(w,X)|0,q=(q=q+Math.imul(w,Q)|0)+Math.imul(v,X)|0,V=V+Math.imul(v,Q)|0,D=D+Math.imul(b,c)|0,q=(q=q+Math.imul(b,d)|0)+Math.imul(m,c)|0,V=V+Math.imul(m,d)|0,D=D+Math.imul(h,g)|0,q=(q=q+Math.imul(h,_)|0)+Math.imul(p,g)|0,V=V+Math.imul(p,_)|0,D=D+Math.imul(l,x)|0,q=(q=q+Math.imul(l,C)|0)+Math.imul(f,x)|0,V=V+Math.imul(f,C)|0;o=(ee+(D+Math.imul(o,B)|0)|0)+((8191&(q=(q=q+Math.imul(o,I)|0)+Math.imul(u,B)|0))<<13)|0;ee=((V=V+Math.imul(u,I)|0)+(q>>>13)|0)+(o>>>26)|0,o&=67108863,D=Math.imul(R,N),q=(q=Math.imul(R,F))+Math.imul(j,N)|0,V=Math.imul(j,F),D=D+Math.imul(U,L)|0,q=(q=q+Math.imul(U,H)|0)+Math.imul(T,L)|0,V=V+Math.imul(T,H)|0,D=D+Math.imul(M,G)|0,q=(q=q+Math.imul(M,Z)|0)+Math.imul(K,G)|0,V=V+Math.imul(K,Z)|0,D=D+Math.imul(E,Y)|0,q=(q=q+Math.imul(E,$)|0)+Math.imul(P,Y)|0,V=V+Math.imul(P,$)|0,D=D+Math.imul(k,X)|0,q=(q=q+Math.imul(k,Q)|0)+Math.imul(A,X)|0,V=V+Math.imul(A,Q)|0,D=D+Math.imul(w,c)|0,q=(q=q+Math.imul(w,d)|0)+Math.imul(v,c)|0,V=V+Math.imul(v,d)|0,D=D+Math.imul(b,g)|0,q=(q=q+Math.imul(b,_)|0)+Math.imul(m,g)|0,V=V+Math.imul(m,_)|0,D=D+Math.imul(h,x)|0,q=(q=q+Math.imul(h,C)|0)+Math.imul(p,x)|0,V=V+Math.imul(p,C)|0;l=(ee+(D+Math.imul(l,B)|0)|0)+((8191&(q=(q=q+Math.imul(l,I)|0)+Math.imul(f,B)|0))<<13)|0;ee=((V=V+Math.imul(f,I)|0)+(q>>>13)|0)+(l>>>26)|0,l&=67108863,D=Math.imul(R,L),q=(q=Math.imul(R,H))+Math.imul(j,L)|0,V=Math.imul(j,H),D=D+Math.imul(U,G)|0,q=(q=q+Math.imul(U,Z)|0)+Math.imul(T,G)|0,V=V+Math.imul(T,Z)|0,D=D+Math.imul(M,Y)|0,q=(q=q+Math.imul(M,$)|0)+Math.imul(K,Y)|0,V=V+Math.imul(K,$)|0,D=D+Math.imul(E,X)|0,q=(q=q+Math.imul(E,Q)|0)+Math.imul(P,X)|0,V=V+Math.imul(P,Q)|0,D=D+Math.imul(k,c)|0,q=(q=q+Math.imul(k,d)|0)+Math.imul(A,c)|0,V=V+Math.imul(A,d)|0,D=D+Math.imul(w,g)|0,q=(q=q+Math.imul(w,_)|0)+Math.imul(v,g)|0,V=V+Math.imul(v,_)|0,D=D+Math.imul(b,x)|0,q=(q=q+Math.imul(b,C)|0)+Math.imul(m,x)|0,V=V+Math.imul(m,C)|0;h=(ee+(D+Math.imul(h,B)|0)|0)+((8191&(q=(q=q+Math.imul(h,I)|0)+Math.imul(p,B)|0))<<13)|0;ee=((V=V+Math.imul(p,I)|0)+(q>>>13)|0)+(h>>>26)|0,h&=67108863,D=Math.imul(R,G),q=(q=Math.imul(R,Z))+Math.imul(j,G)|0,V=Math.imul(j,Z),D=D+Math.imul(U,Y)|0,q=(q=q+Math.imul(U,$)|0)+Math.imul(T,Y)|0,V=V+Math.imul(T,$)|0,D=D+Math.imul(M,X)|0,q=(q=q+Math.imul(M,Q)|0)+Math.imul(K,X)|0,V=V+Math.imul(K,Q)|0,D=D+Math.imul(E,c)|0,q=(q=q+Math.imul(E,d)|0)+Math.imul(P,c)|0,V=V+Math.imul(P,d)|0,D=D+Math.imul(k,g)|0,q=(q=q+Math.imul(k,_)|0)+Math.imul(A,g)|0,V=V+Math.imul(A,_)|0,D=D+Math.imul(w,x)|0,q=(q=q+Math.imul(w,C)|0)+Math.imul(v,x)|0,V=V+Math.imul(v,C)|0;b=(ee+(D+Math.imul(b,B)|0)|0)+((8191&(q=(q=q+Math.imul(b,I)|0)+Math.imul(m,B)|0))<<13)|0;ee=((V=V+Math.imul(m,I)|0)+(q>>>13)|0)+(b>>>26)|0,b&=67108863,D=Math.imul(R,Y),q=(q=Math.imul(R,$))+Math.imul(j,Y)|0,V=Math.imul(j,$),D=D+Math.imul(U,X)|0,q=(q=q+Math.imul(U,Q)|0)+Math.imul(T,X)|0,V=V+Math.imul(T,Q)|0,D=D+Math.imul(M,c)|0,q=(q=q+Math.imul(M,d)|0)+Math.imul(K,c)|0,V=V+Math.imul(K,d)|0,D=D+Math.imul(E,g)|0,q=(q=q+Math.imul(E,_)|0)+Math.imul(P,g)|0,V=V+Math.imul(P,_)|0,D=D+Math.imul(k,x)|0,q=(q=q+Math.imul(k,C)|0)+Math.imul(A,x)|0,V=V+Math.imul(A,C)|0;w=(ee+(D+Math.imul(w,B)|0)|0)+((8191&(q=(q=q+Math.imul(w,I)|0)+Math.imul(v,B)|0))<<13)|0;ee=((V=V+Math.imul(v,I)|0)+(q>>>13)|0)+(w>>>26)|0,w&=67108863,D=Math.imul(R,X),q=(q=Math.imul(R,Q))+Math.imul(j,X)|0,V=Math.imul(j,Q),D=D+Math.imul(U,c)|0,q=(q=q+Math.imul(U,d)|0)+Math.imul(T,c)|0,V=V+Math.imul(T,d)|0,D=D+Math.imul(M,g)|0,q=(q=q+Math.imul(M,_)|0)+Math.imul(K,g)|0,V=V+Math.imul(K,_)|0,D=D+Math.imul(E,x)|0,q=(q=q+Math.imul(E,C)|0)+Math.imul(P,x)|0,V=V+Math.imul(P,C)|0;k=(ee+(D+Math.imul(k,B)|0)|0)+((8191&(q=(q=q+Math.imul(k,I)|0)+Math.imul(A,B)|0))<<13)|0;ee=((V=V+Math.imul(A,I)|0)+(q>>>13)|0)+(k>>>26)|0,k&=67108863,D=Math.imul(R,c),q=(q=Math.imul(R,d))+Math.imul(j,c)|0,V=Math.imul(j,d),D=D+Math.imul(U,g)|0,q=(q=q+Math.imul(U,_)|0)+Math.imul(T,g)|0,V=V+Math.imul(T,_)|0,D=D+Math.imul(M,x)|0,q=(q=q+Math.imul(M,C)|0)+Math.imul(K,x)|0,V=V+Math.imul(K,C)|0;E=(ee+(D+Math.imul(E,B)|0)|0)+((8191&(q=(q=q+Math.imul(E,I)|0)+Math.imul(P,B)|0))<<13)|0;ee=((V=V+Math.imul(P,I)|0)+(q>>>13)|0)+(E>>>26)|0,E&=67108863,D=Math.imul(R,g),q=(q=Math.imul(R,_))+Math.imul(j,g)|0,V=Math.imul(j,_),D=D+Math.imul(U,x)|0,q=(q=q+Math.imul(U,C)|0)+Math.imul(T,x)|0,V=V+Math.imul(T,C)|0;M=(ee+(D+Math.imul(M,B)|0)|0)+((8191&(q=(q=q+Math.imul(M,I)|0)+Math.imul(K,B)|0))<<13)|0;ee=((V=V+Math.imul(K,I)|0)+(q>>>13)|0)+(M>>>26)|0,M&=67108863,D=Math.imul(R,x),q=(q=Math.imul(R,C))+Math.imul(j,x)|0,V=Math.imul(j,C);U=(ee+(D+Math.imul(U,B)|0)|0)+((8191&(q=(q=q+Math.imul(U,I)|0)+Math.imul(T,B)|0))<<13)|0;ee=((V=V+Math.imul(T,I)|0)+(q>>>13)|0)+(U>>>26)|0,U&=67108863;B=(ee+Math.imul(R,B)|0)+((8191&(q=(q=Math.imul(R,I))+Math.imul(j,B)|0))<<13)|0;return ee=((V=Math.imul(j,I))+(q>>>13)|0)+(B>>>26)|0,B&=67108863,i[0]=W,i[1]=J,i[2]=s,i[3]=y,i[4]=S,i[5]=a,i[6]=n,i[7]=e,i[8]=t,i[9]=o,i[10]=l,i[11]=h,i[12]=b,i[13]=w,i[14]=k,i[15]=E,i[16]=M,i[17]=U,i[18]=B,0!=ee&&(i[19]=ee,r.length++),r};function o(e,t,r){return(new u).mulp(e,t,r)}function u(e,t){this.x=e,this.y=t}Math.imul||(i=a),b.prototype.mulTo=function(e,t){var r=this.length+e.length,t=(10===this.length&&10===e.length?i:r<63?a:r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){for(var s=a,a=0,o=67108863&n,u=Math.min(i,t.length-1),c=Math.max(0,i-e.length+1);c<=u;c++){var l,f=(0|e.words[i-c])*(0|t.words[c]),o=67108863&(l=(l=67108863&f)+o|0);a+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r.strip()}:o)(this,e,t);return t},u.prototype.makeRBT=function(e){for(var t=new Array(e),r=b.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},u.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},u.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},u.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,u=Math.cos(2*Math.PI/o),c=Math.sin(2*Math.PI/o),l=0;l<a;l+=o)for(var f=u,d=c,h=0;h<s;h++){var p=r[l+h],y=n[l+h],b=r[l+h+s],m=f*b-d*(g=n[l+h+s]),g=f*g+d*b;r[l+h]=p+(b=m),n[l+h]=y+g,r[l+h+s]=p-b,n[l+h+s]=y-g,h!==o&&(m=u*f-c*d,d=u*d+c*f,f=m)}},u.prototype.guessLen13b=function(e,t){for(var e=1&(n=1|Math.max(t,e)),r=0,n=n/2|0;n;n>>>=1)r++;return 1<<r+1+e},u.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},u.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},u.prototype.convert13b=function(e,t,r,n){for(var a=0,i=0;i<t;i++)a+=0|e[i],r[2*i]=8191&a,r[2*i+1]=8191&(a>>>=13),a>>>=13;for(i=2*t;i<n;++i)r[i]=0;y(0===a),y(0==(-8192&a))},u.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},u.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,i,o,u,n,a),this.transform(c,i,l,f,n,a);for(var h=0;h<n;h++){var p=o[h]*l[h]-u[h]*f[h];u[h]=o[h]*f[h]+u[h]*l[h],o[h]=p}return this.conjugate(o,u,n),this.transform(o,u,d,i,n,a),this.conjugate(d,i,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},b.prototype.mul=function(e){var t=new b(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},b.prototype.mulf=function(e){var t=new b(null);return t.words=new Array(this.length+e.length),o(this,e,t)},b.prototype.imul=function(e){return this.clone().mulTo(e,this)},b.prototype.imuln=function(e){y("number"==typeof e),y(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,a=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},b.prototype.muln=function(e){return this.clone().imuln(e)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r%26;t[r]=(e.words[r/26|0]&1<<n)>>>n}return t}(e);if(0===t.length)return new b(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},b.prototype.iushln=function(e){y("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26,n=67108863>>>26-t<<26-t;if(0!=t){for(var a=0,i=0;i<this.length;i++){var s=this.words[i]&n,o=(0|this.words[i])-s<<t;this.words[i]=o|a,a=s>>>26-t}a&&(this.words[i]=a,this.length++)}if(0!=r){for(i=this.length-1;0<=i;i--)this.words[i+r]=this.words[i];for(i=0;i<r;i++)this.words[i]=0;this.length+=r}return this.strip()},b.prototype.ishln=function(e){return y(0===this.negative),this.iushln(e)},b.prototype.iushrn=function(e,t,r){y("number"==typeof e&&0<=e);var n=t?(t-t%26)/26:0,a=e%26,i=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,o=r;if(n-=i,n=Math.max(0,n),o){for(var u=0;u<i;u++)o.words[u]=this.words[u];o.length=i}if(0!==i)if(this.length>i)for(this.length-=i,u=0;u<this.length;u++)this.words[u]=this.words[u+i];else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;0<=u&&(0!==c||n<=u);u--){var l=0|this.words[u];this.words[u]=c<<26-a|l>>>a,c=l&s}return o&&0!==c&&(o.words[o.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(e,t,r){return y(0===this.negative),this.iushrn(e,t,r)},b.prototype.shln=function(e){return this.clone().ishln(e)},b.prototype.ushln=function(e){return this.clone().iushln(e)},b.prototype.shrn=function(e){return this.clone().ishrn(e)},b.prototype.ushrn=function(e){return this.clone().iushrn(e)},b.prototype.testn=function(e){y("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return!(this.length<=e)&&!!(this.words[e]&1<<t)},b.prototype.imaskn=function(e){y("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return y(0===this.negative,"imaskn works only with positive numbers"),this.length<=e?this:(0!=t&&e++,this.length=Math.min(e,this.length),0!=t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},b.prototype.maskn=function(e){return this.clone().imaskn(e)},b.prototype.iaddn=function(e){return y("number"==typeof e),y(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},b.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},b.prototype.isubn=function(e){if(y("number"==typeof e),y(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,--this.words[t+1];return this.strip()},b.prototype.addn=function(e){return this.clone().iaddn(e)},b.prototype.subn=function(e){return this.clone().isubn(e)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(e,t,r){var n=e.length+r;this._expand(n);for(var a=0,i=0;i<e.length;i++){var s=(0|this.words[i+r])+a,o=(0|e.words[i])*t,a=((s-=67108863&o)>>26)-(o/67108864|0);this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(y(-1===a),i=a=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},b.prototype._wordDiv=function(e,t){var r=this.length-e.length,n=this.clone(),a=e,i=0|a.words[a.length-1];0!=(r=26-this._countBits(i))&&(a=a.ushln(r),n.iushln(r),i=0|a.words[a.length-1]);var s,o=n.length-a.length;if("mod"!==t){(s=new b(null)).length=1+o,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}e=n.clone()._ishlnsubmul(a,1,o);0===e.negative&&(n=e,s&&(s.words[o]=1));for(var c=o-1;0<=c;c--){var l=67108864*(0|n.words[a.length+c])+(0|n.words[a.length+c-1]),l=Math.min(l/i|0,67108863);for(n._ishlnsubmul(a,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=l)}return s&&s.strip(),n.strip(),"div"!==t&&0!=r&&n.iushrn(r),{div:s||null,mod:n}},b.prototype.divmod=function(e,t,r){return y(!e.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===e.negative?(i=this.neg().divmod(e,t),"mod"!==t&&(n=i.div.neg()),"div"!==t&&(a=i.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(i=this.divmod(e.neg(),t),{div:n="mod"!==t?i.div.neg():n,mod:i.mod}):0!=(this.negative&e.negative)?(i=this.neg().divmod(e.neg(),t),"div"!==t&&(a=i.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:i.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new b(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new b(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new b(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,a,i},b.prototype.div=function(e){return this.divmod(e,"div",!1).div},b.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},b.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},b.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),e=e.andln(1),n=r.cmp(n);return n<0||1===e&&0===n?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},b.prototype.modn=function(e){y(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;0<=n;n--)r=(t*r+(0|this.words[n]))%e;return r},b.prototype.idivn=function(e){y(e<=67108863);for(var t=0,r=this.length-1;0<=r;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},b.prototype.divn=function(e){return this.clone().idivn(e)},b.prototype.egcd=function(e){y(0===e.negative),y(!e.isZero());for(var t=this,r=e.clone(),t=0!==t.negative?t.umod(e):t.clone(),n=new b(1),a=new b(0),i=new b(0),s=new b(1),o=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++o;for(var u=r.clone(),c=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(0<l)for(t.iushrn(l);0<l--;)(n.isOdd()||a.isOdd())&&(n.iadd(u),a.isub(c)),n.iushrn(1),a.iushrn(1);for(var d=0,h=1;0==(r.words[0]&h)&&d<26;++d,h<<=1);if(0<d)for(r.iushrn(d);0<d--;)(i.isOdd()||s.isOdd())&&(i.iadd(u),s.isub(c)),i.iushrn(1),s.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(i),a.isub(s)):(r.isub(t),i.isub(n),s.isub(a))}return{a:i,b:s,gcd:r.iushln(o)}},b.prototype._invmp=function(e){y(0===e.negative),y(!e.isZero());for(var t,r=this,n=e.clone(),r=0!==r.negative?r.umod(e):r.clone(),a=new b(1),i=new b(0),s=n.clone();0<r.cmpn(1)&&0<n.cmpn(1);){for(var o=0,u=1;0==(r.words[0]&u)&&o<26;++o,u<<=1);if(0<o)for(r.iushrn(o);0<o--;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var c=0,l=1;0==(n.words[0]&l)&&c<26;++c,l<<=1);if(0<c)for(n.iushrn(c);0<c--;)i.isOdd()&&i.iadd(s),i.iushrn(1);0<=r.cmp(n)?(r.isub(n),a.isub(i)):(n.isub(r),i.isub(a))}return(t=0===r.cmpn(1)?a:i).cmpn(0)<0&&t.iadd(e),t},b.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0;for(var n=r.negative=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0)var i=t,t=r,r=i;else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},b.prototype.invm=function(e){return this.egcd(e).a.umod(e)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(e){return this.words[0]&e},b.prototype.bincn=function(e){y("number"==typeof e);var t=e%26,e=(e-t)/26,t=1<<t;if(this.length<=e)return this._expand(1+e),this.words[e]|=t,this;for(var r=t,n=e;0!==r&&n<this.length;n++){var a=0|this.words[n],r=(a+=r)>>>26;a&=67108863,this.words[n]=a}return 0!==r&&(this.words[n]=r,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(e){var t=e<0;return 0===this.negative||t?0===this.negative&&t?1:(this.strip(),e=1<this.length?1:(y((e=t?-e:e)<=67108863,"Number is too big"),(t=0|this.words[0])===e?0:t<e?-1:1),0!==this.negative?0|-e:e):-1},b.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;e=this.ucmp(e);return 0!==this.negative?0|-e:e},b.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],a=0|e.words[r];if(n!=a){n<a?t=-1:a<n&&(t=1);break}}return t},b.prototype.gtn=function(e){return 1===this.cmpn(e)},b.prototype.gt=function(e){return 1===this.cmp(e)},b.prototype.gten=function(e){return 0<=this.cmpn(e)},b.prototype.gte=function(e){return 0<=this.cmp(e)},b.prototype.ltn=function(e){return-1===this.cmpn(e)},b.prototype.lt=function(e){return-1===this.cmp(e)},b.prototype.lten=function(e){return this.cmpn(e)<=0},b.prototype.lte=function(e){return this.cmp(e)<=0},b.prototype.eqn=function(e){return 0===this.cmpn(e)},b.prototype.eq=function(e){return 0===this.cmp(e)},b.red=function(e){return new _(e)},b.prototype.toRed=function(e){return y(!this.red,"Already a number in reduction context"),y(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},b.prototype.fromRed=function(){return y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(e){return this.red=e,this},b.prototype.forceRed=function(e){return y(!this.red,"Already a number in reduction context"),this._forceRed(e)},b.prototype.redAdd=function(e){return y(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},b.prototype.redIAdd=function(e){return y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},b.prototype.redSub=function(e){return y(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},b.prototype.redISub=function(e){return y(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},b.prototype.redShl=function(e){return y(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},b.prototype.redMul=function(e){return y(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},b.prototype.redIMul=function(e){return y(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},b.prototype.redSqr=function(){return y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(e){return y(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var c={k256:null,p224:null,p192:null,p25519:null};function l(e,t){this.name=e,this.p=new b(t,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){var t;"string"==typeof e?(t=b._prime(e),this.m=t.p,this.prime=t):(y(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null)}function k(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l.prototype._tmp=function(){var e=new b(null);return e.words=new Array(Math.ceil(this.n/13)),e},l.prototype.ireduce=function(e){for(var t,r=e;this.split(r,this.tmp),(t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);e=t<this.n?-1:r.ucmp(this.p);return 0===e?(r.words[0]=0,r.length=1):0<e?r.isub(this.p):r.strip(),r},l.prototype.split=function(e,t){e.iushrn(this.n,0,t)},l.prototype.imulK=function(e){return e.imul(this.k)},r(m,l),m.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}0===(e.words[n-10]=a>>>=22)&&10<e.length?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(g,l),r(w,l),r(v,l),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},b._prime=function(e){if(c[e])return c[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new g;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return c[e]=t},_.prototype._verify1=function(e){y(0===e.negative,"red works only with positives"),y(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){y(0==(e.negative|t.negative),"red works only with positives"),y(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return(this.prime?this.prime.ireduce(e):e.umod(this.m))._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);t=e.add(t);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);t=e.iadd(t);return 0<=t.cmp(this.m)&&t.isub(this.m),t},_.prototype.sub=function(e,t){this._verify2(e,t);t=e.sub(t);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);t=e.isub(t);return t.cmpn(0)<0&&t.iadd(this.m),t},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(y(t%2==1),3===t){t=this.m.add(new b(1)).iushrn(2);return this.pow(e,t)}for(var r=this.m.subn(1),n=0;!r.isZero()&&0===r.andln(1);)n++,r.iushrn(1);y(!r.isZero());for(var a=new b(1).toRed(this),i=a.redNeg(),s=this.m.subn(1).iushrn(1),o=new b(2*(o=this.m.bitLength())*o).toRed(this);0!==this.pow(o,s).cmp(i);)o.redIAdd(i);for(var u=this.pow(o,r),c=this.pow(e,r.addn(1).iushrn(1)),l=this.pow(e,r),f=n;0!==l.cmp(a);){for(var d=l,h=0;0!==d.cmp(a);h++)d=d.redSqr();y(h<f);var p=this.pow(u,new b(1).iushln(f-h-1)),c=c.redMul(p),u=p.redSqr(),l=l.redMul(u),f=h}return c},_.prototype.invm=function(e){e=e._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(e,t){if(t.isZero())return new b(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new b(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],i=0,s=0,o=t.bitLength()%26;for(0===o&&(o=26),n=t.length-1;0<=n;n--){for(var u=t.words[n],c=o-1;0<=c;c--){var l=u>>c&1;a!==r[0]&&(a=this.sqr(a)),0!=l||0!==i?(i<<=1,i|=l,(4===++s||0===n&&0===c)&&(a=this.mul(a,r[i]),i=s=0)):s=0}o=26}return a},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){e=e.clone();return e.red=null,e},b.mont=function(e){return new k(e)},r(k,_),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){e=this.imod(e.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;e=e.imul(t),t=e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=e.isub(t).iushrn(this.shift),t=e;return 0<=e.cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new b(0)._forceRed(this);e=e.mul(t),t=e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=e.isub(t).iushrn(this.shift),t=e;return 0<=e.cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:"buffer"}],17:[function(e,t,r){var n;function a(e){this.rand=e}if(t.exports=function(e){return(n=n||new a(null)).generate(e)},(t.exports.Rand=a).prototype.generate=function(e){return this._rand(e)},a.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(e){e=new Uint8Array(e);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(e){e=new Uint8Array(e);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=e("crypto");if("function"!=typeof i.randomBytes)throw new Error("Not supported");a.prototype._rand=function(e){return i.randomBytes(e)}}catch(e){}},{crypto:"crypto"}],18:[function(e,t,r){"use strict";r.utils=e("./elliptic/utils"),r.rand=e("brorand"),r.curve=e("./elliptic/curve"),r.curves=e("./elliptic/curves"),r.ec=e("./elliptic/ec"),r.eddsa=e("./elliptic/eddsa")},{"./elliptic/curve":21,"./elliptic/curves":24,"./elliptic/ec":25,"./elliptic/eddsa":28,"./elliptic/utils":32,brorand:17}],19:[function(e,t,r){"use strict";var n=e("bn.js"),a=e("../utils"),E=a.getNAF,P=a.getJSF,l=a.assert;function i(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);t=this.n&&this.p.div(this.n);!t||0<t.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function s(e,t){this.curve=e,this.type=t,this.precomputed=null}(t.exports=i).prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(e,t){l(e.precomputed);var r=e._getDoubles(),n=E(t,1),e=(1<<r.step+1)-(r.step%2==0?2:1);e/=3;for(var a=[],i=0;i<n.length;i+=r.step){for(var s=0,t=i+r.step-1;i<=t;t--)s=(s<<1)+n[t];a.push(s)}for(var o=this.jpoint(null,null,null),u=this.jpoint(null,null,null),c=e;0<c;c--){for(i=0;i<a.length;i++)(s=a[i])===c?u=u.mixedAdd(r.points[i]):s===-c&&(u=u.mixedAdd(r.points[i].neg()));o=o.add(u)}return o.toP()},i.prototype._wnafMul=function(e,t){for(var r=e._getNAFPoints(4),n=r.wnd,a=r.points,i=E(t,n),s=this.jpoint(null,null,null),o=i.length-1;0<=o;o--){for(t=0;0<=o&&0===i[o];o--)t++;if(0<=o&&t++,s=s.dblp(t),o<0)break;var u=i[o];l(0!==u),s="affine"===e.type?0<u?s.mixedAdd(a[u-1>>1]):s.mixedAdd(a[-u-1>>1].neg()):0<u?s.add(a[u-1>>1]):s.add(a[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},i.prototype._wnafMulAdd=function(e,t,r,n,a){for(var i=this._wnafT1,s=this._wnafT2,o=this._wnafT3,u=0,c=0;c<n;c++){var l=(A=t[c])._getNAFPoints(e);i[c]=l.wnd,s[c]=l.points}for(c=n-1;1<=c;c-=2){var f=c-1,d=c;if(1===i[f]&&1===i[d]){var h=[t[f],null,null,t[d]];0===t[f].y.cmp(t[d].y)?(h[1]=t[f].add(t[d]),h[2]=t[f].toJ().mixedAdd(t[d].neg())):0===t[f].y.cmp(t[d].y.redNeg())?(h[1]=t[f].toJ().mixedAdd(t[d]),h[2]=t[f].add(t[d].neg())):(h[1]=t[f].toJ().mixedAdd(t[d]),h[2]=t[f].toJ().mixedAdd(t[d].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],y=P(r[f],r[d]),u=Math.max(y[0].length,u);o[f]=new Array(u),o[d]=new Array(u);for(var b=0;b<u;b++){var m=0|y[0][b],g=0|y[1][b];o[f][b]=p[3*(1+m)+(1+g)],o[d][b]=0,s[f]=h}}else o[f]=E(r[f],i[f]),o[d]=E(r[d],i[d]),u=Math.max(o[f].length,u),u=Math.max(o[d].length,u)}for(var w=this.jpoint(null,null,null),v=this._wnafT4,c=u;0<=c;c--){for(var _=0;0<=c;){for(var k=!0,b=0;b<n;b++)v[b]=0|o[b][c],0!==v[b]&&(k=!1);if(!k)break;_++,c--}if(0<=c&&_++,w=w.dblp(_),c<0)break;for(b=0;b<n;b++){var A,S=v[b];0!==S&&(0<S?A=s[b][S-1>>1]:S<0&&(A=s[b][-S-1>>1].neg()),w="affine"===A.type?w.mixedAdd(A):w.add(A))}}for(c=0;c<n;c++)s[c]=null;return a?w:w.toP()},(i.BasePoint=s).prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(e,t){e=a.toArray(e,t);t=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*t)return 6===e[0]?l(e[e.length-1]%2==0):7===e[0]&&l(e[e.length-1]%2==1),this.point(e.slice(1,1+t),e.slice(1+t,1+2*t));if((2===e[0]||3===e[0])&&e.length-1===t)return this.pointFromX(e.slice(1,1+t),3===e[0]);throw new Error("Unknown point format")},s.prototype.encodeCompressed=function(e){return this.encode(e,!0)},s.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},s.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},s.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},s.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},s.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,a=0;a<t;a+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},s.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1==r?null:this.dbl(),a=1;a<r;a++)t[a]=t[a-1].add(n);return{wnd:e,points:t}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../utils":32,"bn.js":16}],20:[function(e,t,r){"use strict";var n=e("../utils"),i=e("bn.js"),a=e("inherits"),s=e("./base"),o=n.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,r,n,a){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=a&&new i(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(u,s),(t.exports=u).prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){var r=(e=!(e=new i(e,16)).red?e.toRed(this.red):e).redSqr(),n=this.c2.redSub(this.a.redMul(r)),r=this.one.redSub(this.c2.redMul(this.d).redMul(r)),n=n.redMul(r.redInvm()),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},u.prototype.pointFromY=function(e,t){var r=(e=!(e=new i(e,16)).red?e.toRed(this.red):e).redSqr(),n=r.redSub(this.c2),r=r.redMul(this.d).redMul(this.c2).redSub(this.a),n=n.redMul(r.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return r.fromRed().isOdd()!==t&&(r=r.redNeg()),this.point(r,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),e=t.redMul(this.a).redAdd(r),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===e.cmp(r)},a(c,s.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=(r=this.z.redSqr()).redIAdd(r),n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=n.redAdd(t),e=i.redSub(r),r=n.redSub(t),n=a.redMul(e),t=i.redMul(r),r=a.redMul(r),i=e.redMul(i);return this.curve.point(n,t,i,r)},c.prototype._projDbl=function(){var e,t,r,n,a,i,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),u=this.y.redSqr();return i=this.curve.twisted?(e=(n=this.curve._mulA(o)).redAdd(u),this.zOne?(t=s.redSub(o).redSub(u).redMul(e.redSub(this.curve.two)),r=e.redMul(n.redSub(u)),e.redSqr().redSub(e).redSub(e)):(a=this.z.redSqr(),i=e.redSub(a).redISub(a),t=s.redSub(o).redISub(u).redMul(i),r=e.redMul(n.redSub(u)),e.redMul(i))):(n=o.redAdd(u),a=this.curve._mulC(this.z).redSqr(),i=n.redSub(a).redSub(a),t=this.curve._mulC(s.redISub(n)).redMul(i),r=this.curve._mulC(n).redMul(o.redISub(u)),n.redMul(i)),this.curve.point(t,r,i)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),i=r.redSub(t),e=a.redSub(n),a=a.redAdd(n),n=r.redAdd(t),r=i.redMul(e),t=a.redMul(n),n=i.redMul(n),a=e.redMul(a);return this.curve.point(r,t,a,n)},c.prototype._projAdd=function(e){var t,r=this.z.redMul(e.z),n=r.redSqr(),a=this.x.redMul(e.x),i=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(i),o=n.redSub(s),s=n.redAdd(s),e=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(i),e=r.redMul(o).redMul(e),s=this.curve.twisted?(t=r.redMul(s).redMul(i.redSub(this.curve._mulA(a))),o.redMul(s)):(t=r.redMul(s).redMul(i.redSub(a)),this.curve._mulC(o).redMul(s));return this.curve.point(e,t,s)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),0<=r.cmp(this.curve.p))return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":32,"./base":19,"bn.js":16,inherits:47}],21:[function(e,t,r){"use strict";r.base=e("./base"),r.short=e("./short"),r.mont=e("./mont"),r.edwards=e("./edwards")},{"./base":19,"./edwards":20,"./mont":22,"./short":23}],22:[function(e,t,r){"use strict";var s=e("bn.js"),n=e("inherits"),a=e("./base"),i=e("../utils");function o(e){a.call(this,"mont",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){a.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(t,16),this.z=new s(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(o,a),(t.exports=o).prototype.validate=function(e){var t=e.normalize().x,e=t.redSqr(),t=e.redMul(t).redAdd(e.redMul(this.a)).redAdd(t);return 0===t.redSqrt().redSqr().cmp(t)},n(u,a.BasePoint),o.prototype.decodePoint=function(e,t){if(32!==(e=33===(e=i.toArray(e,t)).length&&64===e[0]?e.slice(1,33).reverse():e).length)throw new Error("Unknown point compression format");return this.point(e,1)},o.prototype.point=function(e,t){return new u(this,e,t)},o.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),e=e.redMul(t),r=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(e,r)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),r=e.x.redSub(e.z).redMul(r),a=a.redMul(n),n=t.z.redMul(r.redAdd(a).redSqr()),a=t.x.redMul(r.redISub(a).redSqr());return this.curve.point(n,a)},u.prototype.mul=function(e){for(var t=(e=new s(e,16)).clone(),r=this,n=this.curve.point(null,null),a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var i=a.length-1;0<=i;i--)0===a[i]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":32,"./base":19,"bn.js":16,inherits:47}],23:[function(e,t,r){"use strict";var n=e("../utils"),w=e("bn.js"),a=e("inherits"),i=e("./base"),s=n.assert;function o(e){i.call(this,"short",e),this.a=new w(e.a,16).toRed(this.red),this.b=new w(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){i.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new w(t,16),this.y=new w(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(e,t,r,n){i.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new w(0)):(this.x=new w(t,16),this.y=new w(r,16),this.z=new w(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(o,i),(t.exports=o).prototype._getEndomorphism=function(e){var t,r,n;if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3))return r=(e.beta?new w(e.beta,16):r=(n=this._getEndoRoots(this.p))[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red),e.lambda?t=new w(e.lambda,16):(n=this._getEndoRoots(this.n),0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(r))?t=n[0]:(t=n[1],s(0===this.g.mul(t).x.cmp(this.g.x.redMul(r))))),{beta:r,lambda:t,basis:e.basis?e.basis.map(function(e){return{a:new w(e.a,16),b:new w(e.b,16)}}):this._getEndoBasis(t)}},o.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:w.mont(e),r=new w(2).toRed(t).redInvm(),e=r.redNeg(),r=new w(3).toRed(t).redNeg().redSqrt().redMul(r);return[e.redAdd(r).fromRed(),e.redSub(r).fromRed()]},o.prototype._getEndoBasis=function(e){for(var t,r,n,a,i,s=this.n.ushrn(Math.floor(this.n.bitLength()/2)),o=e,u=this.n.clone(),c=new w(1),l=new w(0),f=new w(0),d=new w(1),h=0;0!==o.cmpn(0);){var p=u.div(o),y=u.sub(p.mul(o)),b=f.sub(p.mul(c)),p=d.sub(p.mul(l));if(!n&&y.cmp(s)<0)t=i.neg(),r=c,n=y.neg(),a=b;else if(n&&2==++h)break;u=o,o=i=y,f=c,c=b,d=l,l=p}var m=y.neg(),g=b,e=n.sqr().add(a.sqr());return 0<=m.sqr().add(g.sqr()).cmp(e)&&(m=t,g=r),n.negative&&(n=n.neg(),a=a.neg()),m.negative&&(m=m.neg(),g=g.neg()),[{a:n,b:a},{a:m,b:g}]},o.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],a=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),s=a.mul(r.a),t=i.mul(n.a),r=a.mul(r.b),n=i.mul(n.b);return{k1:e.sub(s).sub(t),k2:r.add(n).neg()}},o.prototype.pointFromX=function(e,t){var r=(e=!(e=new w(e,16)).red?e.toRed(this.red):e).redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");r=n.fromRed().isOdd();return(t&&!r||!t&&r)&&(n=n.redNeg()),this.point(e,n)},o.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,e=this.a.redMul(t),e=t.redSqr().redMul(t).redIAdd(e).redIAdd(this.b);return 0===r.redSqr().redISub(e).cmpn(0)},o.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,a=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),o=e[i],u=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*i]=o,n[2*i+1]=u,a[2*i]=s.k1,a[2*i+1]=s.k2}for(var r=this._wnafMulAdd(1,n,a,2*i,r),c=0;c<2*i;c++)n[c]=null,a[c]=null;return r},a(u,i.BasePoint),o.prototype.point=function(e,t,r){return new u(this,e,t,r)},o.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t,r,n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);return e&&(t=this.curve,r=function(e){return t.point(e.x.redMul(t.endo.beta),e.y)},(e.beta=n).precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}),n}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function a(e){return t.point(e[0],e[1],r)}e=e[2];return n.precomputed={beta:null,doubles:e.doubles&&{step:e.doubles.step,points:[n].concat(e.doubles.points.map(a))},naf:e.naf&&{wnd:e.naf.wnd,points:[n].concat(e.naf.points.map(a))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y),e=(t=0!==t.cmpn(0)?t.redMul(this.x.redSub(e.x).redInvm()):t).redSqr().redISub(this.x).redISub(e.x),t=t.redMul(this.x.redSub(e)).redISub(this.y);return this.curve.point(e,t)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),e=e.redInvm(),t=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(e),e=t.redSqr().redISub(this.x.redAdd(this.x)),t=t.redMul(this.x.redSub(e)).redISub(this.y);return this.curve.point(e,t)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new w(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){t=[this,t],r=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(t,r):this.curve._wnafMulAdd(1,t,r,2)},u.prototype.jmulAdd=function(e,t,r){t=[this,t],r=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(t,r,!0):this.curve._wnafMulAdd(1,t,r,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t,r=this.curve.point(this.x,this.y.redNeg());return e&&this.precomputed&&(t=this.precomputed,e=function(e){return e.neg()},r.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(e)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(e)}}),r},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(c,i.BasePoint),o.prototype.jpoint=function(e,t,r){return new c(this,e,t,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),e=this.y.redMul(t).redMul(e);return this.curve.point(r,e)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),a=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),t=n.redSub(a),r=i.redSub(s);if(0===t.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();a=t.redSqr(),s=a.redMul(t),n=n.redMul(a),a=r.redSqr().redIAdd(s).redISub(n).redISub(n),s=r.redMul(n.redISub(a)).redISub(i.redMul(s)),t=this.z.redMul(e.z).redMul(t);return this.curve.jpoint(a,s,t)},c.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),a=this.y,i=e.y.redMul(t).redMul(this.z),e=r.redSub(n),t=a.redSub(i);if(0===e.cmpn(0))return 0!==t.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();n=e.redSqr(),i=n.redMul(e),r=r.redMul(n),n=t.redSqr().redIAdd(i).redISub(r).redISub(r),i=t.redMul(r.redISub(n)).redISub(a.redMul(i)),e=this.z.redMul(e);return this.curve.jpoint(n,i,e)},c.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}for(var n=this.curve.a,a=this.curve.tinv,i=this.x,s=this.y,o=this.z,u=o.redSqr().redSqr(),c=s.redAdd(s),r=0;r<e;r++){var l=i.redSqr(),f=c.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),l=i.redMul(f),f=h.redSqr().redISub(l.redAdd(l)),l=l.redISub(f),h=(h=h.redMul(l)).redIAdd(h).redISub(d),l=c.redMul(o);r+1<e&&(u=u.redMul(d)),i=f,o=l,c=h}return this.curve.jpoint(i,c.redMul(a),o)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var e,t,r,n,a,i=this.zOne?(r=this.x.redSqr(),e=(n=this.y.redSqr()).redSqr(),a=(a=this.x.redAdd(n).redSqr().redISub(r).redISub(e)).redIAdd(a),n=(t=r.redAdd(r).redIAdd(r)).redSqr().redISub(a).redISub(a),r=(r=(r=e.redIAdd(e)).redIAdd(r)).redIAdd(r),t=t.redMul(a.redISub(e=n)).redISub(r),this.y.redAdd(this.y)):(a=this.x.redSqr(),i=(n=this.y.redSqr()).redSqr(),r=(r=this.x.redAdd(n).redSqr().redISub(a).redISub(i)).redIAdd(r),a=(n=a.redAdd(a).redIAdd(a)).redSqr(),i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i),e=a.redISub(r).redISub(r),t=n.redMul(r.redISub(e)).redISub(i),(i=this.y.redMul(this.z)).redIAdd(i));return this.curve.jpoint(e,t,i)},c.prototype._threeDbl=function(){var e,t,r,n,a,i,s,o;return this.zOne?(s=this.x.redSqr(),r=(e=this.y.redSqr()).redSqr(),i=(i=this.x.redAdd(e).redSqr().redISub(s).redISub(r)).redIAdd(i),t=n=(o=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a)).redSqr().redISub(i).redISub(i),a=(a=(a=r.redIAdd(r)).redIAdd(a)).redIAdd(a),e=o.redMul(i.redISub(n)).redISub(a),s=this.y.redAdd(this.y)):(r=this.z.redSqr(),o=this.y.redSqr(),i=this.x.redMul(o),n=(n=this.x.redSub(r).redMul(this.x.redAdd(r))).redAdd(n).redIAdd(n),i=(a=(a=i.redIAdd(i)).redIAdd(a)).redAdd(a),t=n.redSqr().redISub(i),s=this.y.redAdd(this.z).redSqr().redISub(o).redISub(r),o=(o=(o=(o=o.redSqr()).redIAdd(o)).redIAdd(o)).redIAdd(o),e=n.redMul(a.redISub(t)).redISub(o)),this.curve.jpoint(t,e,s)},c.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,a=n.redSqr().redSqr(),i=t.redSqr(),s=r.redSqr(),e=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(a)),a=t.redAdd(t),t=(a=a.redIAdd(a)).redMul(s),a=e.redSqr().redISub(t.redAdd(t)),t=t.redISub(a),s=s.redSqr();s=(s=(s=s.redIAdd(s)).redIAdd(s)).redIAdd(s);s=e.redMul(t).redISub(s),n=r.redAdd(r).redMul(n);return this.curve.jpoint(a,s,n)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),a=e.redAdd(e).redIAdd(e),i=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),e=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),n=n.redIAdd(n);n=(n=(n=n.redIAdd(n)).redIAdd(n)).redIAdd(n);i=a.redIAdd(s).redSqr().redISub(i).redISub(e).redISub(n),t=t.redMul(i);t=(t=t.redIAdd(t)).redIAdd(t);t=this.x.redMul(e).redISub(t);t=(t=t.redIAdd(t)).redIAdd(t);i=this.y.redMul(i.redMul(n.redISub(i)).redISub(s.redMul(e)));i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i);e=this.z.redAdd(s).redSqr().redISub(r).redISub(e);return this.curve.jpoint(t,i,e)},c.prototype.mul=function(e,t){return e=new w(e,t),this.curve._wnafMul(this,e)},c.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;t=t.redMul(this.z),r=r.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(t)).cmpn(0)},c.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),0<=n.cmp(this.curve.p))return!1;if(r.redIAdd(a),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":32,"./base":19,"bn.js":16,inherits:47}],24:[function(e,t,r){"use strict";var n,a=r,r=e("hash.js"),i=e("./curve"),s=e("./utils").assert;function o(e){if("short"===e.type)this.curve=new i.short(e);else if("edwards"===e.type)this.curve=new i.edwards(e);else{if("mont"!==e.type)throw new Error("Unknown curve type.");this.curve=new i.mont(e)}this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function u(t,r){Object.defineProperty(a,t,{configurable:!0,enumerable:!0,get:function(){var e=new o(r);return Object.defineProperty(a,t,{configurable:!0,enumerable:!0,value:e}),e}})}a.PresetCurve=o,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:r.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),u("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:r.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),u("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:r.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),u("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:r.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":21,"./precomputed/secp256k1":31,"./utils":32,"hash.js":34}],25:[function(e,t,r){"use strict";var d=e("bn.js"),h=e("hmac-drbg"),n=e("../utils"),a=e("../curves"),i=e("brorand"),o=n.assert,s=e("./key"),p=e("./signature");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(o(a.hasOwnProperty(e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}(t.exports=u).prototype.keyPair=function(e){return new s(this,e)},u.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){var t=new h({hash:this.hash,pers:(e=e||{}).pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||i(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if("mont"===this.curve.type){var r=new d(t.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),a=this.n.sub(new d(2));;)if(!(0<(r=new d(t.generate(n))).cmp(a)))return r.iaddn(1),this.keyFromPrivate(r)},u.prototype._truncateToN=function(e,t,r){r=(r=r||8*e.byteLength())-this.n.bitLength();return 0<r&&(e=e.ushrn(r)),!t&&0<=e.cmp(this.n)?e.sub(this.n):e},u.prototype.truncateMsg=function(e){var t;return e=e instanceof Uint8Array?(t=8*e.byteLength,this._truncateToN(new d(e,16),!1,t)):"string"==typeof e?(t=4*e.length,this._truncateToN(new d(e,16),!1,t)):this._truncateToN(new d(e,16))},u.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n=n||{},t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var a=this.n.byteLength(),r=t.getPrivate().toArray("be",a),a=e.toArray("be",a),i=new h({hash:this.hash,entropy:r,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),s=this.n.sub(new d(1)),o=0;;o++){1;{var u=n.k?n.k(o):new d(i.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||0<=u.cmp(s))){var c=this.g.mul(u);if(!c.isInfinity()){var l=c.getX(),f=l.umod(this.n);if(0!==f.cmpn(0)){u=u.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(u=u.umod(this.n)).cmpn(0)){l=(c.getY().isOdd()?1:0)|(0!==l.cmp(f)?2:0);return n.canonical&&0<u.cmp(this.nh)&&(u=this.n.sub(u),l^=1),new p({r:f,s:u,recoveryParam:l})}}}}}}},u.prototype.verify=function(e,t,r,n){return r=this.keyFromPublic(r,n),t=new p(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new d(e,16)),t,r)},u.prototype._verify=function(e,t,r){var n=t.r,t=t.s;if(n.cmpn(1)<0||0<=n.cmp(this.n))return!1;if(t.cmpn(1)<0||0<=t.cmp(this.n))return!1;var a,t=t.invm(this.n),e=t.mul(e).umod(this.n),t=t.mul(n).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(e,r.getPublic(),t)).isInfinity()&&a.eqXToP(n):!(a=this.g.mulAdd(e,r.getPublic(),t)).isInfinity()&&0===a.getX().umod(this.n).cmp(n)},u.prototype.recoverPubKey=function(e,t,r,n){o((3&r)===r,"The recovery param is more than two bits"),t=new p(t,n);var a=this.n,i=new d(e),s=t.r,n=t.s,e=1&r,r=r>>1;if(0<=s.cmp(this.curve.p.umod(this.curve.n))&&r)throw new Error("Unable to find sencond key candinate");s=r?this.curve.pointFromX(s.add(this.curve.n),e):this.curve.pointFromX(s,e),t=t.r.invm(a),i=a.sub(i).mul(t).umod(a),a=n.mul(t).umod(a);return this.g.mulAdd(i,s,a)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new p(t,n)).recoveryParam)return t.recoveryParam;for(var a,i=0;i<4;i++){try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":24,"../utils":32,"./key":26,"./signature":27,"bn.js":16,brorand:17,"hmac-drbg":46}],26:[function(e,t,r){"use strict";var n=e("bn.js"),a=e("../utils").assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}(t.exports=i).fromPublic=function(e,t,r){return t instanceof i?t:new i(e,{pub:t,pubEnc:r})},i.fromPrivate=function(e,t,r){return t instanceof i?t:new i(e,{priv:t,privEnc:r})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),"mont"===this.ec.curve.type?(t=(e=this.ec.curve.one).ushln(252).sub(e).ushln(3),this.priv=this.priv.or(e.ushln(254)),this.priv=this.priv.and(t)):this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.mul(this.priv).getX()},i.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":32,"bn.js":16}],27:[function(e,t,r){"use strict";var a=e("bn.js"),i=e("../utils"),n=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(n(e.r&&e.s,"Signature without r or s"),this.r=new a(e.r,16),this.s=new a(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function u(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,a=0,i=0,s=t.place;i<n;i++,s++)a<<=8,a|=e[s];return t.place=s,a}function c(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}(t.exports=s).prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new o;if(48!==e[r.place++])return!1;if(u(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=u(e,r),t=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;n=u(e,r);if(e.length!==n+r.place)return!1;r=e.slice(r.place,n+r.place);return 0===t[0]&&128&t[1]&&(t=t.slice(1)),0===r[0]&&128&r[1]&&(r=r.slice(1)),this.r=new a(t),this.s=new a(r),!(this.recoveryParam=null)},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=c(t),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);t=n.concat(r),n=[48];return l(n,t.length),n=n.concat(t),i.encode(n,e)}},{"../utils":32,"bn.js":16}],28:[function(e,t,r){"use strict";var n=e("hash.js"),a=e("hmac-drbg"),i=e("brorand"),s=e("../curves"),o=e("../utils"),u=o.assert,c=o.parseBytes,l=e("./key"),f=e("./signature");function d(e){if(u("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof d))return new d(e);e=s[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}(t.exports=d).prototype.sign=function(e,t){e=c(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),a=this.g.mul(n),t=this.encodePoint(a),r=this.hashInt(t,r.pubBytes(),e).mul(r.priv()),r=n.add(r).umod(this.curve.n);return this.makeSignature({R:a,S:r,Rencoded:t})},d.prototype.verify=function(e,t,r){e=c(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),r=this.hashInt(t.Rencoded(),n.pubBytes(),e),e=this.g.mul(t.S());return t.R().add(n.pub().mul(r)).eq(e)},d.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},d.prototype.keyPair=function(e){return new l(this,e)},d.prototype.keyFromPublic=function(e){return l.fromPublic(this,e)},d.prototype.keyFromSecret=function(e){return l.fromSecret(this,e)},d.prototype.genKeyPair=function(e){e=new a({hash:this.hash,pers:(e=e||{}).pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||i(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(e.generate(32))},d.prototype.makeSignature=function(e){return e instanceof f?e:new f(this,e)},d.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},d.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),t=0!=(128&e[t]),r=o.intFromLE(r);return this.curve.pointFromY(r,t)},d.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(e){return o.intFromLE(e)},d.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../curves":24,"../utils":32,"./key":29,"./signature":30,brorand:17,"hash.js":34,"hmac-drbg":46}],29:[function(e,t,r){"use strict";var n=e("../utils"),a=n.assert,i=n.parseBytes,e=n.cachedProperty;function s(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=i(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=i(t.pub),this._pubBytes&&33===this._pubBytes.length&&64===this._pubBytes[0]&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&32!==this._pubBytes.length)throw new Error("Unknown point compression format")}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},e(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),e(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),e(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,e=t.slice(0,e.encodingLength);return e[0]&=248,e[r]&=127,e[r]|=64,e}),e(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),e(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),e(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e,t){return n.encode((t?[64]:[]).concat(this.pubBytes()),e)},t.exports=s},{"../utils":32}],30:[function(e,t,r){"use strict";var n=e("bn.js"),a=e("../utils"),i=a.assert,e=a.cachedProperty,s=a.parseBytes;function o(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}e(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),e(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),e(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),e(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},t.exports=o},{"../utils":32,"bn.js":16}],31:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],32:[function(e,t,r){"use strict";var n=r,a=e("bn.js"),r=e("minimalistic-assert"),e=e("minimalistic-crypto-utils");n.assert=r,n.toArray=e.toArray,n.zero2=e.zero2,n.toHex=e.toHex,n.encode=e.encode,n.getNAF=function(e,t){for(var r,n=[],a=1<<t+1,i=e.clone();0<=i.cmpn(1);){i.isOdd()?(r=i.andln(a-1),i.isubn(r=(a>>1)-1<r?(a>>1)-r:r)):r=0,n.push(r);for(var s=0!==i.cmpn(0)&&0===i.andln(a-1)?t+1:1,o=1;o<s;o++)n.push(0);i.iushrn(s)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,a=0;0<e.cmpn(-n)||0<t.cmpn(-a);){var i,s,o=e.andln(3)+n&3,u=t.andln(3)+a&3;3===u&&(u=-1),i=0==(1&(o=3===o?-1:o))?0:3!==(s=e.andln(7)+n&7)&&5!==s||2!==u?o:-o,r[0].push(i),u=0==(1&u)?0:3!==(s=t.andln(7)+a&7)&&5!==s||2!==o?u:-u,r[1].push(u),2*n===i+1&&(n=1-n),2*a===u+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new a(e,"hex","le")}},{"bn.js":16,"minimalistic-assert":48,"minimalistic-crypto-utils":49}],33:[function(e,t,r){"use strict";function n(i){function t(){return we<ve}function o(e){we=e}function e(){we=0,ve=ge.length}function u(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function r(e,t){return null===t?null:((e=u(e)).tokens=t.tokens,e.semantic=t.semantic,e.children.push(t),e)}function c(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function n(e){return t()&&e(e=ge[we])?(we+=1,u("token",e)):null}function a(t){return function(){return r("literal",n(function(e){return e===t}))}}function s(){var a=arguments;return function(){for(var e,t=we,r=u("and"),n=0;n<a.length;n+=1){if(null===(e=a[n]()))return o(t),null;c(r,e)}return r}}function l(){var n=arguments;return function(){for(var e,t=we,r=0;r<n.length;r+=1){if(null!==(e=n[r]()))return e;o(t)}return null}}function f(r){return function(){var e=we,t=r();return null!==t?t:(o(e),u("opt"))}}function d(t){return function(){var e=t();return null!==e&&(e.semantic=""),e}}function h(t){return function(){var e=t();return null!==e&&0<e.semantic.length&&(e.semantic=" "),e}}function p(i,s){return function(){for(var e,t=we,r=u("star"),n=0,a=void 0===s?0:s;null!==(e=i());)n+=1,c(r,e);return a<=n?r:(o(t),null)}}function y(e){return 128<=e.charCodeAt(0)}function b(){return r("cr",a("\r")())}function m(){return r("crlf",s(b,v)())}function g(){return r("dquote",a('"')())}function w(){return r("htab",a("\t")())}function v(){return r("lf",a("\n")())}function _(){return r("sp",a(" ")())}function k(){return r("vchar",n(function(e){var t=e.charCodeAt(0),t=33<=t&&t<=126;return t=i.rfc6532?t||y(e):t}))}function A(){return r("wsp",l(_,w)())}function S(){var e=r("quoted-pair",l(s(a("\\"),l(k,A)),te)());return null===e?null:(e.semantic=e.semantic[1],e)}function E(){return r("fws",l(ne,s(f(s(p(A),d(m))),p(A,1)))())}function P(){return r("ctext",l(function(){return n(function(e){var t=e.charCodeAt(0),t=33<=t&&t<=39||42<=t&&t<=91||93<=t&&t<=126;return t=i.rfc6532?t||y(e):t})},Q)())}function x(){return r("ccontent",l(P,S,M)())}function M(){return r("comment",s(a("("),p(s(f(E),x)),f(E),a(")"))())}function K(){return r("cfws",l(s(p(s(f(E),M),1),f(E)),E)())}function C(){return r("atext",n(function(e){var t="a"<=e&&e<="z"||"A"<=e&&e<="Z"||"0"<=e&&e<="9"||0<=["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(e);return t=i.rfc6532?t||y(e):t}))}function U(){return r("atom",s(h(f(K)),p(C,1),h(f(K)))())}function T(){var e,t=r("dot-atom-text",p(C,1)());return null===t||null!==(e=p(s(a("."),p(C,1)))())&&c(t,e),t}function B(){return r("dot-atom",s(d(f(K)),T,d(f(K)))())}function R(){return r("qtext",l(function(){return n(function(e){var t=e.charCodeAt(0),t=33===t||35<=t&&t<=91||93<=t&&t<=126;return t=i.rfc6532?t||y(e):t})},ee)())}function j(){return r("qcontent",l(R,S)())}function I(){return r("quoted-string",s(d(f(K)),d(g),p(s(f(h(E)),j)),f(d(E)),d(g),d(f(K)))())}function O(){return r("word",l(U,I)())}function z(){return r("address",l(D,q)())}function D(){return r("mailbox",l(N,J)())}function N(){return r("name-addr",s(f(L),F)())}function F(){return r("angle-addr",l(s(d(f(K)),a("<"),J,a(">"),d(f(K))),ae)())}function q(){return r("group",s(L,a(":"),f(G),a(";"),d(f(K)))())}function L(){return r("display-name",(null!==(e=r("phrase",l(re,p(O,1))()))&&(e.semantic=e.semantic.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")),e));var e}function H(){return r("mailbox-list",l(s(D,p(s(a(","),D))),oe)())}function W(){return r("address-list",l(s(z,p(s(a(","),z))),ue)())}function G(){return r("group-list",l(H,d(K),ce)())}function Z(){return r("local-part",l(le,B,I)())}function V(){return r("dtext",l(function(){return n(function(e){var t=e.charCodeAt(0),t=33<=t&&t<=90||94<=t&&t<=126;return t=i.rfc6532?t||y(e):t})},de)())}function Y(){return r("domain-literal",s(d(f(K)),a("["),p(s(f(E),V)),f(E),a("]"),d(f(K)))())}function $(){return r("domain",(e=l(fe,B,Y)(),i.rejectTLD&&e&&e.semantic&&e.semantic.indexOf(".")<0?null:(e&&(e.semantic=e.semantic.replace(/\s+/g,"")),e)));var e}function J(){return r("addr-spec",s(Z,a("@"),$)())}function X(){return i.strict?null:r("obs-NO-WS-CTL",n(function(e){e=e.charCodeAt(0);return 1<=e&&e<=8||11===e||12===e||14<=e&&e<=31||127===e}))}function Q(){return i.strict?null:r("obs-ctext",X())}function ee(){return i.strict?null:r("obs-qtext",X())}function te(){return i.strict?null:r("obs-qp",s(a("\\"),l(a("\0"),X,v,b))())}function re(){return i.strict?null:i.atInDisplayName?r("obs-phrase",s(O,p(l(O,a("."),a("@"),h(K))))()):r("obs-phrase",s(O,p(l(O,a("."),h(K))))())}function ne(){return i.strict?null:r("obs-FWS",p(s(d(f(m)),A),1)())}function ae(){return i.strict?null:r("obs-angle-addr",s(d(f(K)),a("<"),ie,J,a(">"),d(f(K)))())}function ie(){return i.strict?null:r("obs-route",s(se,a(":"))())}function se(){return i.strict?null:r("obs-domain-list",s(p(l(d(K),a(","))),a("@"),$,p(s(a(","),d(f(K)),f(s(a("@"),$)))))())}function oe(){return i.strict?null:r("obs-mbox-list",s(p(s(d(f(K)),a(","))),D,p(s(a(","),f(s(D,d(K))))))())}function ue(){return i.strict?null:r("obs-addr-list",s(p(s(d(f(K)),a(","))),z,p(s(a(","),f(s(z,d(K))))))())}function ce(){return i.strict?null:r("obs-group-list",s(p(s(d(f(K)),a(",")),1),d(f(K)))())}function le(){return i.strict?null:r("obs-local-part",s(O,p(s(a("."),O)))())}function fe(){return i.strict?null:r("obs-domain",s(U,p(s(a("."),U)))())}function de(){return i.strict?null:r("obs-dtext",l(X,S)())}function he(e,t){var r,n,a;if(null==t)return null;for(n=[t];0<n.length;){if((a=n.pop()).name===e)return a;for(r=a.children.length-1;0<=r;--r)n.push(a.children[r])}return null}function pe(e,t){var r,n,a,i,s;if(null==t)return null;for(n=[t],i=[],s={},r=0;r<e.length;r+=1)s[e[r]]=!0;for(;0<n.length;)if((a=n.pop()).name in s)i.push(a);else for(r=a.children.length-1;0<=r;--r)n.push(a.children[r]);return i}function ye(e){var t,r,n,a;if(null===e)return null;for(t=[],r=pe(["group","mailbox"],e),n=0;n<r.length;n+=1)"group"===(a=r[n]).name?t.push(function(e){var t,r=he("display-name",e),n=[],a=pe(["mailbox"],e);for(t=0;t<a.length;t+=1)n.push(be(a[t]));return{node:e,parts:{name:r},type:e.name,name:me(r),addresses:n}}(a)):"mailbox"===a.name&&t.push(be(a));return e={ast:e,addresses:t},i.simple&&(e=function(e){var t;if(e&&e.addresses)for(t=0;t<e.addresses.length;t+=1)delete e.addresses[t].node;return e}(e)),i.oneResult?function(e){if(!e)return null;if(!i.partial&&1<e.addresses.length)return null;return e.addresses&&e.addresses[0]}(e):i.simple?e&&e.addresses:e}function be(e){var t=he("display-name",e),r=he("addr-spec",e),n=function(e,t){var r,n,a,i;if(null==t)return null;for(n=[t],i=[];0<n.length;)for((a=n.pop()).name===e&&i.push(a),r=a.children.length-1;0<=r;--r)n.push(a.children[r]);return i}("cfws",e),a=pe(["comment"],e),i=he("local-part",r),s=he("domain",r);return{node:e,parts:{name:t,address:r,local:i,domain:s,comments:n},type:e.name,name:me(t),address:me(r),local:me(i),domain:me(s),comments:function(e){var t="";if(e)for(var r=0;r<e.length;r+=1)t+=me(e[r]);return t}(a),groupName:me(e.groupName)}}function me(e){return null!=e?e.semantic:null}var ge,we,ve,_e,ke;if(null===(i=Ae(i,{})))return null;if(ge=i.input,ke={address:z,"address-list":W,"angle-addr":F,from:function(){return r("from",l(H,W)())},group:q,mailbox:D,"mailbox-list":H,"reply-to":function(){return r("reply-to",W())},sender:function(){return r("sender",l(D,z)())}}[i.startAt]||W,!i.strict){if(e(),i.strict=!0,_e=ke(ge),i.partial||!t())return ye(_e);i.strict=!1}return e(),_e=ke(ge),!i.partial&&t()?null:ye(_e)}function Ae(e,t){function r(e){return"[object String]"===Object.prototype.toString.call(e)}function n(e){return null==e}var a,i;if(r(e))e={input:e};else if(e!==Object(e))return null;if(!r(e.input))return null;if(!t)return null;for(i in a={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})n(e[i])&&(e[i]=(n(t[i])?a:t)[i]);return e}var a;a=void 0,n.parseOneAddress=function(e){return n(Ae(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},n.parseAddressList=function(e){return n(Ae(e,{rfc6532:!0,simple:!0,startAt:"address-list"}))},n.parseFrom=function(e){return n(Ae(e,{rfc6532:!0,simple:!0,startAt:"from"}))},n.parseSender=function(e){return n(Ae(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},n.parseReplyTo=function(e){return n(Ae(e,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},void 0!==t&&void 0!==t.exports?t.exports=n:a.emailAddresses=n},{}],34:[function(e,t,r){r.utils=e("./hash/utils"),r.common=e("./hash/common"),r.sha=e("./hash/sha"),r.ripemd=e("./hash/ripemd"),r.hmac=e("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":35,"./hash/hmac":36,"./hash/ripemd":37,"./hash/sha":38,"./hash/utils":45}],35:[function(e,t,r){"use strict";var n=e("./utils"),a=e("minimalistic-assert");function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(r.BlockHash=i).prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){t=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-t,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-t,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var a=1;a<r;a++)n[a]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=255&e}else for(n[a++]=255&e,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,i=8;i<this.padLength;i++)n[a++]=0;return n}},{"./utils":45,"minimalistic-assert":48}],36:[function(e,t,r){"use strict";var n=e("./utils"),a=e("minimalistic-assert");function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}(t.exports=i).prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":45,"minimalistic-assert":48}],37:[function(e,t,r){"use strict";var n=e("./utils"),e=e("./common"),y=n.rotl32,b=n.sum32,m=n.sum32_3,g=n.sum32_4,a=e.BlockHash;function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function w(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(i,a),(r.ripemd160=i).blockSize=512,i.outSize=160,i.hmacStrength=192,i.padLength=64,i.prototype._update=function(e,t){for(var r,n=l=this.h[0],a=p=this.h[1],i=h=this.h[2],s=d=this.h[3],o=f=this.h[4],u=0;u<80;u++)var c=b(y(g(l,w(u,p,h,d),e[v[u]+t],(r=u)<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838),k[u]),f),l=f,f=d,d=y(h,10),h=p,p=c,c=b(y(g(n,w(79-u,a,i,s),e[_[u]+t],(r=u)<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0),A[u]),o),n=o,o=s,s=y(i,10),i=a,a=c;c=m(this.h[1],h,s),this.h[1]=m(this.h[2],d,o),this.h[2]=m(this.h[3],f,n),this.h[3]=m(this.h[4],l,a),this.h[4]=m(this.h[0],p,i),this.h[0]=c},i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],k=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":35,"./utils":45}],38:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":39,"./sha/224":40,"./sha/256":41,"./sha/384":42,"./sha/512":43}],39:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../common"),e=e("./common"),l=n.rotl32,f=n.sum32,d=n.sum32_5,h=e.ft_1,i=a.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(s,i),(t.exports=s).blockSize=512,s.outSize=160,s.hmacStrength=80,s.padLength=64,s.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=l(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);for(var a=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],n=0;n<r.length;n++)var c=~~(n/20),c=d(l(a,5),h(c,i,s,o),u,r[n],p[c]),u=o,o=s,s=l(i,30),i=a,a=c;this.h[0]=f(this.h[0],a),this.h[1]=f(this.h[1],i),this.h[2]=f(this.h[2],s),this.h[3]=f(this.h[3],o),this.h[4]=f(this.h[4],u)},s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":35,"../utils":45,"./common":44}],40:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./256");function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(i,a),(t.exports=i).blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":45,"./256":41}],41:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../common"),i=e("./common"),p=e("minimalistic-assert"),y=n.sum32,b=n.sum32_4,m=n.sum32_5,g=i.ch32,w=i.maj32,v=i.s0_256,_=i.s1_256,k=i.g0_256,A=i.g1_256,s=a.BlockHash,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function u(){if(!(this instanceof u))return new u;s.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=o,this.W=new Array(64)}n.inherits(u,s),(t.exports=u).blockSize=512,u.outSize=256,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=b(A(r[n-2]),r[n-7],k(r[n-15]),r[n-16]);var a=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],f=this.h[7];for(p(this.k.length===r.length),n=0;n<r.length;n++)var d=m(f,_(u),g(u,c,l),this.k[n],r[n]),h=y(v(a),w(a,i,s)),f=l,l=c,c=u,u=y(o,d),o=s,s=i,i=a,a=y(d,h);this.h[0]=y(this.h[0],a),this.h[1]=y(this.h[1],i),this.h[2]=y(this.h[2],s),this.h[3]=y(this.h[3],o),this.h[4]=y(this.h[4],u),this.h[5]=y(this.h[5],c),this.h[6]=y(this.h[6],l),this.h[7]=y(this.h[7],f)},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":35,"../utils":45,"./common":44,"minimalistic-assert":48}],42:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./512");function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(i,a),(t.exports=i).blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":45,"./512":43}],43:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../common"),U=e("minimalistic-assert"),T=n.rotr64_hi,B=n.rotr64_lo,d=n.shr64_hi,h=n.shr64_lo,R=n.sum64,j=n.sum64_hi,I=n.sum64_lo,p=n.sum64_4_hi,y=n.sum64_4_lo,O=n.sum64_5_hi,z=n.sum64_5_lo,i=a.BlockHash,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=s,this.W=new Array(160)}n.inherits(o,i),(t.exports=o).blockSize=1024,o.outSize=512,o.hmacStrength=192,o.padLength=128,o.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var a=function(e,t){var r=T(e,t,19),n=T(t,e,29),t=d(e,t,6),t=r^n^t;t<0&&(t+=4294967296);return t}(r[n-4],r[n-3]),i=function(e,t){var r=B(e,t,19),n=B(t,e,29),t=h(e,t,6),t=r^n^t;t<0&&(t+=4294967296);return t}(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],u=function(e,t){var r=T(e,t,1),n=T(e,t,8),t=d(e,t,7),t=r^n^t;t<0&&(t+=4294967296);return t}(r[n-30],r[n-29]),c=function(e,t){var r=B(e,t,1),n=B(e,t,8),t=h(e,t,7),t=r^n^t;t<0&&(t+=4294967296);return t}(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=p(a,i,s,o,u,c,l,f),r[n+1]=y(a,i,s,o,u,c,l,f)}},o.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],f=this.h[8],d=this.h[9],h=this.h[10],p=this.h[11],y=this.h[12],b=this.h[13],m=this.h[14],g=this.h[15];U(this.k.length===r.length);for(var w=0;w<r.length;w+=2)var v=m,_=g,k=function(e,t){var r=T(e,t,14),n=T(e,t,18),e=T(t,e,9),e=r^n^e;e<0&&(e+=4294967296);return e}(f,d),A=function(e,t){var r=B(e,t,14),n=B(e,t,18),e=B(t,e,9),e=r^n^e;e<0&&(e+=4294967296);return e}(f,d),S=function(e,t,r){r=e&t^~e&r;r<0&&(r+=4294967296);return r}(f,h,y),E=function(e,t,r){r=e&t^~e&r;r<0&&(r+=4294967296);return r}(d,p,b),P=this.k[w],x=this.k[w+1],M=r[w],K=r[w+1],C=O(v,_,k,A,S,E,P,x,M,K),M=z(v,_,k,A,S,E,P,x,M,K),v=function(e,t){var r=T(e,t,28),n=T(t,e,2),e=T(t,e,7),e=r^n^e;e<0&&(e+=4294967296);return e}(n,a),_=function(e,t){var r=B(e,t,28),n=B(t,e,2),e=B(t,e,7),e=r^n^e;e<0&&(e+=4294967296);return e}(n,a),k=function(e,t,r){r=e&t^e&r^t&r;r<0&&(r+=4294967296);return r}(n,i,o),A=function(e,t,r){r=e&t^e&r^t&r;r<0&&(r+=4294967296);return r}(a,s,u),K=j(v,_,k,A),A=I(v,_,k,A),m=y,g=b,y=h,b=p,h=f,p=d,f=j(c,l,C,M),d=I(l,l,C,M),c=o,l=u,o=i,u=s,i=n,s=a,n=j(C,M,K,A),a=I(C,M,K,A);R(this.h,0,n,a),R(this.h,2,i,s),R(this.h,4,o,u),R(this.h,6,c,l),R(this.h,8,f,d),R(this.h,10,h,p),R(this.h,12,y,b),R(this.h,14,m,g)},o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":35,"../utils":45,"minimalistic-assert":48}],44:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function a(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?a(t,r,n):1===e||3===e?t^r^n:2===e?i(t,r,n):void 0},r.ch32=a,r.maj32=i,r.p32=s,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":45}],45:[function(e,t,r){"use strict";var u=e("minimalistic-assert"),e=e("inherits");function i(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function n(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=e,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,a=255&a;i?r.push(i,a):r.push(a)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t},r.htonl=i,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];r+=s((a="little"===t?i(a):a).toString(16))}return r},r.zero2=n,r.zero8=s,r.join32=function(e,t,r,n){u((r-=t)%4==0);for(var a=new Array(r/4),i=0,s=t;i<a.length;i++,s+=4){var o="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s];a[i]=o>>>0}return a},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,a=0;n<e.length;n++,a+=4){var i=e[n];"big"===t?(r[a]=i>>>24,r[a+1]=i>>>16&255,r[a+2]=i>>>8&255,r[a+3]=255&i):(r[a+3]=i>>>24,r[a+2]=i>>>16&255,r[a+1]=i>>>8&255,r[a]=255&i)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,a){return e+t+r+n+a>>>0},r.sum64=function(e,t,r,n){var a=e[t],i=n+e[t+1]>>>0;e[t]=(i<n?1:0)+r+a>>>0,e[t+1]=i},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,a,i,s,o){var u=0,c=t;return u+=(c=t+n>>>0)<t?1:0,u+=(c=c+i>>>0)<i?1:0,e+r+a+s+(u+=(c=c+o>>>0)<o?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,a,i,s,o){return t+n+i+o>>>0},r.sum64_5_hi=function(e,t,r,n,a,i,s,o,u,c){var l=0,f=t;return l+=(f=t+n>>>0)<t?1:0,l+=(f=f+i>>>0)<i?1:0,l+=(f=f+o>>>0)<o?1:0,e+r+a+s+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,a,i,s,o,u,c){return t+n+i+o+c>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:47,"minimalistic-assert":48}],46:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("minimalistic-crypto-utils"),a=e("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),e=i.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,e)}(t.exports=s).prototype._init=function(e,t,r){r=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);n=a.slice(0,e);return this._update(r),this._reseed++,i.encode(n,t)}},{"hash.js":34,"minimalistic-assert":48,"minimalistic-crypto-utils":49}],47:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],48:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}(t.exports=n).equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],49:[function(e,t,r){"use strict";function n(e){return 1===e.length?"0"+e:e}function a(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,a=255&a;i?r.push(i,a):r.push(a)}return r},r.zero2=n,r.toHex=a,r.encode=function(e,t){return"hex"===t?a(e):e}},{}],50:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":51,"./lib/inflate":52,"./lib/utils/common":53,"./lib/zlib/constants":56}],51:[function(e,t,r){"use strict";var s=e("./zlib/deflate"),o=e("./utils/common"),u=e("./utils/strings"),n=e("./zlib/messages"),a=e("./zlib/zstream"),c=Object.prototype.toString;function i(e){if(!(this instanceof i))return new i(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;if(t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,(this.strm.avail_out=0)!==(e=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy)))throw new Error(n[e]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){t="string"==typeof t.dictionary?u.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary;if(0!==(e=s.deflateSetDictionary(this.strm,t)))throw new Error(n[e]);this._dict_set=!0}}function l(e,t){t=new i(t);if(t.push(e,!0),t.err)throw t.msg||n[t.err];return t.result}i.prototype.push=function(e,t){var r,n,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=u.string2buf(e):"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new o.Buf8(i),a.next_out=0,a.avail_out=i),1!==(r=s.deflate(a,n))&&0!==r)return this.onEnd(r),!(this.ended=!0)}while(0!==a.avail_out&&(0!==a.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(u.buf2binstring(o.shrinkBuf(a.output,a.next_out))):this.onData(o.shrinkBuf(a.output,a.next_out))),(0<a.avail_in||0===a.avail_out)&&1!==r);return 4===n?(r=s.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==n||(this.onEnd(0),!(a.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=i,r.deflate=l,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},{"./utils/common":53,"./utils/strings":54,"./zlib/deflate":58,"./zlib/messages":63,"./zlib/zstream":65}],52:[function(e,t,r){"use strict";var f=e("./zlib/inflate"),d=e("./utils/common"),h=e("./utils/strings"),p=e("./zlib/constants"),n=e("./zlib/messages"),a=e("./zlib/zstream"),i=e("./zlib/gzheader"),y=Object.prototype.toString;function s(e){if(!(this instanceof s))return new s(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;t=f.inflateInit2(this.strm,t.windowBits);if(t!==p.Z_OK)throw new Error(n[t]);this.header=new i,f.inflateGetHeader(this.strm,this.header)}function o(e,t){t=new s(t);if(t.push(e,!0),t.err)throw t.msg||n[t.err];return t.result}s.prototype.push=function(e,t){var r,n,a,i,s,o=this.strm,u=this.options.chunkSize,c=this.options.dictionary,l=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?p.Z_FINISH:p.Z_NO_FLUSH,"string"==typeof e?o.input=h.binstring2buf(e):"[object ArrayBuffer]"===y.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new d.Buf8(u),o.next_out=0,o.avail_out=u),(r=f.inflate(o,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&c&&(s="string"==typeof c?h.string2buf(c):"[object ArrayBuffer]"===y.call(c)?new Uint8Array(c):c,r=f.inflateSetDictionary(this.strm,s)),r===p.Z_BUF_ERROR&&!0===l&&(r=p.Z_OK,l=!1),r!==p.Z_STREAM_END&&r!==p.Z_OK)return this.onEnd(r),!(this.ended=!0)}while(o.next_out&&(0!==o.avail_out&&r!==p.Z_STREAM_END&&(0!==o.avail_in||n!==p.Z_FINISH&&n!==p.Z_SYNC_FLUSH)||("string"===this.options.to?(a=h.utf8border(o.output,o.next_out),i=o.next_out-a,s=h.buf2string(o.output,a),o.next_out=i,o.avail_out=u-i,i&&d.arraySet(o.output,o.output,a,i,0),this.onData(s)):this.onData(d.shrinkBuf(o.output,o.next_out)))),0===o.avail_in&&0===o.avail_out&&(l=!0),(0<o.avail_in||0===o.avail_out)&&r!==p.Z_STREAM_END);return(n=r===p.Z_STREAM_END?p.Z_FINISH:n)===p.Z_FINISH?(r=f.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===p.Z_OK):n!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(o.avail_out=0))},s.prototype.onData=function(e){this.chunks.push(e)},s.prototype.onEnd=function(e){e===p.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=s,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{"./utils/common":53,"./utils/strings":54,"./zlib/constants":56,"./zlib/gzheader":59,"./zlib/inflate":61,"./zlib/messages":63,"./zlib/zstream":65}],53:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t,r,n=Array.prototype.slice.call(arguments,1);n.length;){var a=n.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var i in a)t=a,r=i,Object.prototype.hasOwnProperty.call(t,r)&&(e[i]=a[i])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),a);else for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){for(var t,r,n,a=0,i=0,s=e.length;i<s;i++)a+=e[i].length;for(n=new Uint8Array(a),i=t=0,s=e.length;i<s;i++)r=e[i],n.set(r,t),t+=r.length;return n}},i={arraySet:function(e,t,r,n,a){for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(n)},{}],54:[function(e,t,r){"use strict";var u=e("./common"),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var c=new u.Buf8(256),n=0;n<256;n++)c[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,u.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}c[254]=c[254]=1,r.string2buf=function(e){for(var t,r,n,a,i=e.length,s=0,o=0;o<i;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new u.Buf8(s),o=a=0;a<s;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new u.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){for(var r,n,a=t||e.length,i=new Array(2*a),s=0,o=0;o<a;)if((r=e[o++])<128)i[s++]=r;else if(4<(n=c[r]))i[s++]=65533,o+=n-1;else{for(r&=2===n?31:3===n?15:7;1<n&&o<a;)r=r<<6|63&e[o++],n--;1<n?i[s++]=65533:r<65536?i[s++]=r:(r-=65536,i[s++]=55296|r>>10&1023,i[s++]=56320|1023&r)}return l(i,s)},r.utf8border=function(e,t){for(var r=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=r&&128==(192&e[r]);)r--;return!(r<0)&&0!==r&&r+c[e[r]]>t?r:t}},{"./common":53}],55:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,s=0;0!==r;){for(r-=s=2e3<r?2e3:r;i=i+(a=a+t[n++]|0)|0,--s;);a%=65521,i%=65521}return a|i<<16|0}},{}],56:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],57:[function(e,t,r){"use strict";var o=function(){for(var e=[],t=0;t<256;t++){for(var r=t,n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r}return e}();t.exports=function(e,t,r,n){var a=o,i=n+r;e^=-1;for(var s=n;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],58:[function(e,t,r){"use strict";var o,f=e("../utils/common"),u=e("./trees"),d=e("./adler32"),h=e("./crc32"),n=e("./messages"),c=0,l=4,p=0,y=-2,b=-1,m=4,a=2,g=8,w=9,i=286,s=30,v=19,_=2*i+1,k=15,A=3,S=258,E=S+A+1,P=42,x=113,M=1,K=2,C=3,U=4;function T(e,t){return e.msg=n[t],t}function B(e){return(e<<1)-(4<e?9:0)}function R(e){for(var t=e.length;0<=--t;)e[t]=0}function j(e){var t=e.state,r=t.pending;0!==(r=r>e.avail_out?e.avail_out:r)&&(f.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function I(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,j(e.strm)}function O(e,t){e.pending_buf[e.pending++]=t}function z(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function D(e,t){var r,n,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match,u=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+S,h=c[i+s-1],p=c[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(r=t)+s]===p&&c[r+s-1]===h&&c[r]===c[i]&&c[++r]===c[i+1]){for(i+=2,r++;c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<d;);if(n=S-(d-i),i=d-S,s<n){if(e.match_start=t,o<=(s=n))break;h=c[i+s-1],p=c[i+s]}}}while((t=f[t&l])>u&&0!=--a);return s<=e.lookahead?s:e.lookahead}function N(e){var t,r,n,a,i,s,o,u,c,l=e.w_size;do{if(c=e.window_size-e.lookahead-e.strstart,e.strstart>=l+(l-E)){for(f.arraySet(e.window,e.window,l,l,0),e.match_start-=l,e.strstart-=l,e.block_start-=l,t=r=e.hash_size;n=e.head[--t],e.head[t]=l<=n?n-l:0,--r;);for(t=r=l;n=e.prev[--t],e.prev[t]=l<=n?n-l:0,--r;);c+=l}if(0===e.strm.avail_in)break;if(i=e.strm,s=e.window,o=e.strstart+e.lookahead,u=c,c=void 0,c=i.avail_in,r=0===(c=u<c?u:c)?0:(i.avail_in-=c,f.arraySet(s,i.input,i.next_in,c,o),1===i.state.wrap?i.adler=d(i.adler,s,c,o):2===i.state.wrap&&(i.adler=h(i.adler,s,c,o)),i.next_in+=c,i.total_in+=c,c),e.lookahead+=r,e.lookahead+e.insert>=A)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+A-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<A)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function F(e,t){for(var r,n;;){if(e.lookahead<E){if(N(e),e.lookahead<E&&t===c)return M;if(0===e.lookahead)break}if(r=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-E&&(e.match_length=D(e,r)),e.match_length>=A)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-A),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=A){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(I(e,!1),0===e.strm.avail_out))return M}return e.insert=e.strstart<A-1?e.strstart:A-1,t===l?(I(e,!0),0===e.strm.avail_out?C:U):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?M:K}function q(e,t){for(var r,n,a;;){if(e.lookahead<E){if(N(e),e.lookahead<E&&t===c)return M;if(0===e.lookahead)break}if(r=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=A-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-E&&(e.match_length=D(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===A&&4096<e.strstart-e.match_start)&&(e.match_length=A-1)),e.prev_length>=A&&e.match_length<=e.prev_length){for(a=e.strstart+e.lookahead-A,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-A),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=A-1,e.strstart++,n&&(I(e,!1),0===e.strm.avail_out))return M}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return M}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<A-1?e.strstart:A-1,t===l?(I(e,!0),0===e.strm.avail_out?C:U):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?M:K}function L(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*_),this.dyn_dtree=new f.Buf16(2*(2*s+1)),this.bl_tree=new f.Buf16(2*(2*v+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(k+1),this.heap=new f.Buf16(2*i+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*i+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=a,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?P:x,e.adler=2===t.wrap?0:1,t.last_flush=c,u._tr_init(t),p):T(e,y)}function G(e){var t=W(e);return t===p&&((e=e.state).window_size=2*e.w_size,R(e.head),e.max_lazy_match=o[e.level].max_lazy,e.good_match=o[e.level].good_length,e.nice_match=o[e.level].nice_length,e.max_chain_length=o[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=A-1,e.match_available=0,e.ins_h=0),t}function Z(e,t,r,n,a,i){if(!e)return y;var s=1;if(t===b&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),a<1||w<a||r!==g||n<8||15<n||t<0||9<t||i<0||m<i)return T(e,y);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+A-1)/A),o.window=new f.Buf8(2*o.w_size),o.head=new f.Buf16(o.hash_size),o.prev=new f.Buf16(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new f.Buf8(o.pending_buf_size),o.d_buf=+o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=i,o.method=r,G(e)}o=[new L(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(N(e),0===e.lookahead&&t===c)return M;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,I(e,!1),0===e.strm.avail_out))return M;if(e.strstart-e.block_start>=e.w_size-E&&(I(e,!1),0===e.strm.avail_out))return M}return e.insert=0,t===l?(I(e,!0),0===e.strm.avail_out?C:U):(e.strstart>e.block_start&&(I(e,!1),e.strm.avail_out),M)}),new L(4,4,8,4,F),new L(4,5,16,8,F),new L(4,6,32,32,F),new L(4,4,16,16,q),new L(8,16,32,32,q),new L(8,16,128,128,q),new L(8,32,128,256,q),new L(32,128,258,1024,q),new L(32,258,258,4096,q)],r.deflateInit=function(e,t){return Z(e,t,g,15,8,0)},r.deflateInit2=Z,r.deflateReset=G,r.deflateResetKeep=W,r.deflateSetHeader=function(e,t){return!e||!e.state||2!==e.state.wrap?y:(e.state.gzhead=t,p)},r.deflate=function(e,t){var r,n,a,i;if(!e||!e.state||5<t||t<0)return e?T(e,y):y;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==l)return T(e,0===e.avail_out?-5:y);if(r.strm=e,s=r.last_flush,r.last_flush=t,r.status===P&&(2===r.wrap?(e.adler=0,O(r,31),O(r,139),O(r,8),r.gzhead?(O(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),O(r,255&r.gzhead.time),O(r,r.gzhead.time>>8&255),O(r,r.gzhead.time>>16&255),O(r,r.gzhead.time>>24&255),O(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),O(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(O(r,255&r.gzhead.extra.length),O(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=h(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(O(r,0),O(r,0),O(r,0),O(r,0),O(r,0),O(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),O(r,3),r.status=x)):(i=g+(r.w_bits-8<<4)<<8,i|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(i|=32),i+=31-i%31,r.status=x,z(r,i),0!==r.strstart&&(z(r,e.adler>>>16),z(r,65535&e.adler)),e.adler=1)),69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),j(e),n=r.pending,r.pending!==r.pending_buf_size));)O(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),j(e),n=r.pending,r.pending===r.pending_buf_size)){a=1;break}}while(a=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,O(r,a),0!==a);r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),0===a&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),j(e),n=r.pending,r.pending===r.pending_buf_size)){a=1;break}}while(a=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,O(r,a),0!==a);r.gzhead.hcrc&&r.pending>n&&(e.adler=h(e.adler,r.pending_buf,r.pending-n,n)),0===a&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&j(e),r.pending+2<=r.pending_buf_size&&(O(r,255&e.adler),O(r,e.adler>>8&255),e.adler=0,r.status=x)):r.status=x),0!==r.pending){if(j(e),0===e.avail_out)return r.last_flush=-1,p}else if(0===e.avail_in&&B(t)<=B(s)&&t!==l)return T(e,-5);if(666===r.status&&0!==e.avail_in)return T(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==c&&666!==r.status){var s=2===r.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(N(e),0===e.lookahead)){if(t===c)return M;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(I(e,!1),0===e.strm.avail_out))return M}return e.insert=0,t===l?(I(e,!0),0===e.strm.avail_out?C:U):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?M:K}(r,t):3===r.strategy?function(e,t){for(var r,n,a,i,s=e.window;;){if(e.lookahead<=S){if(N(e),e.lookahead<=S&&t===c)return M;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=A&&0<e.strstart&&(n=s[a=e.strstart-1])===s[++a]&&n===s[++a]&&n===s[++a]){for(i=e.strstart+S;n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<i;);e.match_length=S-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=A?(r=u._tr_tally(e,1,e.match_length-A),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(I(e,!1),0===e.strm.avail_out))return M}return e.insert=0,t===l?(I(e,!0),0===e.strm.avail_out?C:U):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?M:K}(r,t):o[r.level].func(r,t);if(s!==C&&s!==U||(r.status=666),s===M||s===C)return 0===e.avail_out&&(r.last_flush=-1),p;if(s===K&&(1===t?u._tr_align(r):5!==t&&(u._tr_stored_block(r,0,0,!1),3===t&&(R(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),j(e),0===e.avail_out))return r.last_flush=-1,p}return t!==l?p:r.wrap<=0?1:(2===r.wrap?(O(r,255&e.adler),O(r,e.adler>>8&255),O(r,e.adler>>16&255),O(r,e.adler>>24&255),O(r,255&e.total_in),O(r,e.total_in>>8&255),O(r,e.total_in>>16&255),O(r,e.total_in>>24&255)):(z(r,e.adler>>>16),z(r,65535&e.adler)),j(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?p:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==P&&69!==t&&73!==t&&91!==t&&103!==t&&t!==x&&666!==t?T(e,y):(e.state=null,t===x?T(e,-3):p):y},r.deflateSetDictionary=function(e,t){var r,n,a,i,s,o,u,c=t.length;if(!e||!e.state)return y;if(2===(i=(r=e.state).wrap)||1===i&&r.status!==P||r.lookahead)return y;for(1===i&&(e.adler=d(e.adler,t,c,0)),r.wrap=0,c>=r.w_size&&(0===i&&(R(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new f.Buf8(r.w_size),f.arraySet(u,t,c-r.w_size,r.w_size,0),t=u,c=r.w_size),s=e.avail_in,o=e.next_in,u=e.input,e.avail_in=c,e.next_in=0,e.input=t,N(r);r.lookahead>=A;){for(n=r.strstart,a=r.lookahead-(A-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+A-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--a;);r.strstart=n,r.lookahead=A-1,N(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=A-1,r.match_available=0,e.next_in=o,e.input=u,e.avail_in=s,r.wrap=i,p},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":53,"./adler32":55,"./crc32":57,"./messages":63,"./trees":64}],59:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],60:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,a,i,s,o,u=e.state,c=e.next_in,l=e.input,f=c+(e.avail_in-5),d=e.next_out,h=e.output,p=d-(t-e.avail_out),y=d+(e.avail_out-257),b=u.dmax,m=u.wsize,g=u.whave,w=u.wnext,v=u.window,_=u.hold,k=u.bits,A=u.lencode,S=u.distcode,E=(1<<u.lenbits)-1,P=(1<<u.distbits)-1;e:do{k<15&&(_+=l[c++]<<k,k+=8,_+=l[c++]<<k,k+=8),r=A[_&E];t:for(;;){if(_>>>=n=r>>>24,k-=n,0===(n=r>>>16&255))h[d++]=65535&r;else{if(!(16&n)){if(0==(64&n)){r=A[(65535&r)+(_&(1<<n)-1)];continue t}if(32&n){u.mode=12;break e}e.msg="invalid literal/length code",u.mode=30;break e}a=65535&r,(n&=15)&&(k<n&&(_+=l[c++]<<k,k+=8),a+=_&(1<<n)-1,_>>>=n,k-=n),k<15&&(_+=l[c++]<<k,k+=8,_+=l[c++]<<k,k+=8),r=S[_&P];r:for(;;){if(_>>>=n=r>>>24,k-=n,!(16&(n=r>>>16&255))){if(0==(64&n)){r=S[(65535&r)+(_&(1<<n)-1)];continue r}e.msg="invalid distance code",u.mode=30;break e}if(i=65535&r,k<(n&=15)&&(_+=l[c++]<<k,(k+=8)<n&&(_+=l[c++]<<k,k+=8)),b<(i+=_&(1<<n)-1)){e.msg="invalid distance too far back",u.mode=30;break e}if(_>>>=n,k-=n,(n=d-p)<i){if(g<(n=i-n)&&u.sane){e.msg="invalid distance too far back",u.mode=30;break e}if(o=v,(s=0)===w){if(s+=m-n,n<a){for(a-=n;h[d++]=v[s++],--n;);s=d-i,o=h}}else if(w<n){if(s+=m+w-n,(n-=w)<a){for(a-=n;h[d++]=v[s++],--n;);if(s=0,w<a){for(a-=n=w;h[d++]=v[s++],--n;);s=d-i,o=h}}}else if(s+=w-n,n<a){for(a-=n;h[d++]=v[s++],--n;);s=d-i,o=h}for(;2<a;)h[d++]=o[s++],h[d++]=o[s++],h[d++]=o[s++],a-=3;a&&(h[d++]=o[s++],1<a&&(h[d++]=o[s++]))}else{for(s=d-i;h[d++]=h[s++],h[d++]=h[s++],h[d++]=h[s++],2<(a-=3););a&&(h[d++]=h[s++],1<a&&(h[d++]=h[s++]))}break}}break}}while(c<f&&d<y);_&=(1<<(k-=(a=k>>3)<<3))-1,e.next_in=c-=a,e.next_out=d,e.avail_in=c<f?f-c+5:5-(c-f),e.avail_out=d<y?y-d+257:257-(d-y),u.hold=_,u.bits=k}},{}],61:[function(e,t,r){"use strict";var K=e("../utils/common"),C=e("./adler32"),U=e("./crc32"),T=e("./inffast"),B=e("./inftrees"),R=1,j=2,I=0,O=-2,z=1,n=852,a=592;function D(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new K.Buf16(320),this.work=new K.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=z,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new K.Buf32(n),t.distcode=t.distdyn=new K.Buf32(a),t.sane=1,t.back=-1,I):O}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,s(e)):O}function u(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?O:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):O}function c(e,t){var r;return e?(r=new i,(e.state=r).window=null,(t=u(e,t))!==I&&(e.state=null),t):O}var N,F,q=!0;function L(e,t,r,n){var a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new K.Buf8(a.wsize)),n>=a.wsize?(K.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(n<(e=a.wsize-a.wnext)&&(e=n),K.arraySet(a.window,t,r-n,e,a.wnext),(n-=e)?(K.arraySet(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=e,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=e))),0}r.inflateReset=o,r.inflateReset2=u,r.inflateResetKeep=s,r.inflateInit=function(e){return c(e,15)},r.inflateInit2=c,r.inflate=function(e,t){var r,n,a,i,s,o,u,c,l,f,d,h,p,y,b,m,g,w,v,_,k,A,S,E,P=0,x=new K.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return O;12===(r=e.state).mode&&(r.mode=13),s=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,l=r.bits,f=o,d=u,A=I;e:for(;;)switch(r.mode){case z:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(2&r.wrap&&35615===c){x[r.check=0]=255&c,x[1]=c>>>8&255,r.check=U(r.check,x,2,0),l=c=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&c)){e.msg="unknown compression method",r.mode=30;break}if(l-=4,k=8+(15&(c>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&c?10:12,l=c=0;break;case 2:for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(r.flags=c,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(x[0]=255&c,x[1]=c>>>8&255,r.check=U(r.check,x,2,0)),l=c=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&(x[0]=255&c,x[1]=c>>>8&255,x[2]=c>>>16&255,x[3]=c>>>24&255,r.check=U(r.check,x,4,0)),l=c=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(x[0]=255&c,x[1]=c>>>8&255,r.check=U(r.check,x,2,0)),l=c=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(x[0]=255&c,x[1]=c>>>8&255,r.check=U(r.check,x,2,0)),l=c=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((h=o<(h=r.length)?o:h)&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),K.arraySet(r.head.extra,n,i,h,k)),512&r.flags&&(r.check=U(r.check,n,h,i)),o-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(h=0;k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&h<o;);if(512&r.flags&&(r.check=U(r.check,n,h,i)),o-=h,i+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(h=0;k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&h<o;);if(512&r.flags&&(r.check=U(r.check,n,h,i)),o-=h,i+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}l=c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}e.adler=r.check=D(c),l=c=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){c>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}switch(r.last=1&c,--l,3&(c>>>=1)){case 0:r.mode=14;break;case 1:if(!function(e){if(q){var t;for(N=new K.Buf32(512),F=new K.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(B(R,e.lens,0,288,N,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;B(j,e.lens,0,32,F,0,e.work,{bits:5}),q=!1}e.lencode=N,e.lenbits=9,e.distcode=F,e.distbits=5}(r),r.mode=20,6!==t)break;c>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&c,l=c=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(h=r.length){if(0===(h=u<(h=o<h?o:h)?u:h))break e;K.arraySet(a,n,i,h,s),o-=h,i+=h,u-=h,s+=h,r.length-=h;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.lens[M[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},A=B(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;m=(P=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,g=65535&P,!((b=P>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(g<16)c>>>=b,l-=b,r.lens[r.have++]=g;else{if(16===g){for(E=b+2;l<E;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(c>>>=b,l-=b,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}k=r.lens[r.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===g){for(E=b+3;l<E;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}l-=b,k=0,h=3+(7&(c>>>=b)),c>>>=3,l-=3}else{for(E=b+7;l<E;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}l-=b,k=0,h=11+(127&(c>>>=b)),c>>>=7,l-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;h--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},A=B(R,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},A=B(j,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,A){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=u){e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=l,T(e,d),s=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;m=(P=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,g=65535&P,!((b=P>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(m&&0==(240&m)){for(w=b,v=m,_=g;m=(P=r.lencode[_+((c&(1<<w+v)-1)>>w)])>>>16&255,g=65535&P,!(w+(b=P>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}c>>>=w,l-=w,r.back+=w}if(c>>>=b,l-=b,r.back+=b,r.length=g,0===m){r.mode=26;break}if(32&m){r.back=-1,r.mode=12;break}if(64&m){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&m,r.mode=22;case 22:if(r.extra){for(E=r.extra;l<E;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;m=(P=r.distcode[c&(1<<r.distbits)-1])>>>16&255,g=65535&P,!((b=P>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(0==(240&m)){for(w=b,v=m,_=g;m=(P=r.distcode[_+((c&(1<<w+v)-1)>>w)])>>>16&255,g=65535&P,!(w+(b=P>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}c>>>=w,l-=w,r.back+=w}if(c>>>=b,l-=b,r.back+=b,64&m){e.msg="invalid distance code",r.mode=30;break}r.offset=g,r.extra=15&m,r.mode=24;case 24:if(r.extra){for(E=r.extra;l<E;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===u)break e;if(r.offset>(h=d-u)){if((h=r.offset-h)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}p=h>r.wnext?(h-=r.wnext,r.wsize-h):r.wnext-h,h>r.length&&(h=r.length),y=r.window}else y=a,p=s-r.offset,h=r.length;for(u-=h=u<h?u:h,r.length-=h;a[s++]=y[p++],--h;);0===r.length&&(r.mode=21);break;case 26:if(0===u)break e;a[s++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,c|=n[i++]<<l,l+=8}if(d-=u,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=(r.flags?U:C)(r.check,a,d,s-d)),d=u,(r.flags?c:D(c))!==r.check){e.msg="incorrect data check",r.mode=30;break}l=c=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}l=c=0}r.mode=29;case 29:A=1;break e;case 30:A=-3;break e;case 31:return-4;default:return O}return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=l,(r.wsize||d!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&L(e,e.output,e.next_out,d-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=(r.flags?U:C)(r.check,a,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===d||4===t)&&A===I?-5:A)},r.inflateEnd=function(e){if(!e||!e.state)return O;var t=e.state;return t.window&&(t.window=null),e.state=null,I},r.inflateGetHeader=function(e,t){return!e||!e.state||0==(2&(e=e.state).wrap)?O:((e.head=t).done=!1,I)},r.inflateSetDictionary=function(e,t){var r,n=t.length;return!e||!e.state||0!==(r=e.state).wrap&&11!==r.mode?O:11===r.mode&&C(1,t,n,0)!==r.check?-3:L(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,I)},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":53,"./adler32":55,"./crc32":57,"./inffast":60,"./inftrees":62}],62:[function(e,t,r){"use strict";var R=e("../utils/common"),j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],I=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],O=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],z=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,a,i,s,o){for(var u,c,l,f,d,h,p,y,b,m=o.bits,g=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,P=0,x=0,M=null,K=0,C=new R.Buf16(16),U=new R.Buf16(16),T=null,B=0,g=0;g<=15;g++)C[g]=0;for(w=0;w<n;w++)C[t[r+w]]++;for(k=m,_=15;1<=_&&0===C[_];_--);if(_<k&&(k=_),0===_)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(v=1;v<_&&0===C[v];v++);for(k<v&&(k=v),g=E=1;g<=15;g++)if(E<<=1,(E-=C[g])<0)return-1;if(0<E&&(0===e||1!==_))return-1;for(U[1]=0,g=1;g<15;g++)U[g+1]=U[g]+C[g];for(w=0;w<n;w++)0!==t[r+w]&&(s[U[t[r+w]]++]=w);if(h=0===e?(M=T=s,19):1===e?(M=j,K-=257,T=I,B-=257,256):(M=O,T=z,-1),g=v,d=i,S=w=x=0,l=-1,f=(P=1<<(A=k))-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){for(b=s[w]<h?(y=0,s[w]):s[w]>h?(y=T[B+s[w]],M[K+s[w]]):(y=96,0),u=1<<(p=g-S),v=c=1<<A;a[d+(x>>S)+(c-=u)]=p<<24|y<<16|b|0,0!==c;);for(u=1<<g-1;x&u;)u>>=1;if(0!==u?(x&=u-1,x+=u):x=0,w++,0==--C[g]){if(g===_)break;g=t[r+s[w]]}if(k<g&&(x&f)!==l){for(d+=v,E=1<<(A=g-(S=0===S?k:S));A+S<_&&!((E-=C[A+S])<=0);)A++,E<<=1;if(P+=1<<A,1===e&&852<P||2===e&&592<P)return 1;a[l=x&f]=k<<24|A<<16|d-i|0}}return 0!==x&&(a[d+x]=g-S<<24|64<<16|0),o.bits=k,0}},{"../utils/common":53}],63:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],64:[function(e,t,r){"use strict";var a=e("../utils/common"),o=0,u=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=29,c=256,l=c+1+s,f=30,d=19,b=2*l+1,m=15,i=16,h=7,p=256,y=16,g=17,w=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(l+2));n(S);var E=new Array(2*f);n(E);var P=new Array(512);n(P);var x=new Array(256);n(x);var M=new Array(s);n(M);var K,C,U,T=new Array(f);function B(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function R(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function j(e){return e<256?P[e]:P[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,r){e.bi_valid>i-r?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>i-e.bi_valid,e.bi_valid+=r-i):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function z(e,t,r){O(e,r[2*t],r[2*t+1])}function D(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function N(e,t,r){for(var n,a=new Array(m+1),i=0,s=1;s<=m;s++)a[s]=i=i+r[s-1]<<1;for(n=0;n<=t;n++){var o=e[2*n+1];0!==o&&(e[2*n]=D(a[o]++,o))}}function F(e){for(var t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*p]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function q(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function L(e,t,r,n){var a=2*t,i=2*r;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]}function H(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&L(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!L(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n}function W(e,t,r){var n,a,i,s,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],a=e.pending_buf[e.l_buf+o],o++,0==n?z(e,a,t):(z(e,(i=x[a])+c+1,t),0!==(s=v[i])&&O(e,a-=M[i],s),z(e,i=j(--n),r),0!==(s=_[i])&&O(e,n-=T[i],s)),o<e.last_lit;);z(e,p,t)}function G(e,t){var r,n,a,i=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,r=0;r<u;r++)0!==i[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,o&&(e.static_len-=s[2*a+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)H(e,i,r);for(a=u;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*a]=i[2*r]+i[2*n],e.depth[a]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=a,e.heap[1]=a++,H(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){for(var r,n,a,i,s,o=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,l=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,h=t.stat_desc.max_length,p=0,y=0;y<=m;y++)e.bl_count[y]=0;for(o[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<b;r++)h<(y=o[2*o[2*(n=e.heap[r])+1]+1]+1)&&(y=h,p++),o[2*n+1]=y,u<n||(e.bl_count[y]++,i=0,d<=n&&(i=f[n-d]),s=o[2*n],e.opt_len+=s*(y+i),l&&(e.static_len+=s*(c[2*n+1]+i)));if(0!==p){do{for(y=h-1;0===e.bl_count[y];)y--}while(e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[h]--,0<(p-=2));for(y=h;0!==y;y--)for(n=e.bl_count[y];0!==n;)u<(a=e.heap[--r])||(o[2*a+1]!==y&&(e.opt_len+=(y-o[2*a+1])*o[2*a],o[2*a+1]=y),n--)}}(e,t),N(i,c,e.bl_count)}function Z(e,t,r){var n,a,i=-1,s=t[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=s,s=t[2*(n+1)+1],++o<u&&a===s||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*y]++):o<=10?e.bl_tree[2*g]++:e.bl_tree[2*w]++,i=a,c=(o=0)===s?(u=138,3):a===s?(u=6,3):(u=7,4))}function V(e,t,r){var n,a,i=-1,s=t[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),n=0;n<=r;n++)if(a=s,s=t[2*(n+1)+1],!(++o<u&&a===s)){if(o<c)for(;z(e,a,e.bl_tree),0!=--o;);else 0!==a?(a!==i&&(z(e,a,e.bl_tree),o--),z(e,y,e.bl_tree),O(e,o-3,2)):o<=10?(z(e,g,e.bl_tree),O(e,o-3,3)):(z(e,w,e.bl_tree),O(e,o-11,7));i=a,c=(o=0)===s?(u=138,3):a===s?(u=6,3):(u=7,4)}}n(T);var Y=!1;function $(e,t,r,n){O(e,0+(n?1:0),3),n=t,t=r,r=!0,q(e=e),r&&(I(e,t),I(e,~t)),a.arraySet(e.pending_buf,e.window,n,t,e.pending),e.pending+=t}r._tr_init=function(e){Y||(function(){for(var e,t,r,n=new Array(m+1),a=0,i=0;i<s-1;i++)for(M[i]=a,e=0;e<1<<v[i];e++)x[a++]=i;for(x[a-1]=i,i=r=0;i<16;i++)for(T[i]=r,e=0;e<1<<_[i];e++)P[r++]=i;for(r>>=7;i<f;i++)for(T[i]=r<<7,e=0;e<1<<_[i]-7;e++)P[256+r++]=i;for(t=0;t<=m;t++)n[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,n[8]++;for(;e<=255;)S[2*e+1]=9,e++,n[9]++;for(;e<=279;)S[2*e+1]=7,e++,n[7]++;for(;e<=287;)S[2*e+1]=8,e++,n[8]++;for(N(S,l+1,n),e=0;e<f;e++)E[2*e+1]=5,E[2*e]=D(e,5);K=new B(S,v,c+1,l,m),C=new B(E,_,0,f,m),U=new B(new Array(0),k,0,d,h)}(),Y=!0),e.l_desc=new R(e.dyn_ltree,K),e.d_desc=new R(e.dyn_dtree,C),e.bl_desc=new R(e.bl_tree,U),e.bi_buf=0,e.bi_valid=0,F(e)},r._tr_stored_block=$,r._tr_flush_block=function(e,t,r,n){var a,i,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,r=0;r<=31;r++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*r])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return u;for(r=32;r<c;r++)if(0!==e.dyn_ltree[2*r])return u;return o}(e)),G(e,e.l_desc),G(e,e.d_desc),s=function(e){var t;for(Z(e,e.dyn_ltree,e.l_desc.max_code),Z(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=r+5,r+4<=a&&-1!==t?$(e,t,r,n):4===e.strategy||i===a?(O(e,2+(n?1:0),3),W(e,S,E)):(O(e,4+(n?1:0),3),function(e,t,r,n){var a;for(O(e,t-257,5),O(e,r-1,5),O(e,n-4,4),a=0;a<n;a++)O(e,e.bl_tree[2*A[a]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),W(e,e.dyn_ltree,e.dyn_dtree)),F(e),n&&q(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(x[r]+c+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){O(e,2,3),z(e,p,S),16===(e=e).bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":53}],65:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],66:[function(e,t,r){var n,a,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],67:[function(e,t,r){"use strict";function n(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1}var a=[0,1,3,7,15,31,63,127,255];n.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},n.prototype.read=function(e){for(var t=0;0<e;){this._ensureByte();var r=8-this.bitOffset;r<=e?(t<<=r,t|=a[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r):(t<<=e,t|=(this.curByte&a[e]<<(r=r-e))>>r,this.bitOffset+=e,e=0)}return t},n.prototype.seek=function(e){var t=e%8,e=(e-t)/8;this.bitOffset=t,this.stream.seek(e),this.hasByte=!1},n.prototype.pi=function(){for(var e=new Uint8Array(6),t=0;t<e.length;t++)e[t]=this.read(8);return Array.prototype.map.call(e,e=>("00"+e.toString(16)).slice(-2)).join("")},t.exports=n},{}],68:[function(e,t,r){"use strict";var n;t.exports=(n=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var r=4294967295;this.getCRC=function(){return~r>>>0},this.updateCRC=function(e){r=r<<8^n[255&(r>>>24^e)]},this.updateCRCRun=function(e,t){for(;0<t--;)r=r<<8^n[255&(r>>>24^e)]}})},{}],69:[function(e,t,r){"use strict";function U(e,t){for(var r=e[t],n=t;0<n;n--)e[n]=e[n-1];return e[0]=r}var n=e("./bitreader"),c=e("./stream"),a=e("./crc32"),T={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},i={};i[T.LAST_BLOCK]="Bad file checksum",i[T.NOT_BZIP_DATA]="Not bzip data",i[T.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",i[T.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",i[T.DATA_ERROR]="Data error",i[T.OUT_OF_MEMORY]="Out of memory",i[T.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";function B(e,t){var r=i[e]||"unknown error";throw t&&(r+=": "+t),(r=new TypeError(r)).errorCode=e,r}function l(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)}l.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new a,!0):!(this.writeCount=-1)},l.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||B(T.NOT_BZIP_DATA,"bad magic");r=r[3]-48;(r<1||9<r)&&B(T.NOT_BZIP_DATA,"level out of range"),this.reader=new n(e),this.dbufSize=1e5*r,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},l.prototype._get_next_block=function(){var e=this.reader,t=e.pi();if("177245385090"===t)return!1;"314159265359"!==t&&B(T.NOT_BZIP_DATA),this.targetBlockCRC=e.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,e.read(1)&&B(T.OBSOLETE_INPUT);var r=e.read(24);r>this.dbufSize&&B(T.DATA_ERROR,"initial position out of bounds");var n=e.read(16),a=new Uint8Array(256),i=0;for(v=0;v<16;v++)if(n&1<<15-v)for(var s=16*v,o=e.read(16),u=0;u<16;u++)o&1<<15-u&&(a[i++]=s+u);var c=e.read(3);(c<2||6<c)&&B(T.DATA_ERROR);var l=e.read(15);0===l&&B(T.DATA_ERROR);var f=new Uint8Array(256);for(v=0;v<c;v++)f[v]=v;var d=new Uint8Array(l);for(v=0;v<l;v++){for(u=0;e.read(1);u++)c<=u&&B(T.DATA_ERROR);d[v]=U(f,u)}var h,p=i+2,y=[];for(u=0;u<c;u++){for(var b,m,g=new Uint8Array(p),w=new Uint16Array(21),n=e.read(5),v=0;v<p;v++){for(;(n<1||20<n)&&B(T.DATA_ERROR),e.read(1);)e.read(1)?n--:n++;g[v]=n}for(b=m=g[0],v=1;v<p;v++)g[v]>m?m=g[v]:g[v]<b&&(b=g[v]);y.push(h={}),h.permute=new Uint16Array(258),h.limit=new Uint32Array(22),h.base=new Uint32Array(21),h.minLen=b,h.maxLen=m;var _=0;for(v=b;v<=m;v++)for(n=w[v]=h.limit[v]=0;n<p;n++)g[n]===v&&(h.permute[_++]=n);for(v=0;v<p;v++)w[g[v]]++;for(_=n=0,v=b;v<m;v++)_+=w[v],h.limit[v]=_-1,_<<=1,n+=w[v],h.base[v+1]=_-n;h.limit[m+1]=Number.MAX_VALUE,h.limit[m]=_+w[m]-1,h.base[b]=0}var k=new Uint32Array(256);for(v=0;v<256;v++)f[v]=v;for(var A,S=0,E=0,P=0,x=this.dbuf=new Uint32Array(this.dbufSize),p=0;;){for(p--||(p=49,l<=P&&B(T.DATA_ERROR),h=y[d[P++]]),v=h.minLen,u=e.read(v);v>h.maxLen&&B(T.DATA_ERROR),!(u<=h.limit[v]);v++)u=u<<1|e.read(1);((u-=h.base[v])<0||258<=u)&&B(T.DATA_ERROR);var M=h.permute[u];if(0!==M&&1!==M){if(S)for(S=0,E+n>this.dbufSize&&B(T.DATA_ERROR),k[A=a[f[0]]]+=n;n--;)x[E++]=A;if(i<M)break;E>=this.dbufSize&&B(T.DATA_ERROR),k[A=a[A=U(f,v=M-1)]]++,x[E++]=A}else S||(S=1,n=0),n+=0===M?S:2*S,S<<=1}for((r<0||E<=r)&&B(T.DATA_ERROR),v=u=0;v<256;v++)o=u+k[v],k[v]=u,u=o;for(v=0;v<E;v++)x[k[A=255&x[v]]]|=v<<8,k[A]++;var K=0,C=0,t=0;return E&&(C=255&(K=x[r]),K>>=8,t=-1),this.writePos=K,this.writeCurrent=C,this.writeCount=E,this.writeRun=t,!0},l.prototype._read_bunzip=function(e,t){var r,n,a;if(this.writeCount<0)return 0;for(var i=this.dbuf,s=this.writePos,o=this.writeCurrent,u=this.writeCount,c=(this.outputsize,this.writeRun);u;){for(u--,n=o,o=255&(s=i[s]),s>>=8,3==c++?(r=o,a=n,o=-1):(r=1,a=o),this.blockCRC.updateCRCRun(a,r);r--;)this.outputStream.writeByte(a),this.nextoutput++;o!=n&&(c=0)}return this.writeCount=u,this.blockCRC.getCRC()!==this.targetBlockCRC&&B(T.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};function f(e){if("readByte"in e)return e;var t=new c;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t}function o(e){var t=new c,r=!0;if(e)if("number"==typeof e)t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){var t;r&&this.pos>=this.buffer.length&&((t=new Uint8Array(2*this.buffer.length)).set(this.buffer),this.buffer=t),this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t}l.Err=T,l.decode=function(e,t,r){for(var n=f(e),a=o(t),i=new l(n,a);;){if("eof"in n&&n.eof())break;if(i._init_block())i._read_bunzip();else{var s=i.reader.read(32)>>>0;if(s!==i.streamCRC&&B(T.DATA_ERROR,"Bad stream CRC (got "+i.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!(r&&"eof"in n)||n.eof())break;i._start_bunzip(n,a)}}if("getBuffer"in a)return a.getBuffer()},l.decodeBlock=function(e,t,r){e=f(e),r=o(r),e=new l(e,r);if(e.reader.seek(t),e._get_next_block()&&(e.blockCRC=new a,e.writeCopies=0,e._read_bunzip()),"getBuffer"in r)return r.getBuffer()},l.table=function(e,t,r){var n=new c;n.delegate=f(e),n.pos=0,n.readByte=function(){return this.pos++,this.delegate.readByte()},n.delegate.eof&&(n.eof=n.delegate.eof.bind(n.delegate));var a=new c;a.pos=0,a.writeByte=function(){this.pos++};for(var i=new l(n,a),s=i.dbufSize;;){if("eof"in n&&n.eof())break;var o=8*n.pos+i.reader.bitOffset;if(i.reader.hasByte&&(o-=8),i._init_block()){var u=a.pos;i._read_bunzip(),t(o,a.pos-u)}else{i.reader.read(32);if(!(r&&"eof"in n)||n.eof())break;i._start_bunzip(n,a),console.assert(i.dbufSize===s,"shouldn't change block size within multistream file")}}},l.Stream=c,t.exports=l},{"./bitreader":67,"./crc32":68,"./stream":70}],70:[function(e,t,r){"use strict";function n(){}n.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")},n.prototype.read=function(e,t,r){for(var n=0;n<r;){var a=this.readByte();if(a<0)return 0===n?-1:n;e[t++]=a,n++}return n},n.prototype.seek=function(e){throw new Error("abstract method seek() not implemented")},n.prototype.writeByte=function(e){throw new Error("abstract method readByte() not implemented")},n.prototype.write=function(e,t,r){for(var n=0;n<r;n++)this.writeByte(e[t++]);return r},n.prototype.flush=function(){},t.exports=n},{}],71:[function(e,t,r){"use strict";function u(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){this.tokens=[].slice.call(e)}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};function c(e,t){if(e)throw TypeError("Decoder error");return t||65533}var n="utf-8";function a(e,t){if(!(this instanceof a))return new a(e,t);if((e=void 0!==e?String(e).toLowerCase():n)!==n)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function o(e,t){if(!(this instanceof o))return new o(e,t);if((e=void 0!==e?String(e).toLowerCase():n)!==n)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var r=e.fatal,n=0,a=0,i=0,s=128,o=191;this.handler=function(e,t){if(-1===t&&0!==i)return i=0,c(r);if(-1===t)return-1;if(0===i){if(u(t,0,127))return t;if(u(t,194,223))i=1,n=t-192;else if(u(t,224,239))224===t&&(s=160),237===t&&(o=159),i=2,n=t-224;else{if(!u(t,240,244))return c(r);240===t&&(s=144),244===t&&(o=143),i=3,n=t-240}return n<<=6*i,null}if(!u(t,s,o))return n=i=a=0,s=128,o=191,e.prepend(t),c(r);if(o=191,n+=t-(s=128)<<6*(i-(a+=1)),a!==i)return null;t=n;return n=i=a=0,t}}function f(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t,0,127))return t;var r,n;u(t,128,2047)?(r=1,n=192):u(t,2048,65535)?(r=2,n=224):u(t,65536,1114111)&&(r=3,n=240);for(var a=[(t>>6*r)+n];0<r;)a.push(128|63&t>>6*(r-1)),--r;return a}}a.prototype={decode:function(e,t){e="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0);t=i(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,n=new s(e),a=[];!n.endOfStream()&&-1!==(r=this._decoder.handler(n,n.read()));)null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r));if(!this._streaming){for(;-1!==(r=this._decoder.handler(n,n.read()))&&(null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r)),!n.endOfStream()););this._decoder=null}return a.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(a)}},o.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new f(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],a=new s(function(e){for(var t=String(e),r=t.length,n=0,a=[];n<r;){var i,s=t.charCodeAt(n);s<55296||57343<s?a.push(s):56320<=s&&s<=57343?a.push(65533):55296<=s&&s<=56319&&(n!==r-1&&56320<=(i=e.charCodeAt(n+1))&&i<=57343?(a.push(65536+((1023&s)<<10)+(1023&i)),n+=1):a.push(65533)),n+=1}return a}(e));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;;){if(-1===(r=this._encoder.handler(a,a.read())))break;Array.isArray(r)?n.push.apply(n,r):n.push(r)}this._encoder=null}return new Uint8Array(n)}},r.TextEncoder=o,r.TextDecoder=a},{}],72:[function(e,t,r){!function(d){"use strict";var p=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},i=function(){throw new Error("no PRNG")},r=new Uint8Array(32);r[0]=9;var c=p(),l=p([1]),y=p([56129,1]),f=p([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=p([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n=p([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),a=p([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=p([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(e,t,r,n){return function(e,t,r,n,a){for(var i=0,s=0;s<a;s++)i|=e[t+s]^r[n+s];return(1&i-1>>>8)-1}(e,t,r,n,32)}function g(e,t){for(var r=0;r<16;r++)e[r]=0|t[r]}function o(e){for(var t,r=1,n=0;n<16;n++)t=e[n]+r+65535,r=Math.floor(t/65536),e[n]=t-65536*r;e[0]+=r-1+37*(r-1)}function w(e,t,r){for(var n,a=~(r-1),i=0;i<16;i++)n=a&(e[i]^t[i]),e[i]^=n,t[i]^=n}function v(e,t){for(var r,n,a=p(),i=p(),s=0;s<16;s++)i[s]=t[s];for(o(i),o(i),o(i),r=0;r<2;r++){for(a[0]=i[0]-65517,s=1;s<15;s++)a[s]=i[s]-65535-(a[s-1]>>16&1),a[s-1]&=65535;a[15]=i[15]-32767-(a[14]>>16&1),n=a[15]>>16&1,a[14]&=65535,w(i,a,1-n)}for(s=0;s<16;s++)e[2*s]=255&i[s],e[2*s+1]=i[s]>>8}function _(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return v(r,e),v(n,t),m(r,0,n,0)}function k(e){var t=new Uint8Array(32);return v(t,e),1&t[0]}function A(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function S(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function E(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function P(e,t,r){var n=0,a=0,i=0,s=0,o=0,u=0,c=0,l=0,f=0,d=0,h=0,p=0,y=0,b=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,P=0,x=0,M=0,K=0,C=0,U=0,T=0,B=0,R=r[0],j=r[1],I=r[2],O=r[3],z=r[4],D=r[5],N=r[6],F=r[7],q=r[8],L=r[9],H=r[10],W=r[11],G=r[12],Z=r[13],V=r[14],Y=r[15],r=t[0];n+=r*R,a+=r*j,i+=r*I,s+=r*O,o+=r*z,u+=r*D,c+=r*N,l+=r*F,f+=r*q,d+=r*L,h+=r*H,p+=r*W,y+=r*G,b+=r*Z,m+=r*V,g+=r*Y,a+=(r=t[1])*R,i+=r*j,s+=r*I,o+=r*O,u+=r*z,c+=r*D,l+=r*N,f+=r*F,d+=r*q,h+=r*L,p+=r*H,y+=r*W,b+=r*G,m+=r*Z,g+=r*V,w+=r*Y,i+=(r=t[2])*R,s+=r*j,o+=r*I,u+=r*O,c+=r*z,l+=r*D,f+=r*N,d+=r*F,h+=r*q,p+=r*L,y+=r*H,b+=r*W,m+=r*G,g+=r*Z,w+=r*V,v+=r*Y,s+=(r=t[3])*R,o+=r*j,u+=r*I,c+=r*O,l+=r*z,f+=r*D,d+=r*N,h+=r*F,p+=r*q,y+=r*L,b+=r*H,m+=r*W,g+=r*G,w+=r*Z,v+=r*V,_+=r*Y,o+=(r=t[4])*R,u+=r*j,c+=r*I,l+=r*O,f+=r*z,d+=r*D,h+=r*N,p+=r*F,y+=r*q,b+=r*L,m+=r*H,g+=r*W,w+=r*G,v+=r*Z,_+=r*V,k+=r*Y,u+=(r=t[5])*R,c+=r*j,l+=r*I,f+=r*O,d+=r*z,h+=r*D,p+=r*N,y+=r*F,b+=r*q,m+=r*L,g+=r*H,w+=r*W,v+=r*G,_+=r*Z,k+=r*V,A+=r*Y,c+=(r=t[6])*R,l+=r*j,f+=r*I,d+=r*O,h+=r*z,p+=r*D,y+=r*N,b+=r*F,m+=r*q,g+=r*L,w+=r*H,v+=r*W,_+=r*G,k+=r*Z,A+=r*V,S+=r*Y,l+=(r=t[7])*R,f+=r*j,d+=r*I,h+=r*O,p+=r*z,y+=r*D,b+=r*N,m+=r*F,g+=r*q,w+=r*L,v+=r*H,_+=r*W,k+=r*G,A+=r*Z,S+=r*V,E+=r*Y,f+=(r=t[8])*R,d+=r*j,h+=r*I,p+=r*O,y+=r*z,b+=r*D,m+=r*N,g+=r*F,w+=r*q,v+=r*L,_+=r*H,k+=r*W,A+=r*G,S+=r*Z,E+=r*V,P+=r*Y,d+=(r=t[9])*R,h+=r*j,p+=r*I,y+=r*O,b+=r*z,m+=r*D,g+=r*N,w+=r*F,v+=r*q,_+=r*L,k+=r*H,A+=r*W,S+=r*G,E+=r*Z,P+=r*V,x+=r*Y,h+=(r=t[10])*R,p+=r*j,y+=r*I,b+=r*O,m+=r*z,g+=r*D,w+=r*N,v+=r*F,_+=r*q,k+=r*L,A+=r*H,S+=r*W,E+=r*G,P+=r*Z,x+=r*V,M+=r*Y,p+=(r=t[11])*R,y+=r*j,b+=r*I,m+=r*O,g+=r*z,w+=r*D,v+=r*N,_+=r*F,k+=r*q,A+=r*L,S+=r*H,E+=r*W,P+=r*G,x+=r*Z,M+=r*V,K+=r*Y,y+=(r=t[12])*R,b+=r*j,m+=r*I,g+=r*O,w+=r*z,v+=r*D,_+=r*N,k+=r*F,A+=r*q,S+=r*L,E+=r*H,P+=r*W,x+=r*G,M+=r*Z,K+=r*V,C+=r*Y,b+=(r=t[13])*R,m+=r*j,g+=r*I,w+=r*O,v+=r*z,_+=r*D,k+=r*N,A+=r*F,S+=r*q,E+=r*L,P+=r*H,x+=r*W,M+=r*G,K+=r*Z,C+=r*V,U+=r*Y,m+=(r=t[14])*R,g+=r*j,w+=r*I,v+=r*O,_+=r*z,k+=r*D,A+=r*N,S+=r*F,E+=r*q,P+=r*L,x+=r*H,M+=r*W,K+=r*G,C+=r*Z,U+=r*V,T+=r*Y,g+=(r=t[15])*R,a+=38*(v+=r*I),i+=38*(_+=r*O),s+=38*(k+=r*z),o+=38*(A+=r*D),u+=38*(S+=r*N),c+=38*(E+=r*F),l+=38*(P+=r*q),f+=38*(x+=r*L),d+=38*(M+=r*H),h+=38*(K+=r*W),p+=38*(C+=r*G),y+=38*(U+=r*Z),b+=38*(T+=r*V),m+=38*(B+=r*Y),n=(r=1+(n+=38*(w+=r*j))+65535)-65536*(B=Math.floor(r/65536)),a=(r=a+B+65535)-65536*(B=Math.floor(r/65536)),i=(r=i+B+65535)-65536*(B=Math.floor(r/65536)),s=(r=s+B+65535)-65536*(B=Math.floor(r/65536)),o=(r=o+B+65535)-65536*(B=Math.floor(r/65536)),u=(r=u+B+65535)-65536*(B=Math.floor(r/65536)),c=(r=c+B+65535)-65536*(B=Math.floor(r/65536)),l=(r=l+B+65535)-65536*(B=Math.floor(r/65536)),f=(r=f+B+65535)-65536*(B=Math.floor(r/65536)),d=(r=d+B+65535)-65536*(B=Math.floor(r/65536)),h=(r=h+B+65535)-65536*(B=Math.floor(r/65536)),p=(r=p+B+65535)-65536*(B=Math.floor(r/65536)),y=(r=y+B+65535)-65536*(B=Math.floor(r/65536)),b=(r=b+B+65535)-65536*(B=Math.floor(r/65536)),m=(r=m+B+65535)-65536*(B=Math.floor(r/65536)),g=(r=g+B+65535)-65536*(B=Math.floor(r/65536)),n+=B-1+37*(B-1),n=(r=1+n+65535)-65536*(B=Math.floor(r/65536)),a=(r=a+B+65535)-65536*(B=Math.floor(r/65536)),i=(r=i+B+65535)-65536*(B=Math.floor(r/65536)),s=(r=s+B+65535)-65536*(B=Math.floor(r/65536)),o=(r=o+B+65535)-65536*(B=Math.floor(r/65536)),u=(r=u+B+65535)-65536*(B=Math.floor(r/65536)),c=(r=c+B+65535)-65536*(B=Math.floor(r/65536)),l=(r=l+B+65535)-65536*(B=Math.floor(r/65536)),f=(r=f+B+65535)-65536*(B=Math.floor(r/65536)),d=(r=d+B+65535)-65536*(B=Math.floor(r/65536)),h=(r=h+B+65535)-65536*(B=Math.floor(r/65536)),p=(r=p+B+65535)-65536*(B=Math.floor(r/65536)),y=(r=y+B+65535)-65536*(B=Math.floor(r/65536)),b=(r=b+B+65535)-65536*(B=Math.floor(r/65536)),m=(r=m+B+65535)-65536*(B=Math.floor(r/65536)),g=(r=g+B+65535)-65536*(B=Math.floor(r/65536)),e[0]=n+=B-1+37*(B-1),e[1]=a,e[2]=i,e[3]=s,e[4]=o,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=y,e[13]=b,e[14]=m,e[15]=g}function x(e,t){P(e,t,t)}function M(e,t){for(var r=p(),n=0;n<16;n++)r[n]=t[n];for(n=253;0<=n;n--)x(r,r),2!==n&&4!==n&&P(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function s(e,t,r){for(var n,a=new Uint8Array(32),i=new Float64Array(80),s=p(),o=p(),u=p(),c=p(),l=p(),f=p(),d=0;d<31;d++)a[d]=t[d];for(a[31]=127&t[31]|64,a[0]&=248,A(i,r),d=0;d<16;d++)o[d]=i[d],c[d]=s[d]=u[d]=0;for(s[0]=c[0]=1,d=254;0<=d;--d)w(s,o,n=a[d>>>3]>>>(7&d)&1),w(u,c,n),S(l,s,u),E(s,s,u),S(u,o,c),E(o,o,c),x(c,l),x(f,s),P(s,u,s),P(u,o,l),S(l,s,u),E(s,s,u),x(o,s),E(u,c,f),P(s,u,y),S(s,s,c),P(u,u,s),P(s,c,f),P(c,o,i),x(o,l),w(s,o,n),w(u,c,n);for(d=0;d<16;d++)i[d+16]=s[d],i[d+32]=u[d],i[d+48]=o[d],i[d+64]=c[d];var h=i.subarray(32),r=i.subarray(16);return M(h,h),P(r,r,h),v(e,r),0}function u(e,t){return s(e,t,r)}function K(e,t){var r=p(),n=p(),a=p(),i=p(),s=p(),o=p(),u=p(),c=p(),l=p();E(r,e[1],e[0]),E(l,t[1],t[0]),P(r,r,l),S(n,e[0],e[1]),S(l,t[0],t[1]),P(n,n,l),P(a,e[3],t[3]),P(a,a,h),P(i,e[2],t[2]),S(i,i,i),E(s,n,r),E(o,i,a),S(u,i,a),S(c,n,r),P(e[0],s,o),P(e[1],c,u),P(e[2],u,o),P(e[3],s,c)}function C(e,t,r){for(var n=0;n<4;n++)w(e[n],t[n],r)}function U(e,t){var r=p(),n=p(),a=p();M(a,t[2]),P(r,t[0],a),P(n,t[1],a),v(e,n),e[31]^=k(r)<<7}function T(e,t,r){var n,a;for(g(e[0],c),g(e[1],l),g(e[2],l),g(e[3],c),a=255;0<=a;--a)C(e,t,n=r[a/8|0]>>(7&a)&1),K(t,e),K(e,e),C(e,t,n)}function B(e,t){var r=[p(),p(),p(),p()];g(r[0],n),g(r[1],a),g(r[2],l),P(r[3],n,a),T(e,r,t)}function R(e,t,r){var n,a=[p(),p(),p(),p()];for(r||i(t,32),(r=d.hash(t.subarray(0,32)))[0]&=248,r[31]&=127,r[31]|=64,B(a,r),U(e,a),n=0;n<32;n++)t[n+32]=e[n]}var j=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function I(e,t){for(var r,n,a,i=63;32<=i;--i){for(r=0,n=i-32,a=i-12;n<a;++n)t[n]+=r-16*t[i]*j[n-(i-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[i]=0}for(n=r=0;n<32;n++)t[n]+=r-(t[31]>>4)*j[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*j[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function O(e){for(var t=new Float64Array(64),r=0;r<64;r++)t[r]=e[r];for(r=0;r<64;r++)e[r]=0;I(e,t)}function z(e,t){var r=p(),n=p(),a=p(),i=p(),s=p(),o=p(),u=p();if(g(e[2],l),A(e[1],t),x(a,e[1]),P(i,a,f),E(a,a,e[2]),S(i,e[2],i),x(s,i),x(o,s),P(u,o,s),P(r,u,a),P(r,r,i),function(e,t){for(var r=p(),n=0;n<16;n++)r[n]=t[n];for(n=250;0<=n;n--)x(r,r),1!==n&&P(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(r,r),P(r,r,a),P(r,r,i),P(r,r,i),P(e[0],r,i),x(n,e[0]),P(n,n,i),_(n,a)&&P(e[0],e[0],b),x(n,e[0]),P(n,n,i),_(n,a))return 1;k(e[0])===t[31]>>7&&E(e[0],c,e[0]),P(e[3],e[0],e[1])}var D;function N(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function F(e){for(var t=0;t<e.length;t++)e[t]=0}d.scalarMult=function(e,t){if(N(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return s(r,e,t),r},d.box={},d.box.keyPair=function(){var e,t,r=new Uint8Array(32),n=new Uint8Array(32);return e=r,i(t=n,32),u(e,t),{publicKey:r,secretKey:n}},d.box.keyPair.fromSecretKey=function(e){if(N(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return u(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},d.sign=function(e,t){if(N(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return function(e,t,r,n){var a,i,s,o=new Float64Array(64),u=[p(),p(),p(),p()],c=d.hash(n.subarray(0,32));c[0]&=248,c[31]&=127,c[31]|=64;for(var l=r+64,f=0;f<r;f++)e[64+f]=t[f];for(f=0;f<32;f++)e[32+f]=c[32+f];for(O(i=d.hash(e.subarray(32,l))),B(u,i),U(e,u),f=32;f<64;f++)e[f]=n[f];for(O(a=d.hash(e.subarray(0,l))),f=0;f<64;f++)o[f]=0;for(f=0;f<32;f++)o[f]=i[f];for(f=0;f<32;f++)for(s=0;s<32;s++)o[f+s]+=a[f]*c[s];I(e.subarray(32),o)}(r,e,e.length,t),r},d.sign.detached=function(e,t){for(var r=d.sign(e,t),n=new Uint8Array(64),a=0;a<n.length;a++)n[a]=r[a];return n},d.sign.detached.verify=function(e,t,r){if(N(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");for(var n=new Uint8Array(64+e.length),a=new Uint8Array(64+e.length),i=0;i<64;i++)n[i]=t[i];for(i=0;i<e.length;i++)n[i+64]=e[i];return 0<=function(e,t,r,n){var a,i,s=new Uint8Array(32),o=[p(),p(),p(),p()],u=[p(),p(),p(),p()];if(r<64)return-1;if(z(u,n))return-1;for(a=0;a<r;a++)e[a]=t[a];for(a=0;a<32;a++)e[a+32]=n[a];if(O(i=d.hash(e.subarray(0,r))),T(o,u,i),B(u,t.subarray(32)),K(o,u),U(s,o),r-=64,m(t,0,s,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=t[a+64];return r}(a,n,n.length,r)},d.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return R(e,t),{publicKey:e,secretKey:t}},d.sign.keyPair.fromSecretKey=function(e){if(N(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},d.sign.keyPair.fromSeed=function(e){if(N(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return R(t,r,!0),{publicKey:t,secretKey:r}},d.setPRNG=function(e){i=e},(D="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&D.getRandomValues?d.setPRNG(function(e,t){for(var r=new Uint8Array(t),n=0;n<t;n+=65536)D.getRandomValues(r.subarray(n,n+Math.min(t-n,65536)));for(n=0;n<t;n++)e[n]=r[n];F(r)}):void 0!==e&&(D=e("crypto"))&&D.randomBytes&&d.setPRNG(function(e,t){for(var r=D.randomBytes(t),n=0;n<t;n++)e[n]=r[n];F(r)})}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},{crypto:"crypto"}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.webToNode=r.nodeToWeb=void 0;var n,a=e("./util"),i=e("./streams"),s=(n=i)&&n.__esModule?n:{default:n};e=a.isNode&&e("stream").Readable;let o,u;if(e){r.nodeToWeb=o=function(r){return new ReadableStream({start(t){r.pause(),r.on("data",e=>{t.enqueue(e),r.pause()}),r.on("end",()=>t.close()),r.on("error",e=>t.error(e))},pull(){r.resume()},cancel(e){if(r.pause(),r.cancel)return r.cancel(e)}})};class c extends e{constructor(e,t){super(t),this._webStream=e,this._reader=s.default.getReader(e),this._reading=!1,this._doneReadingPromise=Promise.resolve(),this._cancelling=!1}_read(e){this._reading||this._cancelling||(this._reading=!0,this._doneReadingPromise=(async()=>{try{for(;;){var e=await this._reader.read(),t=e.done,r=e.value;if(t){this.push(null);break}if(!this.push(r)||this._cancelling){this._reading=!1;break}}}catch(e){this.emit("error",e)}})())}async cancel(e){return this._cancelling=!0,await this._doneReadingPromise,this._reader.releaseLock(),this._webStream.cancel(e)}}r.webToNode=u=function(e){return new c(e)}}r.nodeToWeb=o,r.webToNode=u},{"./streams":75,"./util":76,stream:"stream"}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.externalBuffer=r.Reader=void 0;var n,a=e("./streams"),i=(n=a)&&n.__esModule?n:{default:n};const s=new WeakSet,o=Symbol("externalBuffer");function u(e){(this.stream=e)[o]&&(this[o]=e[o].slice());var t=i.default.isStream(e);if("node"===t&&(e=i.default.nodeToWeb(e)),t){const n=e.getReader();return this._read=n.read.bind(n),void(this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()})}let r=!1;this._read=async()=>r||s.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{s.add(e)}catch(e){}}}u.prototype.read=async function(){return this[o]&&this[o].length?{done:!1,value:this[o].shift()}:this._read()},u.prototype.releaseLock=function(){this[o]&&(this.stream[o]=this[o]),this._releaseLock()},u.prototype.readLine=async function(){let r=[],n;for(;!n;){var a=await this.read();let e=a.done,t=a.value;if(t+="",e)return r.length?i.default.concat(r):void 0;a=t.indexOf("\n")+1;a&&(n=i.default.concat(r.concat(t.substr(0,a))),r=[]),a!==t.length&&r.push(t.substr(a))}return this.unshift(...r),n},u.prototype.readByte=async function(){var e=await this.read(),t=e.done,e=e.value;if(!t){t=e[0];return this.unshift(i.default.slice(e,1)),t}},u.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){var n=await this.read(),a=n.done,n=n.value;if(a)return t.length?i.default.concat(t):void 0;if(t.push(n),r+=n.length,r>=e){n=i.default.concat(t);return this.unshift(i.default.slice(n,e)),i.default.slice(n,0,e)}}},u.prototype.peekBytes=async function(e){e=await this.readBytes(e);return this.unshift(e),e},u.prototype.unshift=function(...e){this[o]||(this[o]=[]),this[o].unshift(...e.filter(e=>e&&e.length))},u.prototype.readToEnd=async function(e=i.default.concat){const t=[];for(;;){var r=await this.read(),n=r.done,r=r.value;if(n)break;t.push(r)}return e(t)},r.Reader=u,r.externalBuffer=o},{"./streams":75}],75:[function(v,e,_){!function(e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var i=v("./util"),r=v("./node-conversions"),s=v("./reader");const t=i.isNode&&v("buffer").Buffer;function o(t){var e=(0,i.isStream)(t);return"node"===e?(0,r.nodeToWeb)(t):e?t:new ReadableStream({start(e){e.enqueue(t),e.close()}})}function u(e){return e.some(i.isStream)?n(e):"string"==typeof e[0]?e.join(""):t&&t.isBuffer(e[0])?t.concat(e):(0,i.concatUint8Array)(e)}function n(n){n=n.map(o);const a=h(async function(t){await Promise.all(e.map(e=>g(e,t)))});let i=Promise.resolve();const e=n.map((e,r)=>y(e,(e,t)=>(i=i.then(()=>f(e,a.writable,{preventClose:r!==n.length-1})),i)));return a.readable}function c(e){return new s.Reader(e)}function l(e){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch(function(){}),r.call(t)},t}async function f(t,e,r){t=o(t);try{if(t[s.externalBuffer]){const n=l(e);for(let e=0;e<t[s.externalBuffer].length;e++)await n.ready,await n.write(t[s.externalBuffer][e]);n.releaseLock()}return t.pipeTo(e,r)}catch(e){}}function d(e,t){t=new TransformStream(t);return f(e,t.writable),t.readable}function h(e){let t=!1,r,n;return{readable:new ReadableStream({start(e){n=e},pull(){r?r():t=!0},cancel:e},{highWaterMark:0}),writable:new WritableStream({write:async function(e){n.enqueue(e),t?t=!1:(await new Promise(e=>{r=e}),r=null)},close:n.close.bind(n),abort:n.error.bind(n)})}}function p(e,n=()=>{},r=()=>{}){if((0,i.isStream)(e))return d(e,{async transform(e,t){try{var r=await n(e);void 0!==r&&t.enqueue(r)}catch(e){t.error(e)}},async flush(t){try{var e=await r();void 0!==e&&t.enqueue(e)}catch(e){t.error(e)}}});var t=n(e),e=r();return void 0!==t&&void 0!==e?u([t,e]):void 0!==t?t:e}function y(e,t){let r;var n=new TransformStream({start(e){r=e}});const a=f(e,n.writable);e=h(async function(){r.error(new Error("Readable side was canceled.")),await a,await new Promise(setTimeout)});return t(n.readable,e.writable),e.readable}function a(r,n){Object.entries(Object.getOwnPropertyDescriptors(ReadableStream.prototype)).forEach(([e,t])=>{"constructor"!==e&&(t.value?t.value=t.value.bind(n):t.get=t.get.bind(n),Object.defineProperty(r,e,t))})}function b(e,n=0,a=1/0){if((0,i.isStream)(e)){if(0<=n&&0<=a){let r=0;return d(e,{transform(e,t){r<a?(r+e.length>=n&&t.enqueue(b(e,Math.max(n-r,0),a-r)),r+=e.length):t.terminate()}})}if(n<0&&(a<0||a===1/0)){let t=[];return p(e,e=>{e.length>=-n?t=[e]:t.push(e)},()=>b(u(t),n,a))}if(0===n&&a<0){let t;return p(e,e=>{e=t?u([t,e]):e;if(e.length>=-a)return t=b(e,a),b(e,n,a);t=e})}return console.warn(`stream.slice(input, ${n}, ${a}) not implemented efficiently.`),w(async()=>b(await m(e),n,a))}return e[s.externalBuffer]&&(e=u(e[s.externalBuffer].concat([e]))),!(0,i.isUint8Array)(e)||t&&t.isBuffer(e)?e.slice(n,a):(a===1/0&&(a=e.length),e.subarray(n,a))}async function m(e,t){return(0,i.isStream)(e)?c(e).readToEnd(t):e}async function g(e,t){if((0,i.isStream)(e)&&e.cancel)return e.cancel(t)}function w(e){return new ReadableStream({pull:async t=>{try{t.enqueue(await e()),t.close()}catch(e){t.error(e)}}})}_.default={isStream:i.isStream,isUint8Array:i.isUint8Array,toStream:o,concatUint8Array:i.concatUint8Array,concatStream:n,concat:u,getReader:c,getWriter:l,pipe:f,transformRaw:d,transform:p,transformPair:y,parse:function(e,n){let a;const i=y(e,(e,t)=>{const r=c(e);r.remainder=()=>(r.releaseLock(),f(e,t),i),a=n(r)});return a},clone:function(e){if((0,i.isStream)(e)){var t=function(e){if((0,i.isStream)(e)){const t=o(e).tee();return t[0][s.externalBuffer]=t[1][s.externalBuffer]=e[s.externalBuffer],t}return[b(e),b(e)]}(e);return a(e,t[0]),t[1]}return b(e)},passiveClone:function(t){return(0,i.isStream)(t)?new ReadableStream({start(o){var e=y(t,async(e,t)=>{const r=c(e),n=l(t);try{for(;;){await n.ready;var a=await r.read(),i=a.done,s=a.value;if(i){try{o.close()}catch(e){}return void await n.close()}try{o.enqueue(s)}catch(e){}await n.write(s)}}catch(e){o.error(e),await n.abort(e)}});a(t,e)}}):b(t)},slice:b,readToEnd:m,cancel:g,fromAsync:w,nodeToWeb:r.nodeToWeb,webToNode:r.webToNode}}.call(this,v("_process"))},{"./node-conversions":73,"./reader":74,"./util":76,_process:66,buffer:"buffer"}],76:[function(r,e,n){!function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e="object"==typeof e.process&&"object"==typeof e.process.versions;const t=e&&r("stream").Readable;function i(e){return Uint8Array.prototype.isPrototypeOf(e)}n.isNode=e,n.isStream=function(e){return ReadableStream.prototype.isPrototypeOf(e)?"web":!(!t||!t.prototype.isPrototypeOf(e))&&"node"},n.isUint8Array=i,n.concatUint8Array=function(t){if(1===t.length)return t[0];let r=0;for(let e=0;e<t.length;e++){if(!i(t[e]))throw new Error("concatUint8Array: Data must be in the form of a Uint8Array");r+=t[e].length}const n=new Uint8Array(r);let a=0;return t.forEach(function(e){n.set(e,a),a+=e.length}),n}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{stream:"stream"}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CleartextMessage=l,r.readArmored=async function(e){var t=await n.default.decode(e);if(t.type!==i.default.armor.signed)throw new Error("No cleartext signed message.");const r=new s.default.List;await r.read(t.data),function(e,r){function t(t){for(let e=0;e<r.length;e++)if(r[e].tag===i.default.packet.signature&&!t.some((t=>e=>t.hashAlgorithm===e)(r[e])))return;return 1}let n=null,a=[];{if(e.forEach(function(e){if(n=e.match(/Hash: (.+)/),!n)throw new Error('Only "Hash" header allowed in cleartext signed message');n=n[1].replace(/\s/g,""),n=n.split(","),n=n.map(function(t){t=t.toLowerCase();try{return i.default.write(i.default.hash,t)}catch(e){throw new Error("Unknown hash algorithm in armor header: "+t)}}),a=a.concat(n)}),!a.length&&!t([i.default.hash.md5]))throw new Error('If no "Hash" header in cleartext signed message, then only MD5 signatures allowed');if(a.length&&!t(a))throw new Error("Hash algorithm mismatch in armor header and signature")}}(t.headers,r);e=new o.Signature(r);return new l(t.text,e)},r.fromText=function(e){return new l(e)};var n=c(e("./encoding/armor")),i=c(e("./enums")),a=c(e("./util")),s=c(e("./packet")),o=e("./signature"),u=e("./message");function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(this instanceof l))return new l(e,t);if(this.text=a.default.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),t&&!(t instanceof o.Signature))throw new Error("Invalid signature input");this.signature=t||new o.Signature(new s.default.List)}l.prototype.getSigningKeyIds=function(){const t=[],e=this.signature.packets;return e.forEach(function(e){t.push(e.issuerKeyId)}),t},l.prototype.sign=async function(e,t=null,r=new Date,n=[]){return new l(this.text,await this.signDetached(e,t,r,n))},l.prototype.signDetached=async function(e,t=null,r=new Date,n=[]){const a=new s.default.Literal;return a.setText(this.text),new o.Signature(await(0,u.createSignaturePackets)(a,e,t,r,n,!0))},l.prototype.verify=function(e,t=new Date){return this.verifyDetached(this.signature,e,t)},l.prototype.verifyDetached=function(e,t,r=new Date){e=e.packets;const n=new s.default.Literal;return n.setText(this.text),(0,u.createVerificationObjects)(e,[n],t,r,!0)},l.prototype.getText=function(){return this.text.replace(/\r\n/g,"\n")},l.prototype.armor=function(){let e=this.signature.packets.map(function(e){return i.default.read(i.default.hash,e.hashAlgorithm).toUpperCase()});e=e.filter(function(e,t,r){return r.indexOf(e)===t});var t={hash:e.join(),text:this.text,data:this.signature.packets.write()};return n.default.encode(i.default.armor.signed,t)}},{"./encoding/armor":111,"./enums":113,"./message":126,"./packet":131,"./signature":151,"./util":158}],78:[function(a,e,i){!function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t,r=a("../enums"),n=(t=r)&&t.__esModule?t:{default:t};i.default={prefer_hash_algorithm:n.default.hash.sha256,encryption_cipher:n.default.symmetric.aes256,compression:n.default.compression.uncompressed,deflate_level:6,aead_protect:!1,aead_mode:n.default.aead.eax,aead_chunk_size_byte:12,v5_keys:!1,s2k_iteration_count_byte:224,integrity_protect:!0,ignore_mdc_error:!1,allow_unauthenticated_stream:!1,checksum_required:!1,rsa_blinding:!0,password_collision_check:!1,revocations_expire:!1,allow_insecure_decryption_with_signing_keys:!1,use_native:!0,min_bytes_for_web_crypto:1e3,zero_copy:!1,debug:!1,tolerant:!0,show_version:!0,show_comment:!0,versionstring:"OpenPGP.js v4.10.10",commentstring:"https://openpgpjs.org",keyserver:"https://keyserver.ubuntu.com",node_store:"./openpgp.store",max_userid_length:5120,known_notations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],use_indutny_elliptic:!0,external_indutny_elliptic:!1,indutny_elliptic_path:"./elliptic.min.js",indutny_elliptic_fetch_options:{},reject_hash_algorithms:new e.Set([n.default.hash.md5,n.default.hash.ripemd]),reject_message_hash_algorithms:new e.Set([n.default.hash.md5,n.default.hash.ripemd,n.default.hash.sha1])}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../enums":113}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./config.js");Object.defineProperty(r,"default",{enumerable:!0,get:function(){return((e=n)&&e.__esModule?e:{default:e}).default;var e}})},{"./config.js":78}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=n(e("./cipher")),a=n(e("../util"));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.length,e=function(t){if(a.default.isString(t)){var r=t.length,e=new ArrayBuffer(r);const n=new Uint8Array(e);for(let e=0;e<r;++e)n[e]=t.charCodeAt(e);return e}return new Uint8Array(t).buffer}(e);const r=new DataView(e),n=new Uint32Array(t/4);for(let e=0;e<t/4;++e)n[e]=r.getUint32(4*e);return n}function f(){let t=0;for(let e=0;e<arguments.length;++e)t+=4*arguments[e].length;var e=new ArrayBuffer(t);const r=new DataView(e);let n=0;for(let t=0;t<arguments.length;++t){for(let e=0;e<arguments[t].length;++e)r.setUint32(n+4*e,arguments[t][e]);n+=4*arguments[t].length}return new Uint8Array(e)}r.default={wrap:function(e,t){const r=new c.default["aes"+8*e.length](e);e=new Uint32Array([2795939494,2795939494]),t=l(t);let n=e;const a=t;var i=t.length/2;const s=new Uint32Array([0,0]);let o=new Uint32Array(4);for(let t=0;t<=5;++t)for(let e=0;e<i;++e)s[1]=i*t+(1+e),o[0]=n[0],o[1]=n[1],o[2]=a[2*e],o[3]=a[2*e+1],o=l(r.encrypt(f(o))),n=o.subarray(0,2),n[0]^=s[0],n[1]^=s[1],a[2*e]=o[2],a[2*e+1]=o[3];return f(n,a)},unwrap:function(e,t){const r=new c.default["aes"+8*e.length](e);e=new Uint32Array([2795939494,2795939494]);const n=l(t);let a=n.subarray(0,2);const i=n.subarray(2);var s=n.length/2-1;const o=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let t=5;0<=t;--t)for(let e=s-1;0<=e;--e)o[1]=s*t+(e+1),u[0]=a[0]^o[0],u[1]=a[1]^o[1],u[2]=i[2*e],u[3]=i[2*e+1],u=l(r.decrypt(f(u))),a=u.subarray(0,2),i[2*e]=u[2],i[2*e+1]=u[3];if(a[0]===e[0]&&a[1]===e[1])return f(i);throw new Error("Key Data Integrity failed")}}},{"../util":158,"./cipher":86}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=e("asmcrypto.js/dist_es5/aes/cfb"),l=n(e("web-stream-tools")),f=n(e("./cipher")),d=n(e("../config")),h=n(e("../util"));function n(e){return e&&e.__esModule?e:{default:e}}const p=h.default.getWebCrypto(),y=h.default.getNodeCrypto(),b=h.default.getNodeBuffer(),a=y?y.getCiphers():[],m={idea:a.includes("idea-cfb")?"idea-cfb":void 0,"3des":a.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,tripledes:a.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:a.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:a.includes("bf-cfb")?"bf-cfb":void 0,aes128:a.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:a.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:a.includes("aes-256-cfb")?"aes-256-cfb":void 0};r.default={encrypt:function(e,t,r,n){if(h.default.getNodeCrypto()&&m[e])return function(e,t,r,n){t=b.from(t),n=b.from(n);const a=new y.createCipheriv(m[e],t,n);return l.default.transform(r,e=>new Uint8Array(a.update(b.from(e))))}(e,t,r,n);if("aes"===e.substr(0,3))return function(e,t,r,n){if(h.default.getWebCrypto()&&24!==t.length&&!h.default.isStream(r)&&r.length>=3e3*d.default.min_bytes_for_web_crypto)return async function(e,t,r,n){t=await p.importKey("raw",t,{name:"AES-CBC"},!1,["encrypt"]),e=f.default[e].blockSize,e=h.default.concatUint8Array([new Uint8Array(e),r]),e=new Uint8Array(await p.encrypt({name:"AES-CBC",iv:n},t,e)).subarray(0,r.length);return function(t,r){for(let e=0;e<t.length;e++)t[e]=t[e]^r[e]}(e,r),e}(e,t,r,n);const a=new c.AES_CFB(t,n);return l.default.transform(r,e=>a.AES_Encrypt_process(e),()=>a.AES_Encrypt_finish())}(e,t,r,n);const i=new f.default[e](t),s=i.blockSize,o=n.slice();let u=new Uint8Array;n=e=>{e&&(u=h.default.concatUint8Array([u,e]));const t=new Uint8Array(u.length);let r,n=0;for(;e?u.length>=s:u.length;){var a=i.encrypt(o);for(r=0;r<s;r++)o[r]=u[r]^a[r],t[n++]=o[r];u=u.subarray(s)}return t.subarray(0,n)};return l.default.transform(r,n,n)},decrypt:async function(e,t,r,n){if(h.default.getNodeCrypto()&&m[e])return function(e,t,r,n){t=b.from(t),n=b.from(n);const a=new y.createDecipheriv(m[e],t,n);return l.default.transform(r,e=>new Uint8Array(a.update(b.from(e))))}(e,t,r,n);if("aes"===e.substr(0,3))return function(e,t,r){if(h.default.isStream(t)){const n=new c.AES_CFB(e,r);return l.default.transform(t,e=>n.AES_Decrypt_process(e),()=>n.AES_Decrypt_finish())}return c.AES_CFB.decrypt(t,e,r)}(t,r,n);const i=new f.default[e](t),s=i.blockSize;let o=n,u=new Uint8Array;n=e=>{e&&(u=h.default.concatUint8Array([u,e]));const t=new Uint8Array(u.length);let r,n=0;for(;e?u.length>=s:u.length;){var a=i.encrypt(o);for(o=u,r=0;r<s;r++)t[n++]=o[r]^a[r];u=u.subarray(s)}return t.subarray(0,n)};return l.default.transform(r,n,n)}}},{"../config":79,"../util":158,"./cipher":86,"asmcrypto.js/dist_es5/aes/cfb":5,"web-stream-tools":75}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("asmcrypto.js/dist_es5/aes/ecb");r.default=function(e){function t(e){const t=new n.AES_ECB(e);this.encrypt=function(e){return t.encrypt(e)},this.decrypt=function(e){return t.decrypt(e)}}return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}},{"asmcrypto.js/dist_es5/aes/ecb":7}],83:[function(e,t,r){"use strict";function n(){}function a(e){this.bf=new n,this.bf.init(e),this.encrypt=function(e){return this.bf.encrypt_block(e)}}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype.BLOCKSIZE=8,n.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],n.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],n.prototype.NN=16,n.prototype._clean=function(e){return e=e<0?2147483648+(2147483647&e):e},n.prototype._F=function(e){var t=255&e,r=255&(e>>>=8),n=255&(e>>>=8),n=this.sboxes[0][255&(e>>>=8)]+this.sboxes[1][n];return n^=this.sboxes[2][r],n+=this.sboxes[3][t]},n.prototype._encrypt_block=function(e){let t=e[0],r=e[1],n;for(n=0;n<this.NN;++n){t^=this.parray[n],r=this._F(t)^r;var a=t;t=r,r=a}t^=this.parray[this.NN+0],r^=this.parray[this.NN+1],e[0]=this._clean(r),e[1]=this._clean(t)},n.prototype.encrypt_block=function(e){let t;const r=[0,0];var n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encrypt_block(r);const a=[];for(t=0;t<this.BLOCKSIZE/2;++t)a[t+0]=r[0]>>>24-8*t&255,a[t+n]=r[1]>>>24-8*t&255;return a},n.prototype._decrypt_block=function(e){let t=e[0],r=e[1],n;for(n=this.NN+1;1<n;--n){t^=this.parray[n],r=this._F(t)^r;var a=t;t=r,r=a}t^=this.parray[1],r^=this.parray[0],e[0]=this._clean(r),e[1]=this._clean(t)},n.prototype.init=function(r){let e,n=0;for(this.parray=[],e=0;e<this.NN+2;++e){let t=0;for(let e=0;e<4;++e)t=t<<8|255&r[n],++n>=r.length&&(n=0);this.parray[e]=this.PARRAY[e]^t}for(this.sboxes=[],e=0;e<4;++e)for(this.sboxes[e]=[],n=0;n<256;++n)this.sboxes[e][n]=this.SBOXES[e][n];var t=[0,0];for(e=0;e<this.NN+2;e+=2)this._encrypt_block(t),this.parray[e+0]=t[0],this.parray[e+1]=t[1];for(e=0;e<4;++e)for(n=0;n<256;n+=2)this._encrypt_block(t),this.sboxes[e][n+0]=t[0],this.sboxes[e][n+1]=t[1]},a.keySize=a.prototype.keySize=16,a.blockSize=a.prototype.blockSize=8,r.default=a},{}],84:[function(e,t,r){"use strict";function n(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=new Array(16),this.rotate=new Array(16),this.reset(),e.length!==this.KeySize)throw new Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(t){const r=new Array(t.length);for(let e=0;e<t.length;e+=8){var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],a=i=t[e+4]<<24|t[e+5]<<16|t[e+6]<<8|t[e+7],i=n^s(i,this.masking[0],this.rotate[0]);i=(n=a)^o(a=i,this.masking[1],this.rotate[1]),i=(n=a)^u(a=i,this.masking[2],this.rotate[2]),i=(n=a)^s(a=i,this.masking[3],this.rotate[3]),i=(n=a)^o(a=i,this.masking[4],this.rotate[4]),i=(n=a)^u(a=i,this.masking[5],this.rotate[5]),i=(n=a)^s(a=i,this.masking[6],this.rotate[6]),i=(n=a)^o(a=i,this.masking[7],this.rotate[7]),i=(n=a)^u(a=i,this.masking[8],this.rotate[8]),i=(n=a)^s(a=i,this.masking[9],this.rotate[9]),i=(n=a)^o(a=i,this.masking[10],this.rotate[10]),i=(n=a)^u(a=i,this.masking[11],this.rotate[11]),i=(n=a)^s(a=i,this.masking[12],this.rotate[12]),i=(n=a)^o(a=i,this.masking[13],this.rotate[13]),i=(n=a)^u(a=i,this.masking[14],this.rotate[14]),i=(n=a)^s(a=i,this.masking[15],this.rotate[15]),n=a,r[e]=i>>>24&255,r[e+1]=i>>>16&255,r[e+2]=i>>>8&255,r[e+3]=255&i,r[e+4]=n>>>24&255,r[e+5]=n>>>16&255,r[e+6]=n>>>8&255,r[e+7]=255&n}return r},this.decrypt=function(t){const r=new Array(t.length);for(let e=0;e<t.length;e+=8){var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],a=i=t[e+4]<<24|t[e+5]<<16|t[e+6]<<8|t[e+7],i=n^s(i,this.masking[15],this.rotate[15]);i=(n=a)^u(a=i,this.masking[14],this.rotate[14]),i=(n=a)^o(a=i,this.masking[13],this.rotate[13]),i=(n=a)^s(a=i,this.masking[12],this.rotate[12]),i=(n=a)^u(a=i,this.masking[11],this.rotate[11]),i=(n=a)^o(a=i,this.masking[10],this.rotate[10]),i=(n=a)^s(a=i,this.masking[9],this.rotate[9]),i=(n=a)^u(a=i,this.masking[8],this.rotate[8]),i=(n=a)^o(a=i,this.masking[7],this.rotate[7]),i=(n=a)^s(a=i,this.masking[6],this.rotate[6]),i=(n=a)^u(a=i,this.masking[5],this.rotate[5]),i=(n=a)^o(a=i,this.masking[4],this.rotate[4]),i=(n=a)^s(a=i,this.masking[3],this.rotate[3]),i=(n=a)^u(a=i,this.masking[2],this.rotate[2]),i=(n=a)^o(a=i,this.masking[1],this.rotate[1]),i=(n=a)^s(a=i,this.masking[0],this.rotate[0]),n=a,r[e]=i>>>24&255,r[e+1]=i>>>16&255,r[e+2]=i>>>8&255,r[e+3]=255&i,r[e+4]=n>>>24&255,r[e+5]=n>>16&255,r[e+6]=n>>8&255,r[e+7]=255&n}return r};const l=new Array(4);l[0]=new Array(4),l[0][0]=[4,0,13,15,12,14,8],l[0][1]=[5,2,16,18,17,19,10],l[0][2]=[6,3,23,22,21,20,9],l[0][3]=[7,1,26,25,27,24,11],l[1]=new Array(4),l[1][0]=[0,6,21,23,20,22,16],l[1][1]=[1,4,0,2,1,3,18],l[1][2]=[2,5,7,6,5,4,17],l[1][3]=[3,7,10,9,11,8,19],l[2]=new Array(4),l[2][0]=[4,0,13,15,12,14,8],l[2][1]=[5,2,16,18,17,19,10],l[2][2]=[6,3,23,22,21,20,9],l[2][3]=[7,1,26,25,27,24,11],l[3]=new Array(4),l[3][0]=[0,6,21,23,20,22,16],l[3][1]=[1,4,0,2,1,3,18],l[3][2]=[2,5,7,6,5,4,17],l[3][3]=[3,7,10,9,11,8,19];const f=new Array(4);function s(e,t,r){e=t+e,r=e<<r|e>>>32-r;return(d[0][r>>>24]^d[1][r>>>16&255])-d[2][r>>>8&255]+d[3][255&r]}function o(e,t,r){e^=t,r=e<<r|e>>>32-r;return d[0][r>>>24]-d[1][r>>>16&255]+d[2][r>>>8&255]^d[3][255&r]}function u(e,t,r){e=t-e,r=e<<r|e>>>32-r;return(d[0][r>>>24]+d[1][r>>>16&255]^d[2][r>>>8&255])-d[3][255&r]}f[0]=new Array(4),f[0][0]=[24,25,23,22,18],f[0][1]=[26,27,21,20,22],f[0][2]=[28,29,19,18,25],f[0][3]=[30,31,17,16,28],f[1]=new Array(4),f[1][0]=[3,2,12,13,8],f[1][1]=[1,0,14,15,13],f[1][2]=[7,6,8,9,3],f[1][3]=[5,4,10,11,7],f[2]=new Array(4),f[2][0]=[19,18,28,29,25],f[2][1]=[17,16,30,31,28],f[2][2]=[23,22,24,25,18],f[2][3]=[21,20,26,27,22],f[3]=new Array(4),f[3][0]=[8,9,7,6,3],f[3][1]=[10,11,5,4,7],f[3][2]=[12,13,3,2,8],f[3][3]=[14,15,1,0,13],this.keySchedule=function(t){const r=new Array(8),n=new Array(32);let a;for(let e=0;e<4;e++)a=4*e,r[e]=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3];var i=[6,7,4,5];let s=0,o;for(let e=0;e<2;e++)for(let e=0;e<4;e++){for(a=0;a<4;a++){var u=l[e][a];o=r[u[1]],o^=d[4][r[u[2]>>>2]>>>24-8*(3&u[2])&255],o^=d[5][r[u[3]>>>2]>>>24-8*(3&u[3])&255],o^=d[6][r[u[4]>>>2]>>>24-8*(3&u[4])&255],o^=d[7][r[u[5]>>>2]>>>24-8*(3&u[5])&255],o^=d[i[a]][r[u[6]>>>2]>>>24-8*(3&u[6])&255],r[u[0]]=o}for(a=0;a<4;a++){var c=f[e][a];o=d[4][r[c[0]>>>2]>>>24-8*(3&c[0])&255],o^=d[5][r[c[1]>>>2]>>>24-8*(3&c[1])&255],o^=d[6][r[c[2]>>>2]>>>24-8*(3&c[2])&255],o^=d[7][r[c[3]>>>2]>>>24-8*(3&c[3])&255],o^=d[4+a][r[c[4]>>>2]>>>24-8*(3&c[4])&255],n[s]=o,s++}}for(let e=0;e<16;e++)this.masking[e]=n[e],this.rotate[e]=31&n[16+e]};const d=new Array(8);d[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],d[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],d[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],d[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],d[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],d[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],d[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],d[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function a(e){this.cast5=new n,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}Object.defineProperty(r,"__esModule",{value:!0}),a.blockSize=a.prototype.blockSize=8,a.keySize=a.prototype.keySize=16,r.default=a},{}],85:[function(e,t,r){"use strict";function n(e,t,r,n,a,i){var s,o,u,c,l=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],f=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],d=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],h=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],p=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],y=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],b=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],m=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let g=0,w,v,_,k,A,S,E,P,x,M,K=t.length;var C=32===e.length?3:9;S=3==C?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(t=function(t,e){var r=8-t.length%8;let n;if(2===e&&r<8)n=" ".charCodeAt(0);else if(1===e)n=r;else{if(e||!(r<8)){if(8==r)return t;throw new Error("des: invalid padding")}n=0}const a=new Uint8Array(t.length+r);for(let e=0;e<t.length;e++)a[e]=t[e];for(let e=0;e<r;e++)a[t.length+e]=n;return a}(t,i),K=t.length);let U=new Uint8Array(K),T=0;for(1===n&&(E=a[g++]<<24|a[g++]<<16|a[g++]<<8|a[g++],x=a[g++]<<24|a[g++]<<16|a[g++]<<8|a[g++],g=0);g<K;){for(k=t[g++]<<24|t[g++]<<16|t[g++]<<8|t[g++],A=t[g++]<<24|t[g++]<<16|t[g++]<<8|t[g++],1===n&&(r?(k^=E,A^=x):(P=E,M=x,E=k,x=A)),_=252645135&(k>>>4^A),A^=_,k^=_<<4,_=65535&(k>>>16^A),A^=_,k^=_<<16,_=858993459&(A>>>2^k),k^=_,A^=_<<2,_=16711935&(A>>>8^k),k^=_,A^=_<<8,_=1431655765&(k>>>1^A),A^=_,k^=_<<1,k=k<<1|k>>>31,A=A<<1|A>>>31,v=0;v<C;v+=3){for(u=S[v+1],c=S[v+2],w=S[v];w!==u;w+=c)s=A^e[w],o=(A>>>4|A<<28)^e[w+1],_=k,k=A,A=_^(f[s>>>24&63]|h[s>>>16&63]|y[s>>>8&63]|m[63&s]|l[o>>>24&63]|d[o>>>16&63]|p[o>>>8&63]|b[63&o]);_=k,k=A,A=_}k=k>>>1|k<<31,A=A>>>1|A<<31,_=1431655765&(k>>>1^A),A^=_,k^=_<<1,_=16711935&(A>>>8^k),k^=_,A^=_<<8,_=858993459&(A>>>2^k),k^=_,A^=_<<2,_=65535&(k>>>16^A),A^=_,k^=_<<16,_=252645135&(k>>>4^A),A^=_,k^=_<<4,1===n&&(r?(E=k,x=A):(k^=P,A^=M)),U[T++]=k>>>24,U[T++]=k>>>16&255,U[T++]=k>>>8&255,U[T++]=255&k,U[T++]=A>>>24,U[T++]=A>>>16&255,U[T++]=A>>>8&255,U[T++]=255&A}return r||(U=function(e,t){let r=null,n;if(2===t)n=" ".charCodeAt(0);else if(1===t)r=e[e.length-1];else{if(t)throw new Error("des: invalid padding");n=0}if(!r){for(r=1;e[e.length-r]===n;)r++;r--}return e.subarray(0,e.length-r)}(U,i)),U}function a(n){var a=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],i=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],s=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],u=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],c=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],d=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],y=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],b=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],t=8<n.length?3:1;const g=new Array(32*t);var w,v,_,k=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let A=0,S=0;for(let e=0;e<t;e++){let t=n[A++]<<24|n[A++]<<16|n[A++]<<8|n[A++],r=n[A++]<<24|n[A++]<<16|n[A++]<<8|n[A++];_=252645135&(t>>>4^r),r^=_,t^=_<<4,_=65535&(r>>>-16^t),t^=_,r^=_<<-16,_=858993459&(t>>>2^r),r^=_,t^=_<<2,_=65535&(r>>>-16^t),t^=_,r^=_<<-16,_=1431655765&(t>>>1^r),r^=_,t^=_<<1,_=16711935&(r>>>8^t),t^=_,r^=_<<8,_=1431655765&(t>>>1^r),r^=_,t^=_<<1,_=t<<8|r>>>20&240,t=r<<24|r<<8&16711680|r>>>8&65280|r>>>24&240,r=_;for(let e=0;e<k.length;e++)r=k[e]?(t=t<<2|t>>>26,r<<2|r>>>26):(t=t<<1|t>>>27,r<<1|r>>>27),t&=-15,r&=-15,w=a[t>>>28]|i[t>>>24&15]|s[t>>>20&15]|o[t>>>16&15]|u[t>>>12&15]|c[t>>>8&15]|l[t>>>4&15],_=65535&((v=f[r>>>28]|d[r>>>24&15]|h[r>>>20&15]|p[r>>>16&15]|y[r>>>12&15]|b[r>>>8&15]|m[r>>>4&15])>>>16^w),g[S++]=w^_,g[S++]=v^_<<16}return g}function i(t){this.key=[];for(let e=0;e<3;e++)this.key.push(new Uint8Array(t.subarray(8*e,8*e+8)));this.encrypt=function(e){return n(a(this.key[2]),n(a(this.key[1]),n(a(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}Object.defineProperty(r,"__esModule",{value:!0}),i.keySize=i.prototype.keySize=24,i.blockSize=i.prototype.blockSize=8,r.default={DES:function(e){this.key=e,this.encrypt=function(e,t){return n(a(this.key),e,!0,0,null,t)},this.decrypt=function(e,t){return n(a(this.key),e,!1,0,null,t)}},TripleDES:i}},{}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("./aes")),a=o(e("./des.js")),i=o(e("./cast5")),s=o(e("./twofish")),e=o(e("./blowfish"));function o(e){return e&&e.__esModule?e:{default:e}}r.default={aes128:(0,n.default)(128),aes192:(0,n.default)(192),aes256:(0,n.default)(256),des:a.default.DES,tripledes:a.default.TripleDES,"3des":a.default.TripleDES,cast5:i.default,twofish:s.default,blowfish:e.default,idea:function(){throw new Error("IDEA symmetric-key algorithm not implemented")}}},{"./aes":82,"./blowfish":83,"./cast5":84,"./des.js":85,"./twofish":87}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const K=4294967295;function C(e,t){return(e<<t|e>>>32-t)&K}function U(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function f(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function T(e,t){return e>>>8*t&255}function n(){let P=null,o=null,u=-1,x=[],M=[[],[],[],[]];function c(e){return M[0][T(e,0)]^M[1][T(e,1)]^M[2][T(e,2)]^M[3][T(e,3)]}function l(e){return M[0][T(e,3)]^M[1][T(e,0)]^M[2][T(e,1)]^M[3][T(e,2)]}return{name:"twofish",blocksize:16,open:function(e){P=e;let t,r,n,a,i;const s=[],o=[],u=[];let c;const l=[];var f,d,h;const p=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],y=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],b=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],m=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],g=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],w=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],v=[[],[]],_=[[],[],[],[]];function k(e){return e^e>>2^[0,90,180,238][3&e]}function A(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function S(e,t){var r=t>>4,n=15&t,t=p[e][r^n],r=y[e][g[n]^w[r]];return m[e][g[r]^w[t]]<<4|b[e][t^r]}function E(e,t){let r=T(e,0),n=T(e,1),a=T(e,2),i=T(e,3);switch(c){case 4:r=v[1][r]^T(t[3],0),n=v[0][n]^T(t[3],1),a=v[0][a]^T(t[3],2),i=v[1][i]^T(t[3],3);case 3:r=v[1][r]^T(t[2],0),n=v[1][n]^T(t[2],1),a=v[0][a]^T(t[2],2),i=v[0][i]^T(t[2],3);case 2:r=v[0][v[0][r]^T(t[1],0)]^T(t[0],0),n=v[0][v[1][n]^T(t[1],1)]^T(t[0],1),a=v[1][v[0][a]^T(t[1],2)]^T(t[0],2),i=v[1][v[1][i]^T(t[1],3)]^T(t[0],3)}return _[0][r]^_[1][n]^_[2][a]^_[3][i]}for(P=P.slice(0,32),t=P.length;16!==t&&24!==t&&32!==t;)P[t++]=0;for(t=0;t<P.length;t+=4)u[t>>2]=U(P,t);for(t=0;t<256;t++)v[0][t]=S(0,t),v[1][t]=S(1,t);for(t=0;t<256;t++)d=k(f=v[1][t]),h=A(f),_[0][t]=f+(d<<8)+(h<<16)+(h<<24),_[2][t]=d+(h<<8)+(f<<16)+(h<<24),d=k(f=v[0][t]),h=A(f),_[1][t]=h+(h<<8)+(d<<16)+(f<<24),_[3][t]=d+(f<<8)+(h<<16)+(d<<24);for(c=u.length/2,t=0;t<c;t++)r=u[t+t],s[t]=r,n=u[t+t+1],o[t]=n,l[c-t-1]=function(e,t){let r;var n;let a;for(r=0;r<8;r++)n=t>>>24,t=t<<8&K|e>>>24,e=e<<8&K,a=n<<1,128&n&&(a^=333),t^=n^a<<16,a^=n>>>1,1&n&&(a^=166),t^=a<<24|a<<8;return t}(r,n);for(t=0;t<40;t+=2)r=16843009*t,n=r+16843009,r=E(r,s),n=C(E(n,o),8),x[t]=r+n&K,x[t+1]=C(r+2*n,9);for(t=0;t<256;t++)switch(r=n=a=i=t,c){case 4:r=v[1][r]^T(l[3],0),n=v[0][n]^T(l[3],1),a=v[0][a]^T(l[3],2),i=v[1][i]^T(l[3],3);case 3:r=v[1][r]^T(l[2],0),n=v[1][n]^T(l[2],1),a=v[0][a]^T(l[2],2),i=v[0][i]^T(l[2],3);case 2:M[0][t]=_[0][v[0][v[0][r]^T(l[1],0)]^T(l[0],0)],M[1][t]=_[1][v[0][v[1][n]^T(l[1],1)]^T(l[0],1)],M[2][t]=_[2][v[1][v[0][a]^T(l[1],2)]^T(l[0],2)],M[3][t]=_[3][v[1][v[1][i]^T(l[1],3)]^T(l[0],3)]}},close:function(){x=[],M=[[],[],[],[]]},encrypt:function(e,t){o=e,u=t;var r,n,a,i,s=[U(o,u)^x[0],U(o,u+4)^x[1],U(o,u+8)^x[2],U(o,u+12)^x[3]];for(let e=0;e<8;e++)r=e,i=a=void 0,a=c((n=s)[0]),i=l(n[1]),n[2]=C(n[2]^a+i+x[4*r+8]&K,31),n[3]=C(n[3],1)^a+2*i+x[4*r+9]&K,a=c(n[2]),i=l(n[3]),n[0]=C(n[0]^a+i+x[4*r+10]&K,31),n[1]=C(n[1],1)^a+2*i+x[4*r+11]&K;return f(o,u,s[2]^x[4]),f(o,u+4,s[3]^x[5]),f(o,u+8,s[0]^x[6]),f(o,u+12,s[1]^x[7]),u+=16,o},decrypt:function(e,t){o=e,u=t;var r,n,a,i,s=[U(o,u)^x[4],U(o,u+4)^x[5],U(o,u+8)^x[6],U(o,u+12)^x[7]];for(let e=7;0<=e;e--)r=e,i=a=void 0,a=c((n=s)[0]),i=l(n[1]),n[2]=C(n[2],1)^a+i+x[4*r+10]&K,n[3]=C(n[3]^a+2*i+x[4*r+11]&K,31),a=c(n[2]),i=l(n[3]),n[0]=C(n[0],1)^a+i+x[4*r+8]&K,n[1]=C(n[1]^a+2*i+x[4*r+9]&K,31);f(o,u,s[2]^x[0]),f(o,u+4,s[3]^x[1]),f(o,u+8,s[0]^x[2]),f(o,u+12,s[1]^x[3]),u+=16},finalize:function(){return o}}}function a(e){this.tf=n(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}a.keySize=a.prototype.keySize=32,a.blockSize=a.prototype.blockSize=16,r.default=a},{}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=e("asmcrypto.js/dist_es5/aes/cbc"),i=e("../util"),s=(n=i)&&n.__esModule?n:{default:n};const o=s.default.getWebCrypto(),u=s.default.getNodeCrypto(),c=s.default.getNodeBuffer(),l=16;function f(t,r){var n=t.length-l;for(let e=0;e<l;e++)t[e+n]^=r[e];return t}const d=new Uint8Array(l);r.default=async function(e){const t=await async function(r){if(s.default.getWebCrypto()&&24!==r.length)return r=await o.importKey("raw",r,{name:"AES-CBC",length:8*r.length},!1,["encrypt"]),async function(e){e=await o.encrypt({name:"AES-CBC",iv:d,length:8*l},r,e);return new Uint8Array(e).subarray(0,e.byteLength-l)};if(s.default.getNodeCrypto())return r=c.from(r),async function(e){e=c.from(e);const t=new u.createCipheriv("aes-"+8*r.length+"-cbc",r,d);e=t.update(e);return new Uint8Array(e)};return async function(e){return a.AES_CBC.encrypt(e,r,!1,d)}}(e),r=s.default.double(await t(d)),n=s.default.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%l==0)return f(e,t);const n=new Uint8Array(e.length+(l-e.length%l));return n.set(e),n[e.length]=128,f(n,r)}(e,r,n))).subarray(-l)}}},{"../util":158,"asmcrypto.js/dist_es5/aes/cbc":4}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var m=u(e("./public_key")),n=u(e("./cipher")),a=u(e("./random")),i=u(e("../type/ecdh_symkey")),s=u(e("../type/kdf_params")),g=u(e("../type/mpi")),o=u(e("../type/oid")),w=u(e("../enums")),v=u(e("../util")),_=u(e("./pkcs1")),k=u(e("./pkcs5"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,r){return e.map(function(e,t){return r&&r[t]?new e(r[t]):new e})}r.default={publicKeyEncrypt:async function(e,t,r,n){var a=this.getEncSessionKeyParamTypes(e);switch(e){case w.default.publicKey.rsa_encrypt:case w.default.publicKey.rsa_encrypt_sign:r=v.default.str_to_Uint8Array(r);var i=t[0].toUint8Array(),s=t[1].toUint8Array();return l(a,[await m.default.rsa.encrypt(r,i,s)]);case w.default.publicKey.elgamal:var s=(r=new g.default(await _.default.eme.encode(r,t[0].byteLength()))).toBN(),o=t[0].toBN(),u=t[1].toBN(),c=t[2].toBN(),o=await m.default.elgamal.encrypt(s,o,u,c);return l(a,[o.c1,o.c2]);case w.default.publicKey.ecdh:r=new g.default(k.default.encode(r));u=t[0],c=t[1].toUint8Array(),o=t[2],c=await m.default.elliptic.ecdh.encrypt(u,o,r,c,n);return l(a,[c.publicKey,c.wrappedKey]);default:return[]}},publicKeyDecrypt:async function(e,t,r,n){switch(e){case w.default.publicKey.rsa_encrypt_sign:case w.default.publicKey.rsa_encrypt:var a=r[0].toUint8Array(),i=t[0].toUint8Array(),s=t[1].toUint8Array(),o=t[2].toUint8Array(),u=t[3].toUint8Array(),c=t[4].toUint8Array(),l=t[5].toUint8Array();return m.default.rsa.decrypt(a,i,s,o,u,c,l);case w.default.publicKey.elgamal:{var f=r[0].toBN(),d=r[1].toBN();const p=t[0].toBN();var h=t[3].toBN();const y=new g.default(await m.default.elgamal.decrypt(f,d,p,h));return _.default.eme.decode(v.default.Uint8Array_to_str(y.toUint8Array("be",p.byteLength())))}case w.default.publicKey.ecdh:{u=t[0],c=t[2],l=r[0].toUint8Array(),f=r[1].data,d=t[1].toUint8Array(),h=t[3].toUint8Array();const b=new g.default(await m.default.elliptic.ecdh.decrypt(u,c,l,f,d,h,n));return k.default.decode(b.toString())}default:throw new Error("Invalid public key encryption algorithm.")}},getPrivKeyParamTypes:function(e){switch(e){case w.default.publicKey.rsa_encrypt:case w.default.publicKey.rsa_encrypt_sign:case w.default.publicKey.rsa_sign:return[g.default,g.default,g.default,g.default];case w.default.publicKey.elgamal:case w.default.publicKey.dsa:return[g.default];case w.default.publicKey.ecdh:case w.default.publicKey.ecdsa:case w.default.publicKey.eddsa:return[g.default];default:throw new Error("Invalid public key encryption algorithm.")}},getPubKeyParamTypes:function(e){switch(e){case w.default.publicKey.rsa_encrypt:case w.default.publicKey.rsa_encrypt_sign:case w.default.publicKey.rsa_sign:return[g.default,g.default];case w.default.publicKey.elgamal:return[g.default,g.default,g.default];case w.default.publicKey.dsa:return[g.default,g.default,g.default,g.default];case w.default.publicKey.ecdsa:case w.default.publicKey.eddsa:return[o.default,g.default];case w.default.publicKey.ecdh:return[o.default,g.default,s.default];default:throw new Error("Invalid public key encryption algorithm.")}},getEncSessionKeyParamTypes:function(e){switch(e){case w.default.publicKey.rsa_encrypt:case w.default.publicKey.rsa_encrypt_sign:return[g.default];case w.default.publicKey.elgamal:return[g.default,g.default];case w.default.publicKey.ecdh:return[g.default,i.default];default:throw new Error("Invalid public key encryption algorithm.")}},generateParams:function(e,t,r){const n=[].concat(this.getPubKeyParamTypes(e),this.getPrivKeyParamTypes(e));switch(e){case w.default.publicKey.rsa_encrypt:case w.default.publicKey.rsa_encrypt_sign:case w.default.publicKey.rsa_sign:return m.default.rsa.generate(t,"10001").then(function(e){return l(n,[e.n,e.e,e.d,e.p,e.q,e.u])});case w.default.publicKey.dsa:case w.default.publicKey.elgamal:throw new Error("Unsupported algorithm for key generation.");case w.default.publicKey.ecdsa:case w.default.publicKey.eddsa:return m.default.elliptic.generate(r).then(function(e){return l(n,[e.oid,e.Q,e.d])});case w.default.publicKey.ecdh:return m.default.elliptic.generate(r).then(function(e){return l(n,[e.oid,e.Q,{hash:e.hash,cipher:e.cipher},e.d])});default:throw new Error("Invalid public key algorithm.")}},validateParams:async function(e,t){switch(e){case w.default.publicKey.rsa_encrypt:case w.default.publicKey.rsa_encrypt_sign:case w.default.publicKey.rsa_sign:if(t.length<6)throw new Error("Missing key parameters");var r=t[0].toUint8Array(),n=t[1].toUint8Array(),a=t[2].toUint8Array(),i=t[3].toUint8Array(),s=t[4].toUint8Array(),o=t[5].toUint8Array();return m.default.rsa.validateParams(r,n,a,i,s,o);case w.default.publicKey.dsa:if(t.length<5)throw new Error("Missing key parameters");var o=t[0].toUint8Array(),u=t[1].toUint8Array(),c=t[2].toUint8Array(),l=t[3].toUint8Array(),f=t[4].toUint8Array();return m.default.dsa.validateParams(o,u,c,l,f);case w.default.publicKey.elgamal:if(t.length<4)throw new Error("Missing key parameters");u=t[0].toUint8Array(),c=t[1].toUint8Array(),l=t[2].toUint8Array(),f=t[3].toUint8Array();return m.default.elgamal.validateParams(u,c,l,f);case w.default.publicKey.ecdsa:case w.default.publicKey.ecdh:{var d=e===w.default.publicKey.ecdh?3:2;if(t.length<d)throw new Error("Missing key parameters");const y=m.default.elliptic[w.default.read(w.default.publicKey,e)];var h=y.parseParams(t),p=h.oid,d=h.Q,h=h.d;return y.validateParams(p,d,h)}case w.default.publicKey.eddsa:if(t.length<3)throw new Error("Missing key parameters");p=m.default.elliptic.eddsa.parseParams(t),d=p.oid,h=p.Q,p=p.seed;return m.default.elliptic.eddsa.validateParams(d,h,p);default:throw new Error("Invalid public key algorithm.")}},getPrefixRandom:async function(e){var t=await a.default.getRandomBytes(n.default[e].blockSize),e=new Uint8Array([t[t.length-2],t[t.length-1]]);return v.default.concat([t,e])},generateSessionKey:function(e){return a.default.getRandomBytes(n.default[e].keySize)},constructParams:l}},{"../enums":113,"../type/ecdh_symkey":152,"../type/kdf_params":153,"../type/mpi":155,"../type/oid":156,"../util":158,"./cipher":86,"./pkcs1":96,"./pkcs5":97,"./public_key":106,"./random":109}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=e("asmcrypto.js/dist_es5/aes/ctr"),n=i(e("./cmac")),l=i(e("../util"));function i(e){return e&&e.__esModule?e:{default:e}}const s=l.default.getWebCrypto(),f=l.default.getNodeCrypto(),d=l.default.getNodeBuffer(),h=16;e=h;const p=h,y=new Uint8Array(h),b=new Uint8Array(h);b[h-1]=1;const m=new Uint8Array(h);async function o(e,t){if("aes"!==e.substr(0,3))throw new Error("EAX mode supports only AES cipher");t=await Promise.all([async function(e){const r=await(0,n.default)(e);return function(e,t){return r(l.default.concatUint8Array([e,t]))}}(t),async function(n){return l.default.getWebCrypto()&&24!==n.length&&-1===navigator.userAgent.indexOf("Edge")?(n=await s.importKey("raw",n,{name:"AES-CTR",length:8*n.length},!1,["encrypt"]),async function(e,t){e=await s.encrypt({name:"AES-CTR",counter:t,length:8*h},n,e);return new Uint8Array(e)}):l.default.getNodeCrypto()?(n=d.from(n),async function(e,t){e=d.from(e),t=d.from(t);const r=new f.createCipheriv("aes-"+8*n.length+"-ctr",n,t);e=d.concat([r.update(e),r.final()]);return new Uint8Array(e)}):async function(e,t){return a.AES_CTR.encrypt(e,n,t)}}(t)]),t=c(t,2);const o=t[0],u=t[1];return{encrypt:async function(e,t,r){var r=await Promise.all([o(y,t),o(b,r)]),r=c(r,2),n=r[0],a=r[1],e=await u(e,n);const i=await o(m,e);for(let e=0;e<p;e++)i[e]^=a[e]^n[e];return l.default.concatUint8Array([e,i])},decrypt:async function(e,t,r){if(e.length<p)throw new Error("Invalid EAX ciphertext");var n=e.subarray(0,-p),e=e.subarray(-p),r=await Promise.all([o(y,t),o(b,r),o(m,n)]),r=c(r,3),a=r[0],i=r[1];const s=r[2];for(let e=0;e<p;e++)s[e]^=i[e]^a[e];if(!l.default.equalsUint8Array(e,s))throw new Error("Authentication tag mismatch");return await u(n,a)}}}m[h-1]=2,o.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},o.blockLength=h,o.ivLength=e,o.tagLength=p,r.default=o},{"../util":158,"./cmac":88,"asmcrypto.js/dist_es5/aes/ctr":6}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("asmcrypto.js/dist_es5/aes/gcm"),a=e("../util"),s=(n=a)&&n.__esModule?n:{default:n};const o=s.default.getWebCrypto(),u=s.default.getNodeCrypto(),c=s.default.getNodeBuffer();const l="AES-GCM";async function f(e,a){if("aes"!==e.substr(0,3))throw new Error("GCM mode supports only AES cipher");if(s.default.getWebCrypto()&&24!==a.length){const n=await o.importKey("raw",a,{name:l},!1,["encrypt","decrypt"]);return{encrypt:async function(e,t,r=new Uint8Array){if(!e.length||!r.length&&-1!==navigator.userAgent.indexOf("Edge"))return i.AES_GCM.encrypt(e,a,t,r);e=await o.encrypt({name:l,iv:t,additionalData:r,tagLength:128},n,e);return new Uint8Array(e)},decrypt:async function(e,t,r=new Uint8Array){if(16===e.length||!r.length&&-1!==navigator.userAgent.indexOf("Edge"))return i.AES_GCM.decrypt(e,a,t,r);e=await o.decrypt({name:l,iv:t,additionalData:r,tagLength:128},n,e);return new Uint8Array(e)}}}return s.default.getNodeCrypto()?(a=c.from(a),{encrypt:async function(e,t,r=new Uint8Array){e=c.from(e),t=c.from(t),r=c.from(r);const n=new u.createCipheriv("aes-"+8*a.length+"-gcm",a,t);n.setAAD(r);e=c.concat([n.update(e),n.final(),n.getAuthTag()]);return new Uint8Array(e)},decrypt:async function(e,t,r=new Uint8Array){e=c.from(e),t=c.from(t),r=c.from(r);const n=new u.createDecipheriv("aes-"+8*a.length+"-gcm",a,t);n.setAAD(r),n.setAuthTag(e.slice(e.length-16,e.length));e=c.concat([n.update(e.slice(0,e.length-16)),n.final()]);return new Uint8Array(e)}}):{encrypt:async function(e,t,r){return i.AES_GCM.encrypt(e,a,t,r)},decrypt:async function(e,t,r){return i.AES_GCM.decrypt(e,a,t,r)}}}f.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},f.blockLength=16,f.ivLength=12,f.tagLength=16,r.default=f},{"../util":158,"asmcrypto.js/dist_es5/aes/gcm":8}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("asmcrypto.js/dist_es5/hash/sha1/sha1"),a=e("asmcrypto.js/dist_es5/hash/sha256/sha256"),i=h(e("hash.js/lib/hash/sha/224")),s=h(e("hash.js/lib/hash/sha/384")),o=h(e("hash.js/lib/hash/sha/512")),u=e("hash.js/lib/hash/ripemd"),c=h(e("web-stream-tools")),l=h(e("./md5")),f=h(e("../../config")),d=h(e("../../util"));function h(e){return e&&e.__esModule?e:{default:e}}const p=d.default.getWebCrypto(),y=d.default.getNodeCrypto(),b=d.default.getNodeBuffer();function m(r){return async function(e){const t=y.createHash(r);return c.default.transform(e,e=>{t.update(b.from(e))},()=>new Uint8Array(t.digest()))}}function g(r,n){return async function(e){if(!d.default.isStream(e)&&p&&n&&e.length>=f.default.min_bytes_for_web_crypto)return new Uint8Array(await p.digest(n,e));const t=r();return c.default.transform(e,e=>{t.update(e)},()=>new Uint8Array(t.digest()))}}function w(r,n){return async function(e){if(d.default.isStream(e)){const t=new r;return c.default.transform(e,e=>{t.process(e)},()=>t.finish().result)}return p&&n&&e.length>=f.default.min_bytes_for_web_crypto?new Uint8Array(await p.digest(n,e)):r.bytes(e)}}let v;v=y?{md5:m("md5"),sha1:m("sha1"),sha224:m("sha224"),sha256:m("sha256"),sha384:m("sha384"),sha512:m("sha512"),ripemd:m("ripemd160")}:{md5:l.default,sha1:w(n.Sha1,-1===navigator.userAgent.indexOf("Edge")&&"SHA-1"),sha224:g(i.default),sha256:w(a.Sha256,"SHA-256"),sha384:g(s.default,"SHA-384"),sha512:g(o.default,"SHA-512"),ripemd:g(u.ripemd160)},r.default={md5:v.md5,sha1:v.sha1,sha224:v.sha224,sha256:v.sha256,sha384:v.sha384,sha512:v.sha512,ripemd:v.ripemd,digest:function(e,t){switch(e){case 1:return this.md5(t);case 2:return this.sha1(t);case 3:return this.ripemd(t);case 8:return this.sha256(t);case 9:return this.sha384(t);case 10:return this.sha512(t);case 11:return this.sha224(t);default:throw new Error("Invalid hash function.")}},getHashByteLength:function(e){switch(e){case 1:return 16;case 2:case 3:return 20;case 8:return 32;case 9:return 48;case 10:return 64;case 11:return 28;default:throw new Error("Invalid hash algorithm.")}}}},{"../../config":79,"../../util":158,"./md5":93,"asmcrypto.js/dist_es5/hash/sha1/sha1":11,"asmcrypto.js/dist_es5/hash/sha256/sha256":13,"hash.js/lib/hash/ripemd":37,"hash.js/lib/hash/sha/224":40,"hash.js/lib/hash/sha/384":42,"hash.js/lib/hash/sha/512":43,"web-stream-tools":75}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=e("../../util"),i=(n=a)&&n.__esModule?n:{default:n};function s(e,t){var r=u(r=e[0],i=e[1],a=e[2],n=e[3],t[0],7,-680876936),n=u(n,r,i,a,t[1],12,-389564586),a=u(a,n,r,i,t[2],17,606105819),i=u(i,a,n,r,t[3],22,-1044525330);r=u(r,i,a,n,t[4],7,-176418897),n=u(n,r,i,a,t[5],12,1200080426),a=u(a,n,r,i,t[6],17,-1473231341),i=u(i,a,n,r,t[7],22,-45705983),r=u(r,i,a,n,t[8],7,1770035416),n=u(n,r,i,a,t[9],12,-1958414417),a=u(a,n,r,i,t[10],17,-42063),i=u(i,a,n,r,t[11],22,-1990404162),r=u(r,i,a,n,t[12],7,1804603682),n=u(n,r,i,a,t[13],12,-40341101),a=u(a,n,r,i,t[14],17,-1502002290),r=c(r,i=u(i,a,n,r,t[15],22,1236535329),a,n,t[1],5,-165796510),n=c(n,r,i,a,t[6],9,-1069501632),a=c(a,n,r,i,t[11],14,643717713),i=c(i,a,n,r,t[0],20,-373897302),r=c(r,i,a,n,t[5],5,-701558691),n=c(n,r,i,a,t[10],9,38016083),a=c(a,n,r,i,t[15],14,-660478335),i=c(i,a,n,r,t[4],20,-405537848),r=c(r,i,a,n,t[9],5,568446438),n=c(n,r,i,a,t[14],9,-1019803690),a=c(a,n,r,i,t[3],14,-187363961),i=c(i,a,n,r,t[8],20,1163531501),r=c(r,i,a,n,t[13],5,-1444681467),n=c(n,r,i,a,t[2],9,-51403784),a=c(a,n,r,i,t[7],14,1735328473),r=l(r,i=c(i,a,n,r,t[12],20,-1926607734),a,n,t[5],4,-378558),n=l(n,r,i,a,t[8],11,-2022574463),a=l(a,n,r,i,t[11],16,1839030562),i=l(i,a,n,r,t[14],23,-35309556),r=l(r,i,a,n,t[1],4,-1530992060),n=l(n,r,i,a,t[4],11,1272893353),a=l(a,n,r,i,t[7],16,-155497632),i=l(i,a,n,r,t[10],23,-1094730640),r=l(r,i,a,n,t[13],4,681279174),n=l(n,r,i,a,t[0],11,-358537222),a=l(a,n,r,i,t[3],16,-722521979),i=l(i,a,n,r,t[6],23,76029189),r=l(r,i,a,n,t[9],4,-640364487),n=l(n,r,i,a,t[12],11,-421815835),a=l(a,n,r,i,t[15],16,530742520),r=f(r,i=l(i,a,n,r,t[2],23,-995338651),a,n,t[0],6,-198630844),n=f(n,r,i,a,t[7],10,1126891415),a=f(a,n,r,i,t[14],15,-1416354905),i=f(i,a,n,r,t[5],21,-57434055),r=f(r,i,a,n,t[12],6,1700485571),n=f(n,r,i,a,t[3],10,-1894986606),a=f(a,n,r,i,t[10],15,-1051523),i=f(i,a,n,r,t[1],21,-2054922799),r=f(r,i,a,n,t[8],6,1873313359),n=f(n,r,i,a,t[15],10,-30611744),a=f(a,n,r,i,t[6],15,-1560198380),i=f(i,a,n,r,t[13],21,1309151649),r=f(r,i,a,n,t[4],6,-145523070),n=f(n,r,i,a,t[11],10,-1120210379),a=f(a,n,r,i,t[2],15,718787259),i=f(i,a,n,r,t[9],21,-343485551),e[0]=h(r,e[0]),e[1]=h(i,e[1]),e[2]=h(a,e[2]),e[3]=h(n,e[3])}function o(e,t,r,n,a,i){return t=h(h(t,e),h(n,i)),h(t<<a|t>>>32-a,r)}function u(e,t,r,n,a,i,s){return o(t&r|~t&n,e,t,a,i,s)}function c(e,t,r,n,a,i,s){return o(t&n|r&~n,e,t,a,i,s)}function l(e,t,r,n,a,i,s){return o(t^r^n,e,t,a,i,s)}function f(e,t,r,n,a,i,s){return o(r^(t|~n),e,t,a,i,s)}const d="0123456789abcdef".split("");function h(e,t){return e+t&4294967295}r.default=async function(e){return e=function(e){var t=e.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)s(r,function(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}(e.substring(n-64,n)));e=e.substring(n-64);const a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)a[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),55<n)for(s(r,a),n=0;n<16;n++)a[n]=0;return a[14]=8*t,s(r,a),r}(i.default.Uint8Array_to_str(e)),i.default.hex_to_Uint8Array(function(t){for(let e=0;e<t.length;e++)t[e]=function(e){let t="",r=0;for(;r<4;r++)t+=d[e>>8*r+4&15]+d[e>>8*r&15];return t}(t[e]);return t.join("")}(e))}},{"../../util":158}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=y(e("./cipher")),a=y(e("./hash")),i=y(e("./cfb")),s=y(e("./gcm")),o=y(e("./eax")),u=y(e("./ocb")),c=y(e("./public_key")),l=y(e("./signature")),f=y(e("./random")),d=y(e("./pkcs1")),h=y(e("./pkcs5")),p=y(e("./crypto")),e=y(e("./aes_kw"));function y(e){return e&&e.__esModule?e:{default:e}}e={cipher:n.default,hash:a.default,cfb:i.default,gcm:s.default,experimental_gcm:s.default,eax:o.default,ocb:u.default,publicKey:c.default,signature:l.default,random:f.default,pkcs1:d.default,pkcs5:h.default,aes_kw:e.default};Object.assign(e,p.default),r.default=e},{"./aes_kw":80,"./cfb":81,"./cipher":86,"./crypto":89,"./eax":90,"./gcm":91,"./hash":92,"./ocb":95,"./pkcs1":96,"./pkcs5":97,"./public_key":106,"./random":109,"./signature":110}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("./cipher")),m=a(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}function g(t){let r=0;for(let e=1;0==(t&e);e<<=1)r++;return r}function w(t,r){for(let e=0;e<t.length;e++)t[e]^=r[e];return t}function v(e,t){return w(e.slice(),t)}const _=new Uint8Array(16),k=new Uint8Array([1]);async function i(e,t){let p=0,y,i,b;function s(e,t,r,n){var a=t.length/16|0;!function(e,t){var r=m.default.nbits(Math.max(e.length,t.length)/16|0)-1;for(let e=p+1;e<=r;e++)b[e]=m.default.double(b[e-1]);p=r}(t,n);const i=m.default.concatUint8Array([_.subarray(0,15-r.length),k,r]);r=63&i[15];i[15]&=192;const s=y(i),o=m.default.concatUint8Array([s,v(s.subarray(0,8),s.subarray(1,9))]);var u=m.default.shiftRight(o.subarray(r>>3,17+(r>>3)),8-(7&r)).subarray(1),c=new Uint8Array(16);const l=new Uint8Array(t.length+16);let f,d=0;for(f=0;f<a;f++)w(u,b[g(f+1)]),l.set(w(e(v(u,t)),u),d),w(c,e===y?t:l.subarray(d)),t=t.subarray(16),d+=16;if(t.length){w(u,b.x);r=y(u);l.set(v(t,r),d);const h=new Uint8Array(16);h.set(e===y?t:l.subarray(d,-16),0),h[t.length]=128,w(c,h),d+=t.length}n=w(y(w(w(c,u),b.$)),function(t){if(!t.length)return _;var r=t.length/16|0,n=new Uint8Array(16),a=new Uint8Array(16);for(let e=0;e<r;e++)w(n,b[g(e+1)]),w(a,y(v(n,t))),t=t.subarray(16);if(t.length){w(n,b.x);const e=new Uint8Array(16);e.set(t,0),e[t.length]=128,w(e,n),w(a,y(e))}return a}(n));return l.set(n,d),l}return function(e,t){const r=new n.default[e](t);y=r.encrypt.bind(r),i=r.decrypt.bind(r);e=y(_),t=m.default.double(e);b=[],b[0]=m.default.double(t),b.x=e,b.$=t}(e,t),{encrypt:async function(e,t,r){return s(y,e,t,r)},decrypt:async function(e,t,r){if(e.length<16)throw new Error("Invalid OCB ciphertext");var n=e.subarray(-16);e=e.subarray(0,-16);const a=s(i,e,t,r);if(m.default.equalsUint8Array(n,a.subarray(-16)))return a.subarray(0,-16);throw new Error("Authentication tag mismatch")}}}i.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},i.blockLength=16,i.ivLength=15,i.tagLength=16,r.default=i},{"../util":158,"./cipher":86}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("./random")),o=a(e("./hash")),u=a(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}const i={},s={},c=[];c[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],c[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],c[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],c[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],c[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],c[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],c[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28],i.encode=async function(e,t){var r=e.length;if(t-11<r)throw new Error("Message too long");r=await async function(e){let t="";for(;t.length<e;){var r=await n.default.getRandomBytes(e-t.length);for(let e=0;e<r.length;e++)0!==r[e]&&(t+=String.fromCharCode(r[e]))}return t}(t-r-3);return String.fromCharCode(0)+String.fromCharCode(2)+r+String.fromCharCode(0)+e},i.decode=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);let n=2;for(;0!==e.charCodeAt(n)&&n<e.length;)n++;var a=n-2,i=e.charCodeAt(n++);if(0===t&&2===r&&8<=a&&0===i)return e.substr(n);throw new Error("Decryption error")},s.encode=async function(e,t,r){let n;t=u.default.Uint8Array_to_str(t);if(t.length!==o.default.getHashByteLength(e))throw new Error("Invalid hash length");let a="";for(n=0;n<c[e].length;n++)a+=String.fromCharCode(c[e][n]);a+=t;var i=a.length;if(r<i+11)throw new Error("Intended encoded message length too short");let s="";for(n=0;n<r-i-3;n++)s+=String.fromCharCode(255);t=String.fromCharCode(0)+String.fromCharCode(1)+s+String.fromCharCode(0)+a;return u.default.str_to_hex(t)},r.default={eme:i,emsa:s}},{"../util":158,"./hash":92,"./random":109}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={encode:function(e){var t=8-e.length%8;return e+String.fromCharCode(t).repeat(t)},decode:function(e){var t=e.length;if(0<t){var r=e.charCodeAt(t-1);if(1<=r)if(e.substr(t-r)===String.fromCharCode(r).repeat(r))return e.substr(0,t-r)}throw new Error("Invalid padding")}}},{}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=n(e("bn.js")),y=n(e("../random")),b=n(e("../../util")),o=n(e("./prime"));function n(e){return e&&e.__esModule?e:{default:e}}const m=new p.default(1),g=new p.default(0);r.default={sign:async function(e,t,r,n,a,i){let s,o,u;var c,n=new p.default.red(n),l=new p.default.red(a);const f=r.toRed(n),d=i.toRed(l),h=new p.default(t.subarray(0,a.byteLength())).toRed(l);for(;;)if(s=await y.default.getRandomBN(m,a),o=f.redPow(s).fromRed().toRed(l),0!==g.cmp(o)&&(c=h.redAdd(d.redMul(o)),u=s.toRed(l).redInvm().redMul(c),0!==g.cmp(u)))break;return{r:o.toArrayLike(Uint8Array,"be",a.byteLength()),s:u.toArrayLike(Uint8Array,"be",a.byteLength())}},verify:async function(e,t,r,n,a,i,s,o){if(0<=g.ucmp(t)||0<=t.ucmp(s)||0<=g.ucmp(r)||0<=r.ucmp(s))return b.default.print_debug("invalid DSA Signature"),null;var u=new p.default.red(i),i=new p.default.red(s);const c=new p.default(n.subarray(0,s.byteLength()));r=r.toRed(i).redInvm();if(0===g.cmp(r))return b.default.print_debug("invalid DSA Signature"),null;const l=c.toRed(i).redMul(r),f=t.toRed(i).redMul(r),d=a.toRed(u).redPow(l.fromRed());u=o.toRed(u).redPow(f.fromRed());const h=d.redMul(u).fromRed().mod(s);return 0===h.cmp(t)},validateParams:async function(e,t,r,n,a){e=new p.default(e),t=new p.default(t),r=new p.default(r),n=new p.default(n);var i=new p.default(1);if(r.lte(i)||r.gte(e))return!1;if(!e.sub(i).mod(t).isZero())return!1;e=new p.default.red(e);const s=r.toRed(e);if(!s.redPow(t).eq(i))return!1;i=t.bitLength();if(i<150||!await o.default.isProbablePrime(t,null,32))return!1;a=new p.default(a);i=await y.default.getRandomBN(new p.default(2).shln(i-1),new p.default(2).shln(i)),a=t.mul(i).add(a);return!!n.eq(s.redPow(a))}}},{"../../util":158,"../random":109,"./prime":107,"bn.js":16}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var f=n(e("bn.js")),d=n(e("../random"));function n(e){return e&&e.__esModule?e:{default:e}}r.default={encrypt:async function(e,t,r,n){var a=new f.default.red(t),e=e.toRed(a);const i=r.toRed(a),s=n.toRed(a);t=await d.default.getRandomBN(new f.default(1),t.subn(1));return{c1:i.redPow(t).fromRed(),c2:s.redPow(t).redMul(e).fromRed()}},decrypt:async function(e,t,r,n){r=new f.default.red(r);const a=e.toRed(r);r=t.toRed(r);return a.redPow(n).redInvm().redMul(r).fromRed()},validateParams:async function(e,t,r,n){e=new f.default(e),t=new f.default(t),r=new f.default(r);var a=new f.default(1);if(t.lte(a)||t.gte(e))return!1;var i=e.subn(1).bitLength();if(i<1023)return!1;var s=new f.default.red(e);const o=t.toRed(s);if(!o.redPow(e.subn(1)).eq(a))return!1;let u=t;const c=new f.default(1);for(var l=new f.default(2).shln(17);c.lt(l);){if(u=u.mul(t).mod(e),u.eqn(1))return!1;c.iaddn(1)}n=new f.default(n);i=await d.default.getRandomBN(new f.default(2).shln(i-1),new f.default(2).shln(i)),n=e.subn(1).mul(i).add(n);return!!r.eq(o.redPow(n))}}},{"../random":109,"bn.js":16}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateStandardParams=r.privateToJwk=r.rawPublicToJwk=r.jwkToRawPublic=r.getPreferredHashAlgo=r.generate=r.nodeCurves=r.webCurves=r.curves=void 0;var i=a(e("bn.js")),s=a(e("tweetnacl/nacl-fast-light.js")),o=a(e("../../random")),u=a(e("../../../enums")),c=a(e("../../../util")),n=a(e("../../../type/oid")),l=e("./indutnyKey");function a(e){return e&&e.__esModule?e:{default:e}}const f=c.default.getWebCrypto(),d=c.default.getNodeCrypto(),h={p256:"P-256",p384:"P-384",p521:"P-521"},p=d?d.getCurves():[],y=d?{secp256k1:p.includes("secp256k1")?"secp256k1":void 0,p256:p.includes("prime256v1")?"prime256v1":void 0,p384:p.includes("secp384r1")?"secp384r1":void 0,p521:p.includes("secp521r1")?"secp521r1":void 0,ed25519:p.includes("ED25519")?"ED25519":void 0,curve25519:p.includes("X25519")?"X25519":void 0,brainpoolP256r1:p.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:p.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:p.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},b={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:u.default.publicKey.ecdsa,hash:u.default.hash.sha256,cipher:u.default.symmetric.aes128,node:y.p256,web:h.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:u.default.publicKey.ecdsa,hash:u.default.hash.sha384,cipher:u.default.symmetric.aes192,node:y.p384,web:h.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:u.default.publicKey.ecdsa,hash:u.default.hash.sha512,cipher:u.default.symmetric.aes256,node:y.p521,web:h.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:u.default.publicKey.ecdsa,hash:u.default.hash.sha256,cipher:u.default.symmetric.aes128,node:y.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:u.default.publicKey.eddsa,hash:u.default.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:u.default.publicKey.ecdh,hash:u.default.hash.sha256,cipher:u.default.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:u.default.publicKey.ecdsa,hash:u.default.hash.sha256,cipher:u.default.symmetric.aes128,node:y.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:u.default.publicKey.ecdsa,hash:u.default.hash.sha384,cipher:u.default.symmetric.aes192,node:y.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:u.default.publicKey.ecdsa,hash:u.default.hash.sha512,cipher:u.default.symmetric.aes256,node:y.brainpoolP512r1,payloadSize:64}};function m(e,t){try{(e=c.default.isArray(e)||c.default.isUint8Array(e)?new n.default(e):e)instanceof n.default&&(e=e.getName()),this.name=u.default.write(u.default.curve,e)}catch(e){throw new Error("Not valid curve")}t=t||b[this.name],this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&b[this.name],this.web=t.web&&b[this.name],this.payloadSize=t.payloadSize,this.web&&c.default.getWebCrypto()?this.type="web":this.node&&c.default.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}function g(e){var t=c.default.b64_to_Uint8Array(e.x),e=c.default.b64_to_Uint8Array(e.y);const r=new Uint8Array(t.length+e.length+1);return r[0]=4,r.set(t,1),r.set(e,t.length+1),r}function w(e,t,r){var n=e,e=r.slice(1,n+1),n=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:c.default.Uint8Array_to_b64(e,!0),y:c.default.Uint8Array_to_b64(n,!0),ext:!0}}m.prototype.genKeyPair=async function(){let e;switch(this.type){case"web":try{return r=this.name,n=await f.generateKey({name:"ECDSA",namedCurve:h[r]},!0,["sign","verify"]),r=await f.exportKey("jwk",n.privateKey),{publicKey:g(n=await f.exportKey("jwk",n.publicKey)),privateKey:c.default.b64_to_Uint8Array(r.d,!0)}}catch(e){c.default.print_debug_error("Browser did not support generating ec key "+e.message);break}case"node":return async function(e){const t=d.createECDH(y[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519":{const i=await o.default.getRandomBytes(32);i[0]=127&i[0]|64,i[31]&=248;var t=i.slice().reverse();return e=s.default.box.keyPair.fromSecretKey(t),{publicKey:c.default.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:i}}case"ed25519":{t=await o.default.getRandomBytes(32);const e=s.default.sign.keyPair.fromSeed(t);return{publicKey:c.default.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:t}}}var r,n;const a=await(0,l.getIndutnyCurve)(this.name);return e=await a.genKeyPair({entropy:c.default.Uint8Array_to_str(await o.default.getRandomBytes(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}},r.default=m,r.curves=b,r.webCurves=h,r.nodeCurves=y,r.generate=async function(e){var t=await(e=new m(e)).genKeyPair();return{oid:e.oid,Q:new i.default(t.publicKey),d:new i.default(t.privateKey),hash:e.hash,cipher:e.cipher}},r.getPreferredHashAlgo=function(e){return b[u.default.write(u.default.curve,e.toHex())].hash},r.jwkToRawPublic=g,r.rawPublicToJwk=w,r.privateToJwk=function(e,t,r,n){const a=w(e,t,r);return a.d=c.default.Uint8Array_to_b64(n,!0),a},r.validateStandardParams=async function(e,t,r,n){if(e={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===u.default.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},t=t.getName(),!e[t])return!1;if("curve25519"===t){n=n.slice().reverse();e=s.default.box.keyPair.fromSecretKey(n).publicKey;r=new Uint8Array(r);const a=new Uint8Array([64,...e]);return c.default.equalsUint8Array(a,r)?!0:!1}t=await(0,l.getIndutnyCurve)(t);try{r=(0,l.keyFromPublic)(t,r).getPublic()}catch(e){return!1}n=new i.default(n);const a=(0,l.keyFromPrivate)(t,n).getPublic();return!!a.eq(r)}},{"../../../enums":113,"../../../type/oid":156,"../../../util":158,"../../random":109,"./indutnyKey":105,"bn.js":16,"tweetnacl/nacl-fast-light.js":72}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=n(e("bn.js")),s=n(e("tweetnacl/nacl-fast-light.js")),i=e("./curves"),h=n(i),p=n(e("../../aes_kw")),y=n(e("../../cipher")),o=n(e("../../random")),u=n(e("../../hash")),b=n(e("../../../enums")),c=n(e("../../../util")),l=e("./indutnyKey");function n(e){return e&&e.__esModule?e:{default:e}}const f=c.default.getWebCrypto(),m=c.default.getNodeCrypto();function g(e,t,r,n){return c.default.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),c.default.str_to_Uint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function w(e,t,r,n,a=!1,i=!1){let s;if(a){for(s=0;s<t.length&&0===t[s];s++);t=t.subarray(s)}if(i){for(s=t.length-1;0<=s&&0===t[s];s--);t=t.subarray(0,s+1)}const o=await u.default.digest(e,c.default.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]));return o.subarray(0,r)}async function v(e,t){switch(e.type){case"curve25519":var r=await _(e,t,null,await o.default.getRandomBytes(32)),n=r.secretKey,r=r.sharedKey,n=s.default.box.keyPair.fromSecretKey(n).publicKey;return{publicKey:n=c.default.concatUint8Array([new Uint8Array([64]),n]),sharedKey:r};case"web":if(e.web&&c.default.getWebCrypto())try{return A(e,t)}catch(e){c.default.print_debug_error(e)}break;case"node":return x(e,t)}return E(e,t)}async function _(e,t,r,n){if(n.length!==e.payloadSize){const i=new Uint8Array(e.payloadSize);i.set(n,e.payloadSize-n.length),n=i}switch(e.type){case"curve25519":var a=n.slice().reverse();return{secretKey:a,sharedKey:s.default.scalarMult(a,t.subarray(1))};case"web":if(e.web&&c.default.getWebCrypto())try{return k(e,t,r,n)}catch(e){c.default.print_debug_error(e)}break;case"node":return P(e,t,n)}return S(e,t,n)}async function k(e,t,r,n){r=(0,i.privateToJwk)(e.payloadSize,e.web.web,r,n),n=f.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),r=(0,i.rawPublicToJwk)(e.payloadSize,e.web.web,t),t=f.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!0,[]),r=await Promise.all([n,t]),r=a(r,2),n=r[0],t=r[1],t=f.deriveBits({name:"ECDH",namedCurve:e.web.web,public:t},n,e.web.sharedSize),e=f.exportKey("jwk",n),n=await Promise.all([t,e]),n=a(n,2),t=n[0],e=n[1],t=new Uint8Array(t);return{secretKey:c.default.b64_to_Uint8Array(e.d,!0),sharedKey:t}}async function A(e,t){var r=(0,i.rawPublicToJwk)(e.payloadSize,e.web.web,t),n=f.generateKey({name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),t=f.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!1,[]),r=await Promise.all([n,t]),r=a(r,2),n=r[0],t=r[1],t=f.deriveBits({name:"ECDH",namedCurve:e.web.web,public:t},n.privateKey,e.web.sharedSize),e=f.exportKey("jwk",n.publicKey),n=await Promise.all([t,e]),n=a(n,2),t=n[0],e=n[1],t=new Uint8Array(t);return{publicKey:new Uint8Array((0,i.jwkToRawPublic)(e)),sharedKey:t}}async function S(e,t,r){const n=await(0,l.getIndutnyCurve)(e.name);t=(0,l.keyFromPublic)(n,t),r=(0,l.keyFromPrivate)(n,r);e=new Uint8Array(r.getPrivate());const a=r.derive(t.getPublic());t=n.curve.p.byteLength();return{secretKey:e,sharedKey:a.toArrayLike(Uint8Array,"be",t)}}async function E(e,t){const r=await(0,l.getIndutnyCurve)(e.name);e=await e.genKeyPair();t=(0,l.keyFromPublic)(r,t);const n=(0,l.keyFromPrivate)(r,e.privateKey);e=e.publicKey;const a=n.derive(t.getPublic());t=r.curve.p.byteLength();return{publicKey:e,sharedKey:a.toArrayLike(Uint8Array,"be",t)}}async function P(e,t,r){const n=m.createECDH(e.node.node);n.setPrivateKey(r);t=new Uint8Array(n.computeSecret(t));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:t}}async function x(e,t){const r=m.createECDH(e.node.node);r.generateKeys();t=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:t}}r.default={encrypt:async function(e,t,r,n,a){var n=(i=await v(new h.default(e),n)).publicKey,i=i.sharedKey,e=g(b.default.publicKey.ecdh,e,t,a),a=b.default.read(b.default.symmetric,t.cipher),e=await w(t.hash,i,y.default[a].keySize,e);return{publicKey:n,wrappedKey:p.default.wrap(e,r.toString())}},decrypt:async function(e,t,r,n,a,i,s){var o=(await _(new h.default(e),r,a,i)).sharedKey,u=g(b.default.publicKey.ecdh,e,t,s),c=b.default.read(b.default.symmetric,t.cipher);let l;for(let e=0;e<3;e++)try{var f=await w(t.hash,o,y.default[c].keySize,u,1===e,2===e);return new d.default(p.default.unwrap(f,n))}catch(e){l=e}throw l},genPublicEphemeralKey:v,genPrivateEphemeralKey:_,buildEcdhParam:g,kdf:w,webPublicEphemeralKey:A,webPrivateEphemeralKey:k,ellipticPublicEphemeralKey:E,ellipticPrivateEphemeralKey:S,nodePublicEphemeralKey:x,nodePrivateEphemeralKey:P,validateParams:async function(e,t,r){return(0,i.validateStandardParams)(b.default.publicKey.ecdh,e,t,r)},parseParams:function(e){if(e.length<3||4<e.length)throw new Error("Unexpected number of parameters");var t=e[0],r=new h.default(t);const n={oid:t};return n.Q=e[1].toUint8Array(),n.kdfParams=e[2],4===e.length&&(n.d=e[3].toUint8Array("be",r.payloadSize)),n}}},{"../../../enums":113,"../../../util":158,"../../aes_kw":80,"../../cipher":86,"../../hash":92,"../../random":109,"./curves":100,"./indutnyKey":105,"bn.js":16,"tweetnacl/nacl-fast-light.js":72}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=n(e("bn.js")),y=n(e("../../../enums")),b=n(e("../../../util")),o=n(e("../../random")),u=n(e("../../hash")),m=e("./curves"),g=n(m),i=e("./indutnyKey");function n(e){return e&&e.__esModule?e:{default:e}}const w=b.default.getWebCrypto(),v=b.default.getNodeCrypto();async function c(e,t,r,n,a,i){var s=new g.default(e);if(r&&!b.default.isStream(r)){var o={publicKey:n,privateKey:a};switch(s.type){case"web":try{return async function(e,t,r,n){const a=e.payloadSize,i=(0,m.privateToJwk)(e.payloadSize,m.webCurves[e.name],n.publicKey,n.privateKey),s=await w.importKey("jwk",i,{name:"ECDSA",namedCurve:m.webCurves[e.name],hash:{name:y.default.read(y.default.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await w.sign({name:"ECDSA",namedCurve:m.webCurves[e.name],hash:{name:y.default.read(y.default.webHash,t)}},s,r));return{r:o.slice(0,a),s:o.slice(a,a<<1)}}(s,t,r,o)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;b.default.print_debug_error("Browser did not support verifying: "+e.message)}break;case"node":{const u=await async function(e,t,r,n){const a=v.createSign(y.default.read(y.default.hash,t));a.write(r),a.end();n=d.encode({version:1,parameters:e.oid,privateKey:Array.from(n.privateKey),publicKey:{unused:0,data:Array.from(n.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return k.decode(a.sign(n),"der")}(s,t,r,o);return{r:u.r.toArrayLike(Uint8Array),s:u.s.toArrayLike(Uint8Array)}}}}return f(s,i,a)}async function l(e,t,r,n,a,i){var s,o,u,c,l,f,d,h=new g.default(e);if(n&&!b.default.isStream(n))switch(h.type){case"web":try{return[s,o,{r:u,s:c},l,f]=[h,t,r,n,a],d=s.payloadSize,f=(0,m.rawPublicToJwk)(s.payloadSize,m.webCurves[s.name],f),f=await w.importKey("jwk",f,{name:"ECDSA",namedCurve:m.webCurves[s.name],hash:{name:y.default.read(y.default.webHash,s.hash)}},!1,["verify"]),c=b.default.concatUint8Array([new Uint8Array(d-u.length),u,new Uint8Array(d-c.length),c]).buffer,w.verify({name:"ECDSA",namedCurve:m.webCurves[s.name],hash:{name:y.default.read(y.default.webHash,o)}},f,c,l)}catch(e){if("p521"!==h.name&&("DataError"===e.name||"OperationError"===e.name))throw e;b.default.print_debug_error("Browser did not support verifying: "+e.message)}break;case"node":return async function(e,t,{r,s:n},a,i){const s=v.createVerify(y.default.read(y.default.hash,t));s.write(a),s.end();i=A.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:e.oid},subjectPublicKey:{unused:0,data:Array.from(i)}},"pem",{label:"PUBLIC KEY"}),n=k.encode({r:new p.default(r),s:new p.default(n)},"der");try{return s.verify(i,n)}catch(e){return!1}}(h,t,r,n,a)}return _(h,r,void 0===t?n:i,a)}async function f(e,t,r){e=await(0,i.getIndutnyCurve)(e.name);const n=(0,i.keyFromPrivate)(e,r),a=n.sign(t);return{r:a.r.toArrayLike(Uint8Array),s:a.s.toArrayLike(Uint8Array)}}async function _(e,t,r,n){e=await(0,i.getIndutnyCurve)(e.name);const a=(0,i.keyFromPublic)(e,n);return a.verify(r,t)}r.default={sign:c,verify:l,ellipticVerify:_,ellipticSign:f,validateParams:async function(e,t,r){var n=new g.default(e);if(n.keyType!==y.default.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":var a=await o.default.getRandomBytes(8),i=y.default.hash.sha256,s=await u.default.digest(i,a);try{return l(e,i,await c(e,i,a,t,r,s),a,t,s)}catch(e){return!1}default:return(0,m.validateStandardParams)(y.default.publicKey.ecdsa,e,t,r)}},parseParams:function(e){if(e.length<2||3<e.length)throw new Error("Unexpected number of parameters");var t=e[0],r=new g.default(t);const n={oid:t};return n.Q=e[1].toUint8Array(),3===e.length&&(n.d=e[2].toUint8Array("be",r.payloadSize)),n}};const a=v?e("asn1.js"):void 0,k=v?a.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,d=v?a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,s=v?a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,A=v?a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}):void 0},{"../../../enums":113,"../../../util":158,"../../hash":92,"../../random":109,"./curves":100,"./indutnyKey":105,"asn1.js":"asn1.js","bn.js":16}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("hash.js/lib/hash/sha/512")),o=a(e("tweetnacl/nacl-fast-light.js")),u=a(e("../../../util"));function a(e){return e&&e.__esModule?e:{default:e}}o.default.hash=e=>new Uint8Array((0,n.default)().update(e).digest()),r.default={sign:async function(e,t,r,n,a,i){n=u.default.concatUint8Array([a,n.subarray(1)]);const s=o.default.sign.detached(i,n);return{R:s.subarray(0,32),S:s.subarray(32)}},verify:async function(e,t,{R:r,S:n},a,i,s){return n=u.default.concatUint8Array([r,n]),o.default.sign.detached.verify(s,n,i.subarray(1))},validateParams:async function(e,t,r){return"ed25519"===e.getName()&&(r=o.default.sign.keyPair.fromSeed(r).publicKey,r=new Uint8Array([64,...r]),u.default.equalsUint8Array(t,r))},parseParams:function(e){if(e.length<2||3<e.length)throw new Error("Unexpected number of parameters");const t={oid:e[0],Q:e[1].toUint8Array("be",33)};return 3===e.length&&(t.seed=e[2].toUint8Array("be",32)),t}}},{"../../../util":158,"hash.js/lib/hash/sha/512":43,"tweetnacl/nacl-fast-light.js":72}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./curves"),a=o(n),i=o(e("./ecdsa")),s=o(e("./eddsa")),e=o(e("./ecdh"));function o(e){return e&&e.__esModule?e:{default:e}}r.default={Curve:a.default,ecdh:e.default,ecdsa:i.default,eddsa:s.default,generate:n.generate,getPreferredHashAlgo:n.getPreferredHashAlgo}},{"./curves":100,"./ecdh":101,"./ecdsa":102,"./eddsa":103}],105:[function(a,e,t){!function(i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyFromPrivate=function(e,t){t=e.keyPair({priv:t});return t},t.keyFromPublic=function(e,t){const r=e.keyPair({pub:t});if(!0===r.validate().result)return r;throw new Error("Invalid elliptic public key")},t.getIndutnyCurve=async function(e){if(!o.default.use_indutny_elliptic)throw new Error("This curve is only supported in the full build of OpenPGP.js");const t=await function(){if(!o.default.external_indutny_elliptic)return a("elliptic");if(r.default.detectNode())return a(o.default.indutny_elliptic_path);n=n||async function(){const e=o.default.indutny_elliptic_path,t=o.default.indutny_elliptic_fetch_options,r=(0,s.dl)(e,t).catch(()=>(0,s.dl)(e,t)),n=await r,a=URL.createObjectURL(new Blob([n],{type:"text/javascript"}));if(await(0,s.loadScript)(a),URL.revokeObjectURL(a),i.openpgp.elliptic)return i.openpgp.elliptic;throw new Error("Elliptic library failed to load correctly")}().catch(e=>{throw n=void 0,e});return n}();return new t.ec(e)};var s=a("../../../lightweight_helper"),o=e(a("../../../config")),r=e(a("../../../util"));function e(e){return e&&e.__esModule?e:{default:e}}let n}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../config":79,"../../../lightweight_helper":125,"../../../util":158,elliptic:18}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("tweetnacl/nacl-fast-light.js")),a=o(e("./rsa")),i=o(e("./elgamal")),s=o(e("./elliptic")),e=o(e("./dsa"));function o(e){return e&&e.__esModule?e:{default:e}}r.default={rsa:a.default,elgamal:i.default,elliptic:s.default,dsa:e.default,nacl:n.default}},{"./dsa":98,"./elgamal":99,"./elliptic":104,"./rsa":108,"tweetnacl/nacl-fast-light.js":72}],107:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var f=n(e("bn.js")),d=n(e("../random"));function n(e){return e&&e.__esModule?e:{default:e}}async function u(e,t,r){return!(t&&!e.subn(1).gcd(t).eqn(1))&&(!!i(e)&&(!!a(e)&&!!await o(e,r)))}function a(e,t){return 0===(t=t||new f.default(2)).toRed(f.default.mont(e)).redPow(e.subn(1)).fromRed().cmpn(1)}function i(t){return s.every(e=>0!==t.modn(e))}r.default={randomProbablePrime:async function(e,t,r){const n=new f.default(1).shln(e-1),a=new f.default(30),i=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2];let s=await d.default.getRandomBN(n,n.shln(1)),o=s.mod(a).toNumber();for(;s.iaddn(i[o]),o=(o+i[o])%i.length,s.bitLength()>e&&(s=s.mod(n.shln(1)).iadd(n),o=s.mod(a).toNumber()),!await u(s,t,r););return s},isProbablePrime:u,fermat:a,millerRabin:o,divisionTest:i};const s=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999];async function o(e,t,r){var n=e.bitLength(),a=f.default.mont(e),i=new f.default(1).toRed(a);t=t||Math.max(1,n/48|0);const s=e.subn(1);var o=s.toRed(a);let u=0;for(;!s.testn(u);)u++;for(var c=e.shrn(u);0<t;t--){const l=r?r():await d.default.getRandomBN(new f.default(2),s);let t=l.toRed(a).redPow(c);if(!t.eq(i)&&!t.eq(o)){let e;for(e=1;e<u;e++){if(t=t.redSqr(),t.eq(i))return!1;if(t.eq(o))break}if(e===u)return!1}}return!0}},{"../random":109,"bn.js":16}],108:[function(r,e,n){!function(u){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var y=e(r("bn.js")),c=e(r("./prime")),b=e(r("../random")),m=e(r("../../config")),g=e(r("../../util")),w=e(r("../pkcs1")),p=e(r("../../enums")),v=e(r("../../type/mpi"));function e(e){return e&&e.__esModule?e:{default:e}}const l=g.default.getWebCrypto(),_=g.default.getNodeCrypto(),t=_?r("asn1.js"):void 0;function f(r,n){return"function"!=typeof r.then?new Promise(function(t,e){r.onerror=function(){e(new Error(n))},r.oncomplete=function(e){t(e.target.result)}}):r}const k=g.default.detectNode()?t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,o=g.default.detectNode()?t.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;n.default={sign:async function(e,t,r,n,a,i,s,o,u){if(t&&!g.default.isStream(t))if(g.default.getWebCrypto())try{return this.webSign(p.default.read(p.default.webHash,e),t,r,n,a,i,s,o)}catch(e){g.default.print_debug_error(e)}else if(g.default.getNodeCrypto())return this.nodeSign(e,t,r,n,a,i,s,o);return this.bnSign(e,r,a,u)},verify:async function(e,t,r,n,a,i){if(t&&!g.default.isStream(t))if(g.default.getWebCrypto())try{return this.webVerify(p.default.read(p.default.webHash,e),t,r,n,a)}catch(e){g.default.print_debug_error(e)}else if(g.default.getNodeCrypto())return this.nodeVerify(e,t,r,n,a);return this.bnVerify(e,r,n,a,i)},encrypt:async function(e,t,r){return g.default.getNodeCrypto()?this.nodeEncrypt(e,t,r):this.bnEncrypt(e,t,r)},decrypt:async function(e,t,r,n,a,i,s){return g.default.getNodeCrypto()?this.nodeDecrypt(e,t,r,n,a,i,s):this.bnDecrypt(e,t,r,n,a,i,s)},generate:async function(n,a){let i;if(a=new y.default(a,16),g.default.getWebCrypto()){let e,t;if(u.crypto&&u.crypto.subtle||u.msCrypto)t={name:"RSASSA-PKCS1-v1_5",modulusLength:n,publicExponent:a.toArrayLike(Uint8Array),hash:{name:"SHA-1"}},e=l.generateKey(t,!0,["sign","verify"]),e=await f(e,"Error generating RSA key pair.");else{if(!u.crypto||!u.crypto.webkitSubtle)throw new Error("Unknown WebCrypto implementation");t={name:"RSA-OAEP",modulusLength:n,publicExponent:a.toArrayLike(Uint8Array),hash:{name:"SHA-1"}},e=await l.generateKey(t,!0,["encrypt","decrypt"])}let r=l.exportKey("jwk",e.privateKey);return r=await f(r,"Error exporting RSA key pair."),r instanceof ArrayBuffer&&(r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(r)))),i={},i.n=new y.default(g.default.b64_to_Uint8Array(r.n)),i.e=a,i.d=new y.default(g.default.b64_to_Uint8Array(r.d)),i.p=new y.default(g.default.b64_to_Uint8Array(r.q)),i.q=new y.default(g.default.b64_to_Uint8Array(r.p)),i.u=new y.default(g.default.b64_to_Uint8Array(r.qi)),i}if(g.default.getNodeCrypto()&&_.generateKeyPair&&k){const o={modulusLength:Number(n.toString(10)),publicExponent:Number(a.toString(10)),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}};var e=await new Promise((n,a)=>_.generateKeyPair("rsa",o,(e,t,r)=>{e?a(e):n(k.decode(r,"der"))}));return{n:e.modulus,e:e.publicExponent,d:e.privateExponent,p:e.prime2,q:e.prime1,u:e.coefficient}}let t=await c.default.randomProbablePrime(n-(n>>1),a,40),r=await c.default.randomProbablePrime(n>>1,a,40);t.cmp(r)<0&&(s=[t,r],r=s[0],t=s[1]);var s=r.subn(1).mul(t.subn(1));return{n:r.mul(t),e:a,d:a.invm(s),p:r,q:t,u:r.invm(t)}},validateParams:async function(e,t,r,n,a,i){if(e=new y.default(e),n=new y.default(n),a=new y.default(a),!n.mul(a).eq(e))return!1;var s=new y.default(1);const o=new y.default(2);if(i=new y.default(i),!n.mul(i).umod(a).eq(s))return!1;t=new y.default(t),r=new y.default(r);const u=await b.default.getRandomBN(o,o.shln(e.bitLength()/3)),c=u.mul(r).mul(t);return!(!c.umod(n.sub(s)).eq(u)||!c.umod(a.sub(s)).eq(u))},bnSign:async function(e,t,r,n){t=new y.default(t);const a=new y.default(await w.default.emsa.encode(e,n,t.byteLength()),16);if(r=new y.default(r),t.cmp(a)<=0)throw new Error("Message size cannot exceed modulus size");n=new y.default.red(t);return a.toRed(n).redPow(r).toArrayLike(Uint8Array,"be",t.byteLength())},webSign:async function(e,t,r,n,a,i,s,o){s=function(e,t,r,n,a,i){const s=new y.default(n),o=new y.default(a),u=new y.default(r);let c=u.mod(o.subn(1)),l=u.mod(s.subn(1));return l=l.toArrayLike(Uint8Array),c=c.toArrayLike(Uint8Array),{kty:"RSA",n:g.default.Uint8Array_to_b64(e,!0),e:g.default.Uint8Array_to_b64(t,!0),d:g.default.Uint8Array_to_b64(r,!0),p:g.default.Uint8Array_to_b64(a,!0),q:g.default.Uint8Array_to_b64(n,!0),dp:g.default.Uint8Array_to_b64(c,!0),dq:g.default.Uint8Array_to_b64(l,!0),qi:g.default.Uint8Array_to_b64(i,!0),ext:!0}}(r,n,a,i,s,o),o={name:"RSASSA-PKCS1-v1_5",hash:{name:e}},o=await l.importKey("jwk",s,o,!1,["sign"]);return new Uint8Array(await l.sign({name:"RSASSA-PKCS1-v1_5",hash:e},o,t))},nodeSign:async function(e,t,r,n,a,i,s,o){const u=new y.default(i),c=new y.default(s),l=new y.default(a);var f=l.mod(c.subn(1)),d=l.mod(u.subn(1));const h=_.createSign(p.default.read(p.default.hash,e));h.write(t),h.end();d={version:0,modulus:new y.default(r),publicExponent:new y.default(n),privateExponent:new y.default(a),prime1:new y.default(s),prime2:new y.default(i),exponent1:f,exponent2:d,coefficient:new y.default(o)};if(void 0!==_.createPrivateKey){o=k.encode(d,"der");return new Uint8Array(h.sign({key:o,format:"der",type:"pkcs1"}))}d=k.encode(d,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(h.sign(d))},bnVerify:async function(e,t,r,n,a){if(r=new y.default(r),t=new y.default(t),n=new y.default(n),r.cmp(t)<=0)throw new Error("Signature size cannot exceed modulus size");var i=new y.default.red(r),n=t.toRed(i).redPow(n).toArrayLike(Uint8Array,"be",r.byteLength()),r=await w.default.emsa.encode(e,a,r.byteLength());return g.default.Uint8Array_to_hex(n)===r},webVerify:async function(e,t,r,n,a){a=a,a={kty:"RSA",n:g.default.Uint8Array_to_b64(n,!0),e:g.default.Uint8Array_to_b64(a,!0),ext:!0},a=await l.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return l.verify({name:"RSASSA-PKCS1-v1_5",hash:e},a,r,t)},nodeVerify:async function(e,t,r,n,a){const i=_.createVerify(p.default.read(p.default.hash,e));i.write(t),i.end();a={modulus:new y.default(n),publicExponent:new y.default(a)};let s;s=void 0!==_.createPrivateKey?{key:o.encode(a,"der"),format:"der",type:"pkcs1"}:o.encode(a,"pem",{label:"RSA PUBLIC KEY"});try{return i.verify(s,r)}catch(e){return!1}},nodeEncrypt:async function(e,t,r){r={modulus:new y.default(t),publicExponent:new y.default(r)};let n;return n=void 0!==_.createPrivateKey?{key:o.encode(r,"der"),format:"der",type:"pkcs1",padding:_.constants.RSA_PKCS1_PADDING}:{key:o.encode(r,"pem",{label:"RSA PUBLIC KEY"}),padding:_.constants.RSA_PKCS1_PADDING},new Uint8Array(_.publicEncrypt(n,e))},bnEncrypt:async function(e,t,r){if(t=new y.default(t),e=(e=new v.default(await w.default.eme.encode(g.default.Uint8Array_to_str(e),t.byteLength()))).toBN(),r=new y.default(r),t.cmp(e)<=0)throw new Error("Message size cannot exceed modulus size");var n=new y.default.red(t);return e.toRed(n).redPow(r).toArrayLike(Uint8Array,"be",t.byteLength())},nodeDecrypt:function(e,t,r,n,a,i,s){const o=new y.default(a),u=new y.default(i),c=new y.default(n);var l=c.mod(u.subn(1)),f=c.mod(o.subn(1)),s={version:0,modulus:new y.default(t),publicExponent:new y.default(r),privateExponent:new y.default(n),prime1:new y.default(i),prime2:new y.default(a),exponent1:l,exponent2:f,coefficient:new y.default(s)};let d;d=void 0!==_.createPrivateKey?{key:k.encode(s,"der"),format:"der",type:"pkcs1",padding:_.constants.RSA_PKCS1_PADDING}:{key:k.encode(s,"pem",{label:"RSA PRIVATE KEY"}),padding:_.constants.RSA_PKCS1_PADDING};try{return g.default.Uint8Array_to_str(_.privateDecrypt(d,e))}catch(e){throw new Error("Decryption error")}},bnDecrypt:async function(e,t,r,n,a,i,s){if(e=new y.default(e),t=new y.default(t),r=new y.default(r),n=new y.default(n),a=new y.default(a),i=new y.default(i),s=new y.default(s),t.cmp(e)<=0)throw new Error("Data too large.");var o=n.mod(i.subn(1)),u=n.mod(a.subn(1)),c=new y.default.red(a),n=new y.default.red(i),i=new y.default.red(t);let l;m.default.rsa_blinding&&(l=(await b.default.getRandomBN(new y.default(2),t)).toRed(i),r=l.redInvm().redPow(r),e=e.toRed(i).redMul(r).fromRed());const f=e.toRed(c).redPow(u),d=e.toRed(n).redPow(o);o=d.redSub(f.fromRed().toRed(n));const h=s.toRed(n).redMul(o).fromRed();let p=h.mul(a).add(f).toRed(i);return m.default.rsa_blinding&&(p=p.redMul(l)),p=new v.default(p).toUint8Array("be",t.byteLength()),w.default.eme.decode(g.default.Uint8Array_to_str(p))},prime:c.default}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../config":79,"../../enums":113,"../../type/mpi":155,"../../util":158,"../pkcs1":96,"../random":109,"./prime":107,"asn1.js":"asn1.js","bn.js":16}],109:[function(i,e,s){!function(r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(i("bn.js"));function e(e){return e&&e.__esModule?e:{default:e}}const n=e(i("../util")).default.detectNode()&&i("crypto");function t(){this.buffer=null,this.size=null,this.callback=null}s.default={getRandomBytes:async function(e){const t=new Uint8Array(e);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(t);else if(void 0!==r&&"object"==typeof r.msCrypto&&"function"==typeof r.msCrypto.getRandomValues)r.msCrypto.getRandomValues(t);else if(n){e=n.randomBytes(t.length);t.set(e)}else{if(!this.randomBuffer.buffer)throw new Error("No secure random number generator available.");await this.randomBuffer.get(t)}return t},getRandomBN:async function(e,t){if(t.cmp(e)<=0)throw new Error("Illegal parameter value: max <= min");const r=t.sub(e);t=r.byteLength();const n=new a.default(await this.getRandomBytes(t+8));return n.mod(r).add(e)},randomBuffer:new t},t.prototype.init=function(e,t){this.buffer=new Uint8Array(e),this.size=0,this.callback=t},t.prototype.set=function(e){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");var t=this.buffer.length-this.size;e.length>t&&(e=e.subarray(0,t)),this.buffer.set(e,this.size),this.size+=e.length},t.prototype.get=async function(t){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(t instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");if(this.size<t.length){if(!this.callback)throw new Error("Random number buffer depleted");return await this.callback(),this.get(t)}for(let e=0;e<t.length;e++)t[e]=this.buffer[--this.size],this.buffer[this.size]=0}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":158,"bn.js":16,crypto:"crypto"}],110:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var b=n(e("./crypto")),m=n(e("./public_key")),g=n(e("../enums")),y=n(e("../util"));function n(e){return e&&e.__esModule?e:{default:e}}r.default={verify:async function(e,t,r,n,a,i){var s=b.default.getPubKeyParamTypes(e);if(n.length<s.length)throw new Error("Missing public key parameters");switch(e){case g.default.publicKey.rsa_encrypt_sign:case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_sign:var o=n[0].toUint8Array(),u=n[1].toUint8Array(),c=r[0].toUint8Array("be",o.length);return m.default.rsa.verify(t,a,c,o,u,i);case g.default.publicKey.dsa:var l=r[0].toBN(),f=r[1].toBN(),d=n[0].toBN(),c=n[1].toBN(),o=n[2].toBN(),u=n[3].toBN();return m.default.dsa.verify(t,l,f,i,o,d,c,u);case g.default.publicKey.ecdsa:var h=m.default.elliptic.ecdsa.parseParams(n),p=h.oid,y=h.Q,h={r:r[0].toUint8Array(),s:r[1].toUint8Array()};return m.default.elliptic.ecdsa.verify(p,t,h,a,y,i);case g.default.publicKey.eddsa:p=m.default.elliptic.eddsa.parseParams(n),h=p.oid,y=p.Q,p={R:r[0].toUint8Array("le",32),S:r[1].toUint8Array("le",32)};return m.default.elliptic.eddsa.verify(h,t,p,a,y,i);default:throw new Error("Invalid signature algorithm.")}},sign:async function(e,t,r,n,a){var i=[].concat(b.default.getPubKeyParamTypes(e),b.default.getPrivKeyParamTypes(e));if(r.length<i.length)throw new Error("Missing private key parameters");switch(e){case g.default.publicKey.rsa_encrypt_sign:case g.default.publicKey.rsa_encrypt:case g.default.publicKey.rsa_sign:var s=r[0].toUint8Array(),o=r[1].toUint8Array(),u=r[2].toUint8Array(),c=r[3].toUint8Array(),l=r[4].toUint8Array(),f=r[5].toUint8Array(),u=await m.default.rsa.sign(t,n,s,o,u,c,l,f,a);return y.default.Uint8Array_to_MPI(u);case g.default.publicKey.dsa:c=r[0].toBN(),l=r[1].toBN(),f=r[2].toBN(),u=r[4].toBN(),u=await m.default.dsa.sign(t,a,f,c,l,u);return y.default.concatUint8Array([y.default.Uint8Array_to_MPI(u.r),y.default.Uint8Array_to_MPI(u.s)]);case g.default.publicKey.elgamal:throw new Error("Signing with Elgamal is not defined in the OpenPGP standard.");case g.default.publicKey.ecdsa:var d=m.default.elliptic.ecdsa.parseParams(r),h=d.oid,p=d.Q,d=d.d,h=await m.default.elliptic.ecdsa.sign(h,t,n,p,d,a);return y.default.concatUint8Array([y.default.Uint8Array_to_MPI(h.r),y.default.Uint8Array_to_MPI(h.s)]);case g.default.publicKey.eddsa:p=m.default.elliptic.eddsa.parseParams(r),d=p.oid,h=p.Q,p=p.seed,p=await m.default.elliptic.eddsa.sign(d,t,n,h,p,a);return y.default.concatUint8Array([y.default.Uint8Array_to_MPI(p.R),y.default.Uint8Array_to_MPI(p.S)]);default:throw new Error("Invalid signature algorithm.")}}}},{"../enums":113,"../util":158,"./crypto":89,"./public_key":106}],111:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var k=n(e("web-stream-tools")),c=n(e("./base64.js")),A=n(e("../enums.js")),i=n(e("../config")),S=n(e("../util"));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){let t="";return i.default.show_version&&(t+="Version: "+i.default.versionstring+"\r\n"),i.default.show_comment&&(t+="Comment: "+i.default.commentstring+"\r\n"),e&&(t+="Comment: "+e+"\r\n"),t+="\r\n",t}function E(e){e=function(e){let a=13501623;return k.default.transform(e,t=>{var r=o?Math.floor(t.length/4):0,n=new Uint32Array(t.buffer,t.byteOffset,r);for(let e=0;e<r;e++)a^=n[e],a=s[0][a>>24&255]^s[1][a>>16&255]^s[2][a>>8&255]^s[3][a>>0&255];for(let e=4*r;e<t.length;e++)a=a>>8^s[0][255&a^t[e]]},()=>new Uint8Array([a,a>>8,a>>16]))}(e);return c.default.encode(e)}const s=[new Array(255),new Array(255),new Array(255),new Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let e=0;e<8;e++)t=t<<1^(0!=(8388608&t)?8801531:0);s[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)s[1][e]=s[0][e]>>8^s[0][255&s[0][e]];for(let e=0;e<=255;e++)s[2][e]=s[1][e]>>8^s[0][255&s[1][e]];for(let e=0;e<=255;e++)s[3][e]=s[2][e]>>8^s[0][255&s[2][e]];const o=(e=new ArrayBuffer(2),new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]);function P(t){for(let e=0;e<t.length;e++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(t[e]))throw new Error("Improperly formatted armor header: "+t[e]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(t[e])||S.default.print_debug_error(new Error("Unknown header: "+t[e]))}}r.default={encode:function(e,t,r,n,a){let i,s;e===A.default.armor.signed&&(i=t.text,s=t.hash,t=t.data);var o=k.default.passiveClone(t);const u=[];switch(e){case A.default.armor.multipart_section:u.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\r\n"),u.push(l(a)),u.push(c.default.encode(t)),u.push("=",E(o)),u.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\r\n");break;case A.default.armor.multipart_last:u.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\r\n"),u.push(l(a)),u.push(c.default.encode(t)),u.push("=",E(o)),u.push("-----END PGP MESSAGE, PART "+r+"-----\r\n");break;case A.default.armor.signed:u.push("\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\n"),u.push("Hash: "+s+"\r\n\r\n"),u.push(i.replace(/^-/gm,"- -")),u.push("\r\n-----BEGIN PGP SIGNATURE-----\r\n"),u.push(l(a)),u.push(c.default.encode(t)),u.push("=",E(o)),u.push("-----END PGP SIGNATURE-----\r\n");break;case A.default.armor.message:u.push("-----BEGIN PGP MESSAGE-----\r\n"),u.push(l(a)),u.push(c.default.encode(t)),u.push("=",E(o)),u.push("-----END PGP MESSAGE-----\r\n");break;case A.default.armor.public_key:u.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\r\n"),u.push(l(a)),u.push(c.default.encode(t)),u.push("=",E(o)),u.push("-----END PGP PUBLIC KEY BLOCK-----\r\n");break;case A.default.armor.private_key:u.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\r\n"),u.push(l(a)),u.push(c.default.encode(t)),u.push("=",E(o)),u.push("-----END PGP PRIVATE KEY BLOCK-----\r\n");break;case A.default.armor.signature:u.push("-----BEGIN PGP SIGNATURE-----\r\n"),u.push(l(a)),u.push(c.default.encode(t)),u.push("=",E(o)),u.push("-----END PGP SIGNATURE-----\r\n")}return S.default.concat(u)},decode:function(e){return new Promise(async(m,g)=>{try{const w=/^-----[^-]+-----$/m,v=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let l;const _=[];let f=_,d,h=[],p,y,b=c.default.decode(k.default.transformPair(e,async(e,t)=>{const r=k.default.getReader(e);try{for(;;){let e=await r.readLine();if(void 0===e)throw new Error("Misformed armored text");if(e=S.default.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),l)if(d)p||2!==l||(w.test(e)?(h=h.join("\r\n"),p=!0,P(f),f=[],d=!1):h.push(e.replace(/^- /,"")));else if(w.test(e)&&g(new Error("Mandatory blank line missing between armor headers and armor data")),v.test(e)){if(P(f),d=!0,p||2!==l){m({text:h,data:b,headers:_,type:l});break}}else f.push(e);else w.test(e)&&(l=function(e){if(!(e=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m)))throw new Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(e[1])?A.default.armor.multipart_section:/MESSAGE, PART \d+/.test(e[1])?A.default.armor.multipart_last:/SIGNED MESSAGE/.test(e[1])?A.default.armor.signed:/MESSAGE/.test(e[1])?A.default.armor.message:/PUBLIC KEY BLOCK/.test(e[1])?A.default.armor.public_key:/PRIVATE KEY BLOCK/.test(e[1])?A.default.armor.private_key:/SIGNATURE/.test(e[1])?A.default.armor.signature:void 0}(e))}}catch(e){return void g(e)}const n=k.default.getWriter(t);try{for(;;){await n.ready;var a=await r.read(),i=a.done,s=a.value;if(i)throw new Error("Misformed armored text");const u=s+"";if(-1!==u.indexOf("=")||-1!==u.indexOf("-")){let e=await r.readToEnd();e.length||(e=""),e=u+e,e=S.default.removeTrailingSpaces(e.replace(/\r/g,""));const c=e.split(w);if(1===c.length)throw new Error("Misformed armored text");var o=function(e){let t=e,r="";var n=e.lastIndexOf("=");return 0<=n&&n!==e.length-1&&(t=e.slice(0,n),r=e.slice(n+1).substr(0,4)),{body:t,checksum:r}}(c[0].slice(0,-1));y=o.checksum,await n.write(o.body);break}await n.write(u)}await n.ready,await n.close()}catch(e){await n.abort(e)}}));b=k.default.transformPair(b,async(e,t)=>{const r=k.default.readToEnd(E(k.default.passiveClone(e)));r.catch(()=>{}),await k.default.pipe(e,t,{preventClose:!0});const n=k.default.getWriter(t);try{var a=(await r).replace("\r\n","");if(y!==a&&(y||i.default.checksum_required))throw new Error("Ascii armor integrity check on message failed: '"+y+"' should be '"+a+"'");await n.ready,await n.close()}catch(e){await n.abort(e)}})}catch(e){g(e)}})}}},{"../config":79,"../enums.js":113,"../util":158,"./base64.js":112,"web-stream-tools":75}],112:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("web-stream-tools")),i=a(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}const s=i.default.getNodeBuffer();let o,u;u=s?(o=e=>s.from(e).toString("base64"),e=>{e=s.from(e,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}):(o=e=>btoa(i.default.Uint8Array_to_str(e)),e=>i.default.str_to_Uint8Array(atob(e))),r.default={encode:function(e){let a=new Uint8Array;return n.default.transform(e,e=>{a=i.default.concatUint8Array([a,e]);const t=[];var r=Math.floor(a.length/45),e=45*r;const n=o(a.subarray(0,e));for(let e=0;e<r;e++)t.push(n.substr(60*e,60)),t.push("\r\n");return a=a.subarray(e),t.join("")},()=>a.length?o(a)+"\r\n":"")},decode:function(e){let i="";return n.default.transform(e,e=>{i+=e;let t=0;const r=[" ","\t","\r","\n"];for(let e=0;e<r.length;e++){var n=r[e];for(let e=i.indexOf(n);-1!==e;e=i.indexOf(n,e+1))t++}let a=i.length;for(;0<a&&(a-t)%4!=0;a--)r.includes(i[a])&&t--;e=u(i.substr(0,a));return i=i.substr(a),e},()=>u(i))}}},{"../util":158,"web-stream-tools":75}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=Symbol("byValue");r.default={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsa_encrypt_sign:1,rsa_encrypt:2,rsa_sign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,"3des":2,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimental_gcm:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressed:8,symmetricallyEncrypted:9,marker:10,literal:11,trust:12,userid:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtected:18,modificationDetectionCode:19,symEncryptedAEADProtected:20},literal:{binary:"b".charCodeAt(),text:"t".charCodeAt(),utf8:"u".charCodeAt(),mime:"m".charCodeAt()},signature:{binary:0,text:1,standalone:2,cert_generic:16,cert_persona:17,cert_casual:18,cert_positive:19,cert_revocation:48,subkey_binding:24,key_binding:25,key:31,key_revocation:32,subkey_revocation:40,timestamp:64,third_party:80},signatureSubpacket:{signature_creation_time:2,signature_expiration_time:3,exportable_certification:4,trust_signature:5,regular_expression:6,revocable:7,key_expiration_time:9,placeholder_backwards_compatibility:10,preferred_symmetric_algorithms:11,revocation_key:12,issuer:16,notation_data:20,preferred_hash_algorithms:21,preferred_compression_algorithms:22,key_server_preferences:23,preferred_key_server:24,primary_user_id:25,policy_uri:26,key_flags:27,signers_user_id:28,reason_for_revocation:29,features:30,signature_target:31,embedded_signature:32,issuer_fingerprint:33,preferred_aead_algorithms:34},keyFlags:{certify_keys:1,sign_data:2,encrypt_communication:4,encrypt_storage:8,split_private_key:16,authentication:32,shared_private_key:128},armor:{multipart_section:0,multipart_last:1,signed:2,message:3,public_key:4,private_key:5,signature:6},reasonForRevocation:{no_reason:0,key_superseded:1,key_compromised:2,key_retired:3,userid_invalid:32},features:{modification_detection:1,aead:2,v5_keys:4},write:function(e,t){if(void 0!==e[t="number"==typeof t?this.read(e,t):t])return e[t];throw new Error("Invalid enum value.")},read:function(r,e){if(r[n]||(r[n]=[],Object.entries(r).forEach(([e,t])=>{r[n][t]=e})),void 0!==r[n][e])return r[n][e];throw new Error("Invalid enum value.")}}},{}],114:[function(i,e,s){!function(t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e,r=i("./config"),n=(e=r)&&e.__esModule?e:{default:e};function a(e){this._baseUrl=e||n.default.keyserver,this._fetch="function"==typeof t.fetch?t.fetch:i("node-fetch")}a.prototype.lookup=function(e){let t=this._baseUrl+"/pks/lookup?op=get&options=mr&search=";const r=this._fetch;if(e.keyId)t+="0x"+encodeURIComponent(e.keyId);else{if(!e.query)throw new Error("You must provide a query parameter!");t+=encodeURIComponent(e.query)}return r(t).then(function(e){if(200===e.status)return e.text()}).then(function(e){if(e&&!(e.indexOf("-----END PGP PUBLIC KEY BLOCK-----")<0))return e.trim()})},a.prototype.upload=function(e){var t=this._baseUrl+"/pks/add";const r=this._fetch;return r(t,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"keytext="+encodeURIComponent(e)})},s.default=a}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":79,"node-fetch":"node-fetch"}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.lightweight=r.WKD=r.HKP=r.AsyncProxy=r.Keyring=r.crypto=r.config=r.enums=r.armor=r.stream=r.OID=r.KDFParams=r.ECDHSymmetricKey=r.Keyid=r.S2K=r.MPI=r.packet=r.util=r.cleartext=r.message=r.signature=r.key=r.destroyWorker=r.getWorker=r.initWorker=r.decryptSessionKeys=r.encryptSessionKey=r.decryptKey=r.revokeKey=r.reformatKey=r.generateKey=r.verify=r.sign=r.decrypt=r.encrypt=void 0;var n=e("./openpgp");Object.defineProperty(r,"encrypt",{enumerable:!0,get:function(){return n.encrypt}}),Object.defineProperty(r,"decrypt",{enumerable:!0,get:function(){return n.decrypt}}),Object.defineProperty(r,"sign",{enumerable:!0,get:function(){return n.sign}}),Object.defineProperty(r,"verify",{enumerable:!0,get:function(){return n.verify}}),Object.defineProperty(r,"generateKey",{enumerable:!0,get:function(){return n.generateKey}}),Object.defineProperty(r,"reformatKey",{enumerable:!0,get:function(){return n.reformatKey}}),Object.defineProperty(r,"revokeKey",{enumerable:!0,get:function(){return n.revokeKey}}),Object.defineProperty(r,"decryptKey",{enumerable:!0,get:function(){return n.decryptKey}}),Object.defineProperty(r,"encryptSessionKey",{enumerable:!0,get:function(){return n.encryptSessionKey}}),Object.defineProperty(r,"decryptSessionKeys",{enumerable:!0,get:function(){return n.decryptSessionKeys}}),Object.defineProperty(r,"initWorker",{enumerable:!0,get:function(){return n.initWorker}}),Object.defineProperty(r,"getWorker",{enumerable:!0,get:function(){return n.getWorker}}),Object.defineProperty(r,"destroyWorker",{enumerable:!0,get:function(){return n.destroyWorker}});var a=e("./util");Object.defineProperty(r,"util",{enumerable:!0,get:function(){return x(a).default}});var i=e("./packet");Object.defineProperty(r,"packet",{enumerable:!0,get:function(){return x(i).default}});var s=e("./type/mpi");Object.defineProperty(r,"MPI",{enumerable:!0,get:function(){return x(s).default}});var o=e("./type/s2k");Object.defineProperty(r,"S2K",{enumerable:!0,get:function(){return x(o).default}});var u=e("./type/keyid");Object.defineProperty(r,"Keyid",{enumerable:!0,get:function(){return x(u).default}});var c=e("./type/ecdh_symkey");Object.defineProperty(r,"ECDHSymmetricKey",{enumerable:!0,get:function(){return x(c).default}});var l=e("./type/kdf_params");Object.defineProperty(r,"KDFParams",{enumerable:!0,get:function(){return x(l).default}});var f=e("./type/oid");Object.defineProperty(r,"OID",{enumerable:!0,get:function(){return x(f).default}});var d=e("web-stream-tools");Object.defineProperty(r,"stream",{enumerable:!0,get:function(){return x(d).default}});var h=e("./encoding/armor");Object.defineProperty(r,"armor",{enumerable:!0,get:function(){return x(h).default}});var p=e("./enums");Object.defineProperty(r,"enums",{enumerable:!0,get:function(){return x(p).default}});var y=e("./config/config");Object.defineProperty(r,"config",{enumerable:!0,get:function(){return x(y).default}});var b=e("./crypto");Object.defineProperty(r,"crypto",{enumerable:!0,get:function(){return x(b).default}});var m=e("./keyring");Object.defineProperty(r,"Keyring",{enumerable:!0,get:function(){return x(m).default}});var g=e("./worker/async_proxy");Object.defineProperty(r,"AsyncProxy",{enumerable:!0,get:function(){return x(g).default}});var w=e("./hkp");Object.defineProperty(r,"HKP",{enumerable:!0,get:function(){return x(w).default}});var v=e("./wkd");Object.defineProperty(r,"WKD",{enumerable:!0,get:function(){return x(v).default}});var _=P(n),k=P(e("./key")),A=P(e("./signature")),S=P(e("./message")),E=P(e("./cleartext")),e=P(e("./lightweight_helper"));function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}r.default=_;r.key=k,r.signature=A,r.message=S,r.cleartext=E,r.lightweight=e},{"./cleartext":77,"./config/config":78,"./crypto":94,"./encoding/armor":111,"./enums":113,"./hkp":114,"./key":118,"./keyring":122,"./lightweight_helper":125,"./message":126,"./openpgp":127,"./packet":131,"./signature":151,"./type/ecdh_symkey":152,"./type/kdf_params":153,"./type/keyid":154,"./type/mpi":155,"./type/oid":156,"./type/s2k":157,"./util":158,"./wkd":159,"./worker/async_proxy":160,"web-stream-tools":75}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generate=async function(r){r.sign=!0,(r=l.sanitizeKeyOptions(r)).subkeys=r.subkeys.map(function(e,t){return l.sanitizeKeyOptions(r.subkeys[t],r)});let e=[l.generateSecretKey(r)];return e=e.concat(r.subkeys.map(l.generateSecretSubkey)),Promise.all(e).then(e=>o(e[0],e.slice(1),r))},r.reformat=async function(r){r=i(r);try{r.privateKey.getKeys().every(e=>e.isDecrypted())||await r.privateKey.decrypt()}catch(e){throw new Error("Key not decrypted")}var t=r.privateKey.toPacketlist();let n;const a=[];for(let e=0;e<t.length;e++)t[e].tag===f.default.packet.secretKey?n=t[e]:t[e].tag===f.default.packet.secretSubkey&&a.push(t[e]);if(!n)throw new Error("Key does not contain a secret key packet");r.subkeys||(r.subkeys=await Promise.all(a.map(async e=>({sign:await r.privateKey.getSigningKey(e.getKeyId(),null).catch(()=>{})&&!await r.privateKey.getEncryptionKey(e.getKeyId(),null).catch(()=>{})}))));if(r.subkeys.length===a.length)return r.subkeys=r.subkeys.map(function(e,t){return i(r.subkeys[t],r)}),o(n,a,r);throw new Error("Number of subkey options does not match number of subkeys");function i(e,t={}){return e.keyExpirationTime=e.keyExpirationTime||t.keyExpirationTime,e.passphrase=(s.default.isString(e.passphrase)?e:t).passphrase,e.date=e.date||t.date,e}},r.read=i,r.readArmored=async function(e){try{var t=await n.default.decode(e);if(t.type!==f.default.armor.public_key&&t.type!==f.default.armor.private_key)throw new Error("Armored text not of type key");return i(t.data)}catch(e){const r={keys:[],err:[]};return r.err.push(e),r}};var u=a(e("../packet")),c=a(e("./key")),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./helper")),f=a(e("../enums")),s=a(e("../util")),d=a(e("../config")),n=a(e("../encoding/armor"));function a(e){return e&&e.__esModule?e:{default:e}}async function o(s,e,o){o.passphrase&&await s.encrypt(o.passphrase),await Promise.all(e.map(async function(e,t){t=o.subkeys[t].passphrase;t&&await e.encrypt(t)}));const r=new u.default.List;return r.push(s),await Promise.all(o.userIds.map(async function(e,t){function r(e,t){var r;return t&&(1<=(r=e.indexOf(t))&&e.splice(r,1),0!==r&&e.unshift(t)),e}const n=new u.default.Userid;n.format(e);const a={};a.userId=n,a.key=s;const i=new u.default.Signature(o.date);return i.signatureType=f.default.signature.cert_generic,i.publicKeyAlgorithm=s.algorithm,i.hashAlgorithm=await l.getPreferredHashAlgo(null,s),i.keyFlags=[f.default.keyFlags.certify_keys|f.default.keyFlags.sign_data],i.preferredSymmetricAlgorithms=r([f.default.symmetric.aes256,f.default.symmetric.aes128,f.default.symmetric.aes192,f.default.symmetric.cast5,f.default.symmetric.tripledes],d.default.encryption_cipher),d.default.aead_protect&&(i.preferredAeadAlgorithms=r([f.default.aead.eax,f.default.aead.ocb],d.default.aead_mode)),i.preferredHashAlgorithms=r([f.default.hash.sha256,f.default.hash.sha512,f.default.hash.sha1],d.default.prefer_hash_algorithm),i.preferredCompressionAlgorithms=r([f.default.compression.zlib,f.default.compression.zip,f.default.compression.uncompressed],d.default.compression),0===t&&(i.isPrimaryUserID=!0),d.default.integrity_protect&&(i.features=[0],i.features[0]|=f.default.features.modification_detection),d.default.aead_protect&&(i.features||(i.features=[0]),i.features[0]|=f.default.features.aead),d.default.v5_keys&&(i.features||(i.features=[0]),i.features[0]|=f.default.features.v5_keys),0<o.keyExpirationTime&&(i.keyExpirationTime=o.keyExpirationTime,i.keyNeverExpires=!1),await i.sign(s,a),{userIdPacket:n,signaturePacket:i}})).then(e=>{e.forEach(({userIdPacket:e,signaturePacket:t})=>{r.push(e),r.push(t)})}),await Promise.all(e.map(async function(e,t){t=o.subkeys[t];return{secretSubkeyPacket:e,subkeySignaturePacket:await l.createBindingSignature(e,s,t)}})).then(e=>{e.forEach(({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{r.push(e),r.push(t)})}),r.push(await l.createSignaturePacket({key:s},null,s,{signatureType:f.default.signature.key_revocation,reasonForRevocationFlag:f.default.reasonForRevocation.no_reason,reasonForRevocationString:""},o.date)),o.passphrase&&s.clearPrivateParams(),await Promise.all(e.map(async function(e,t){o.subkeys[t].passphrase&&e.clearPrivateParams()})),new c.default(r)}async function i(e){const t={keys:[]},r=[];try{const s=new u.default.List;await s.read(e);var n=s.indexOfTag(f.default.packet.publicKey,f.default.packet.secretKey);if(0===n.length)throw new Error("No key packet found");for(let e=0;e<n.length;e++){var a=s.slice(n[e],n[e+1]);try{var i=new c.default(a);t.keys.push(i)}catch(e){r.push(e)}}}catch(e){r.push(e)}return r.length&&(t.err=r),t}},{"../config":79,"../encoding/armor":111,"../enums":113,"../packet":131,"../util":158,"./helper":117,"./key":119}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};r.generateSecretSubkey=async function(e){const t=new c.default.SecretSubkey(e.date);return t.packets=null,t.algorithm=f.default.read(f.default.publicKey,e.algorithm),await t.generate(e.rsaBits,e.curve),t},r.generateSecretKey=async function(e){const t=new c.default.SecretKey(e.date);return t.packets=null,t.algorithm=f.default.read(f.default.publicKey,e.algorithm),await t.generate(e.rsaBits,e.curve),t},r.getLatestValidSignature=async function(t,r,n,a,i=new Date){let s,o;for(let e=t.length-1;0<=e;e--)try{s&&!(t[e].created>=s.created)||t[e].isExpired(i)||!t[e].verified&&!await t[e].verify(r,n,a)||(s=t[e])}catch(e){o=e}if(s)return s;throw d.default.wrapError(`Could not find valid ${f.default.read(f.default.signature,n)} signature in key ${r.getKeyId().toHex()}`.replace("cert_generic ","self-").replace("_"," "),o)},r.isDataExpired=function(e,t,r=new Date){var n=d.default.normalizeDate(r);if(null===n)return!1;{var a=u(e,t);return!(e.created<=n&&n<=a)||t&&t.isExpired(r)}},r.createBindingSignature=async function(e,t,r){const n={};n.key=t,n.bind=e;const a=new c.default.Signature(r.date);a.signatureType=f.default.signature.subkey_binding,a.publicKeyAlgorithm=t.algorithm,a.hashAlgorithm=await h(null,e),r.sign?(a.keyFlags=[f.default.keyFlags.sign_data],a.embeddedSignature=await i(n,null,e,{signatureType:f.default.signature.key_binding},r.date)):a.keyFlags=[f.default.keyFlags.encrypt_communication|f.default.keyFlags.encrypt_storage];0<r.keyExpirationTime&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1);return await a.sign(t,n),a},r.getPreferredHashAlgo=h,r.getPreferredAlgo=async function(n,a,i=new Date,s=[]){const o="symmetric"===n?"preferredSymmetricAlgorithms":"preferredAeadAlgorithms",u="symmetric"===n?f.default.symmetric.aes128:f.default.aead.eax,c={};await Promise.all(a.map(async function(e,t){const r=await e.getPrimaryUser(i,s[t]);if(!r.selfCertification[o])return u;r.selfCertification[o].forEach(function(e,t){const r=c[e]||(c[e]={prio:0,count:0,algo:e});r.prio+=64>>t,r.count++})}));let l={prio:0,algo:u};return Object.values(c).forEach(({prio:e,count:t,algo:r})=>{try{r!==f.default[n].plaintext&&r!==f.default[n].idea&&f.default.read(f.default[n],r)&&t===a.length&&e>l.prio&&(l=c[r])}catch(e){}}),l.algo},r.createSignaturePacket=i,r.mergeSignatures=async function(e,r,n,a){(e=e[n])&&(r[n].length?await Promise.all(e.map(async function(t){t.isExpired()||a&&!await a(t)||r[n].some(function(e){return d.default.equalsUint8Array(e.signature,t.signature)})||r[n].push(t)})):r[n]=e)},r.isDataRevoked=async function(e,t,r,n,a,i,s=new Date){i=i||e;const o=d.default.normalizeDate(s),u=[];if(await Promise.all(n.map(async function(e){try{a&&!e.issuerKeyId.equals(a.issuerKeyId)||l.default.revocations_expire&&e.isExpired(o)||!e.verified&&!await e.verify(i,t,r)||u.push(e.issuerKeyId)}catch(e){}})),a)return a.revoked=!!u.some(e=>e.equals(a.issuerKeyId))||(a.revoked||!1),a.revoked;return 0<u.length},r.getExpirationTime=u,r.isAeadSupported=async function(e,r=new Date,n=[]){let a=!0;return await Promise.all(e.map(async function(e,t){t=await e.getPrimaryUser(r,n[t]);t.selfCertification.features&&t.selfCertification.features[0]&f.default.features.aead||(a=!1)})),a},r.sanitizeKeyOptions=function(e,t={}){if(e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.keyExpirationTime=(void 0!==e.keyExpirationTime?e:t).keyExpirationTime,e.passphrase=(d.default.isString(e.passphrase)?e:t).passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.curve){try{e.curve=f.default.write(f.default.curve,e.curve)}catch(e){throw new Error("Not valid curve.")}e.curve!==f.default.curve.ed25519&&e.curve!==f.default.curve.curve25519||(e.curve=e.sign?f.default.curve.ed25519:f.default.curve.curve25519),e.sign?e.algorithm=e.curve===f.default.curve.ed25519?f.default.publicKey.eddsa:f.default.publicKey.ecdsa:e.algorithm=f.default.publicKey.ecdh}else{if(!e.rsaBits)throw new Error("Unrecognized key type");e.algorithm=f.default.publicKey.rsa_encrypt_sign}return e},r.isValidSigningKeyPacket=function(e,t){if(t.verified&&!1===t.revoked)return e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.rsa_encrypt)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.elgamal)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.ecdh)&&(!t.keyFlags||0!=(t.keyFlags[0]&f.default.keyFlags.sign_data));throw new Error("Signature not verified")},r.isValidEncryptionKeyPacket=function(e,t){if(t.verified&&!1===t.revoked)return e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.dsa)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.rsa_sign)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.ecdsa)&&e.algorithm!==f.default.read(f.default.publicKey,f.default.publicKey.eddsa)&&(!t.keyFlags||0!=(t.keyFlags[0]&f.default.keyFlags.encrypt_communication)||0!=(t.keyFlags[0]&f.default.keyFlags.encrypt_storage));throw new Error("Signature not verified")},r.isValidDecryptionKeyPacket=function(e){if(!e.verified)throw new Error("Signature not verified");if(l.default.allow_insecure_decryption_with_signing_keys)return!0;return!e.keyFlags||0!=(e.keyFlags[0]&f.default.keyFlags.encrypt_communication)||0!=(e.keyFlags[0]&f.default.keyFlags.encrypt_storage)};var c=n(e("../packet")),f=n(e("../enums")),l=n(e("../config")),o=n(e("../crypto")),d=n(e("../util"));function n(e){return e&&e.__esModule?e:{default:e}}async function h(e,t,r=new Date,n={}){let a=l.default.prefer_hash_algorithm,i=a;switch(!e||(n=await e.getPrimaryUser(r,n)).selfCertification.preferredHashAlgorithms&&(n=s(n.selfCertification.preferredHashAlgorithms,1),i=n[0],a=o.default.hash.getHashByteLength(a)<=o.default.hash.getHashByteLength(i)?i:a),Object.getPrototypeOf(t)){case c.default.SecretKey.prototype:case c.default.PublicKey.prototype:case c.default.SecretSubkey.prototype:case c.default.PublicSubkey.prototype:switch(t.algorithm){case"ecdh":case"ecdsa":case"eddsa":i=o.default.publicKey.elliptic.getPreferredHashAlgo(t.params[0])}}return o.default.hash.getHashByteLength(a)<=o.default.hash.getHashByteLength(i)?i:a}async function i(e,t,r,n,a,i,s=!1,o=!1){if(!r.isDecrypted())throw new Error("Private key is not decrypted.");const u=new c.default.Signature(a);return Object.assign(u,n),u.publicKeyAlgorithm=r.algorithm,u.hashAlgorithm=await h(t,r,a,i),await u.sign(r,e,s,o),u}function u(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}},{"../config":79,"../crypto":94,"../enums":113,"../packet":131,"../util":158}],118:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Key=r.createSignaturePacket=r.getPreferredHashAlgo=r.isAeadSupported=r.getPreferredAlgo=r.reformat=r.read=r.generate=r.readArmored=void 0;var n,a=e("./factory"),i=e("./helper"),s=e("./key.js"),e=(n=s)&&n.__esModule?n:{default:n};r.readArmored=a.readArmored,r.generate=a.generate,r.read=a.read,r.reformat=a.reformat,r.getPreferredAlgo=i.getPreferredAlgo,r.isAeadSupported=i.isAeadSupported,r.getPreferredHashAlgo=i.getPreferredHashAlgo,r.createSignaturePacket=i.createSignaturePacket,r.Key=e.default},{"./factory":116,"./helper":117,"./key.js":119}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var a=n(e("../encoding/armor")),s=n(e("../packet")),l=n(e("../enums")),u=n(e("../util")),i=n(e("./user")),o=n(e("./subkey")),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./helper"));function n(e){return e&&e.__esModule?e:{default:e}}function c(e){if(!(this instanceof c))return new c(e);if(this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subKeys=[],this.packetlist2structure(e),!this.keyPacket||!this.users.length)throw new Error("Invalid key: need at least key and user ID packet")}Object.defineProperty(c.prototype,"primaryKey",{get(){return this.keyPacket},configurable:!0,enumerable:!0}),c.prototype.packetlist2structure=function(t){let r,n,a;for(let e=0;e<t.length;e++)switch(t[e].tag){case l.default.packet.publicKey:case l.default.packet.secretKey:this.keyPacket=t[e],n=this.getKeyId();break;case l.default.packet.userid:case l.default.packet.userAttribute:r=new i.default(t[e]),this.users.push(r);break;case l.default.packet.publicSubkey:case l.default.packet.secretSubkey:r=null,a=new o.default(t[e]),this.subKeys.push(a);break;case l.default.packet.signature:switch(t[e].signatureType){case l.default.signature.cert_generic:case l.default.signature.cert_persona:case l.default.signature.cert_casual:case l.default.signature.cert_positive:if(!r){u.default.print_debug("Dropping certification signatures without preceding user packet");continue}(t[e].issuerKeyId.equals(n)?r.selfCertifications:r.otherCertifications).push(t[e]);break;case l.default.signature.cert_revocation:(r?r.revocationSignatures:this.directSignatures).push(t[e]);break;case l.default.signature.key:this.directSignatures.push(t[e]);break;case l.default.signature.subkey_binding:if(!a){u.default.print_debug("Dropping subkey binding signature without preceding subkey packet");continue}a.bindingSignatures.push(t[e]);break;case l.default.signature.key_revocation:this.revocationSignatures.push(t[e]);break;case l.default.signature.subkey_revocation:if(!a){u.default.print_debug("Dropping subkey revocation signature without preceding subkey packet");continue}a.revocationSignatures.push(t[e])}}},c.prototype.toPacketlist=function(){const t=new s.default.List;return t.push(this.keyPacket),t.concat(this.revocationSignatures),t.concat(this.directSignatures),this.users.map(e=>t.concat(e.toPacketlist())),this.subKeys.map(e=>t.concat(e.toPacketlist())),t},c.prototype.getSubkeys=function(t=null){const r=[];return this.subKeys.forEach(e=>{t&&!e.getKeyId().equals(t,!0)||r.push(e)}),r},c.prototype.getKeys=function(e=null){const t=[];return e&&!this.getKeyId().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))},c.prototype.getKeyIds=function(){return this.getKeys().map(e=>e.getKeyId())},c.prototype.getUserIds=function(){return this.users.map(e=>e.userId?e.userId.userid:null).filter(e=>null!==e)},c.prototype.isPublic=function(){return this.keyPacket.tag===l.default.packet.publicKey},c.prototype.isPrivate=function(){return this.keyPacket.tag===l.default.packet.secretKey},c.prototype.toPublic=function(){const t=new s.default.List,r=this.toPacketlist();let n,a,i;for(let e=0;e<r.length;e++)switch(r[e].tag){case l.default.packet.secretKey:n=r[e].writePublicKey(),a=new s.default.PublicKey,a.read(n),t.push(a);break;case l.default.packet.secretSubkey:n=r[e].writePublicKey(),i=new s.default.PublicSubkey,i.read(n),t.push(i);break;default:t.push(r[e])}return new c(t)},c.prototype.armor=function(){var e=this.isPublic()?l.default.armor.public_key:l.default.armor.private_key;return a.default.encode(e,this.toPacketlist().write())},c.prototype.getSigningKey=async function(t=null,r=new Date,e={}){await this.verifyPrimaryKey(r,e);const n=this.keyPacket,a=this.subKeys.slice().sort((e,t)=>t.keyPacket.created-e.keyPacket.created);let i;for(let e=0;e<a.length;e++)if(!t||a[e].getKeyId().equals(t))try{await a[e].verify(n,r);var s={key:n,bind:a[e].keyPacket},o=await f.getLatestValidSignature(a[e].bindingSignatures,n,l.default.signature.subkey_binding,s,r);if(o&&o.embeddedSignature&&f.isValidSigningKeyPacket(a[e].keyPacket,o)&&await f.getLatestValidSignature([o.embeddedSignature],a[e].keyPacket,l.default.signature.key_binding,s,r))return a[e]}catch(e){i=e}e=await this.getPrimaryUser(r,e);if((!t||n.getKeyId().equals(t))&&f.isValidSigningKeyPacket(n,e.selfCertification))return this;throw u.default.wrapError("Could not find valid signing key packet in key "+this.getKeyId().toHex(),i)},c.prototype.getEncryptionKey=async function(t,r=new Date,e={}){await this.verifyPrimaryKey(r,e);const n=this.keyPacket,a=this.subKeys.slice().sort((e,t)=>t.keyPacket.created-e.keyPacket.created);let i;for(let e=0;e<a.length;e++)if(!t||a[e].getKeyId().equals(t))try{await a[e].verify(n,r);var s={key:n,bind:a[e].keyPacket},o=await f.getLatestValidSignature(a[e].bindingSignatures,n,l.default.signature.subkey_binding,s,r);if(o&&f.isValidEncryptionKeyPacket(a[e].keyPacket,o))return a[e]}catch(e){i=e}e=await this.getPrimaryUser(r,e);if((!t||n.getKeyId().equals(t))&&f.isValidEncryptionKeyPacket(n,e.selfCertification))return this;throw u.default.wrapError("Could not find valid encryption key packet in key "+this.getKeyId().toHex(),i)},c.prototype.getDecryptionKeys=async function(t,r=new Date,e={}){const n=this.keyPacket,a=[];for(let e=0;e<this.subKeys.length;e++)if(!t||this.subKeys[e].getKeyId().equals(t,!0))try{var i={key:n,bind:this.subKeys[e].keyPacket},s=await f.getLatestValidSignature(this.subKeys[e].bindingSignatures,n,l.default.signature.subkey_binding,i,r);s&&f.isValidDecryptionKeyPacket(s)&&a.push(this.subKeys[e])}catch(e){}e=await this.getPrimaryUser(r,e);return t&&!n.getKeyId().equals(t,!0)||!f.isValidDecryptionKeyPacket(e.selfCertification)||a.push(this),a},c.prototype.encrypt=async function(n,e=null){if(!this.isPrivate())throw new Error("Nothing to encrypt in a public key");const t=this.getKeys(e);if((n=u.default.isArray(n)?n:new Array(t.length).fill(n)).length!==t.length)throw new Error("Invalid number of passphrases for key");return Promise.all(t.map(async function(e,t){const r=e.keyPacket;return await r.encrypt(n[t]),r.clearPrivateParams(),r}))},c.prototype.decrypt=async function(e,a=null){if(!this.isPrivate())throw new Error("Nothing to decrypt in a public key");e=u.default.isArray(e)?e:[e];const t=await Promise.all(this.getKeys(a).map(async function(t){let r=!1,n=null;if(await Promise.all(e.map(async function(e){try{await t.keyPacket.decrypt(e),a&&await t.keyPacket.validate(),r=!0}catch(e){n=e}})),!r)throw n;return r}));return a||await this.validate(),t.every(e=>!0===e)},c.prototype.validate=async function(){if(!this.isPrivate())throw new Error("Cannot validate a public key");let e;if(this.primaryKey.isDummy()){const t=await this.getSigningKey(null,null);t&&!t.keyPacket.isDummy()&&(e=t.keyPacket)}else e=this.primaryKey;if(e)return e.validate();{const r=this.getKeys();if(r.map(e=>e.keyPacket.isDummy()).every(Boolean))throw new Error("Cannot validate an all-gnu-dummy key");return Promise.all(r.map(async e=>e.keyPacket.validate()))}},c.prototype.clearPrivateParams=function(){if(!this.isPrivate())throw new Error("Can't clear private parameters of a public key");this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})},c.prototype.isRevoked=async function(e,t,r=new Date){return f.isDataRevoked(this.keyPacket,l.default.signature.key_revocation,{key:this.keyPacket},this.revocationSignatures,e,t,r)},c.prototype.verifyPrimaryKey=async function(e=new Date,t={}){var r=this.keyPacket;if(await this.isRevoked(null,null,e))throw new Error("Primary key is revoked");if(!this.users.some(e=>e.userId&&e.selfCertifications.length))throw new Error("No self-certifications");t=(await this.getPrimaryUser(e,t)).selfCertification;if(f.isDataExpired(r,t,e))throw new Error("Primary key is expired")},c.prototype.getExpirationTime=async function(e,t,r){const n=(await this.getPrimaryUser(null,r)).selfCertification;var a=f.getExpirationTime(this.keyPacket,n),i=n.getExpirationTime();let s=a<i?a:i;if("encrypt"===e||"encrypt_sign"===e){const o=await this.getEncryptionKey(t,s,r).catch(()=>{})||await this.getEncryptionKey(t,null,r).catch(()=>{});if(!o)return null;i=await o.getExpirationTime(this.keyPacket);i<s&&(s=i)}if("sign"===e||"encrypt_sign"===e){const u=await this.getSigningKey(t,s,r).catch(()=>{})||await this.getSigningKey(t,null,r).catch(()=>{});if(!u)return null;r=await u.getExpirationTime(this.keyPacket);r<s&&(s=r)}return s},c.prototype.getPrimaryUser=async function(t=new Date,r={}){const n=this.keyPacket,a=[];let i;for(let e=0;e<this.users.length;e++)try{const u=this.users[e];if(!u.userId)continue;if(void 0!==r.name&&u.userId.name!==r.name||void 0!==r.email&&u.userId.email!==r.email||void 0!==r.comment&&u.userId.comment!==r.comment)throw new Error("Could not find user that matches that user ID");var s={userId:u.userId,key:n},o=await f.getLatestValidSignature(u.selfCertifications,n,l.default.signature.cert_generic,s,t);a.push({index:e,user:u,selfCertification:o})}catch(e){i=e}if(!a.length)throw i||new Error("Could not find primary user");await Promise.all(a.map(async function(e){return e.user.revoked||e.user.isRevoked(n,e.selfCertification,null,t)}));var e=a.sort(function(e,t){e=e.selfCertification,t=t.selfCertification;return t.revoked-e.revoked||e.isPrimaryUserID-t.isPrimaryUserID||e.created-t.created}).pop();const u=e.user,c=e.selfCertification;if(c.revoked||await u.isRevoked(n,c,null,t))throw new Error("Primary user is revoked");return e},c.prototype.update=async function(r){if(!this.hasSameFingerprintAs(r))throw new Error("Key update method: fingerprints of keys not equal");if(this.isPublic()&&r.isPrivate()){if(!(this.subKeys.length===r.subKeys.length&&this.subKeys.every(t=>r.subKeys.some(e=>t.hasSameFingerprintAs(e)))))throw new Error("Cannot update public key with private key if subkey mismatch");this.keyPacket=r.keyPacket}await f.mergeSignatures(r,this,"revocationSignatures",e=>f.isDataRevoked(this.keyPacket,l.default.signature.key_revocation,this,[e],null,r.keyPacket)),await f.mergeSignatures(r,this,"directSignatures"),await Promise.all(r.users.map(async t=>{let r=!1;await Promise.all(this.users.map(async e=>{(t.userId&&e.userId&&t.userId.userid===e.userId.userid||t.userAttribute&&t.userAttribute.equals(e.userAttribute))&&(await e.update(t,this.keyPacket),r=!0)})),r||this.users.push(t)})),await Promise.all(r.subKeys.map(async t=>{let r=!1;await Promise.all(this.subKeys.map(async e=>{e.hasSameFingerprintAs(t)&&(await e.update(t,this.keyPacket),r=!0)})),r||this.subKeys.push(t)}))},c.prototype.revoke=async function({flag:e=l.default.reasonForRevocation.no_reason,string:t=""}={},r=new Date){if(this.isPublic())throw new Error("Need private key for revoking");var n={key:this.keyPacket};const a=new c(this.toPacketlist());return a.revocationSignatures.push(await f.createSignaturePacket(n,null,this.keyPacket,{signatureType:l.default.signature.key_revocation,reasonForRevocationFlag:l.default.write(l.default.reasonForRevocation,e),reasonForRevocationString:t},r)),a},c.prototype.getRevocationCertificate=async function(e=new Date){var t={key:this.keyPacket},e=await f.getLatestValidSignature(this.revocationSignatures,this.keyPacket,l.default.signature.key_revocation,t,e);const r=new s.default.List;return r.push(e),a.default.encode(l.default.armor.public_key,r.write(),null,null,"This is a revocation certificate")},c.prototype.applyRevocationCertificate=async function(e){e=await a.default.decode(e);const t=new s.default.List;await t.read(e.data);const r=t.findPacket(l.default.packet.signature);if(!r||r.signatureType!==l.default.signature.key_revocation)throw new Error("Could not find revocation signature packet");if(!r.issuerKeyId.equals(this.getKeyId()))throw new Error("Revocation signature does not match key");if(r.isExpired())throw new Error("Revocation signature is expired");try{await r.verify(this.keyPacket,l.default.signature.key_revocation,{key:this.keyPacket})}catch(e){throw u.default.wrapError("Could not verify revocation signature",e)}const n=new c(this.toPacketlist());return n.revocationSignatures.push(r),n},c.prototype.signPrimaryUser=async function(e,t,r){r=await this.getPrimaryUser(t,r);const n=r.index,a=r.user;e=await a.sign(this.keyPacket,e);const i=new c(this.toPacketlist());return i.users[n]=e,i},c.prototype.signAllUsers=async function(t){const r=this,e=new c(this.toPacketlist());return e.users=await Promise.all(this.users.map(function(e){return e.sign(r.keyPacket,t)})),e},c.prototype.verifyPrimaryUser=async function(e,t,r){var n=this.keyPacket;const a=(await this.getPrimaryUser(t,r)).user;return e?await a.verifyAllCertifications(n,e):[{keyid:n.keyid,valid:await a.verify(n).catch(()=>!1)}]},c.prototype.verifyAllUsers=async function(r){const n=[],a=this.keyPacket;return await Promise.all(this.users.map(async function(t){const e=r?await t.verifyAllCertifications(a,r):[{keyid:a.keyid,valid:await t.verify(a).catch(()=>!1)}];e.forEach(e=>{n.push({userid:t.userId.userid,keyid:e.keyid,valid:e.valid})})})),n},c.prototype.addSubkey=async function(e={}){if(!this.isPrivate())throw new Error("Cannot add a subkey to a public key");if(e.passphrase)throw new Error("Subkey could not be encrypted here, please encrypt whole key");if(u.default.getWebCryptoAll()&&e.rsaBits<2048)throw new Error("When using webCrypto rsaBits should be 2048 or 4096, found: "+e.rsaBits);const t=this.primaryKey;if(!t.isDecrypted())throw new Error("Key is not decrypted");var r=t.getAlgorithmInfo();e=f.sanitizeKeyOptions(e,r);r=await f.generateSecretSubkey(e),e=await f.createBindingSignature(r,t,e);const n=this.toPacketlist();return n.push(r),n.push(e),new c(n)},["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted","hasSameFingerprintAs"].forEach(e=>{c.prototype[e]=o.default.prototype[e]})},{"../encoding/armor":111,"../enums":113,"../packet":131,"../util":158,"./helper":117,"./subkey":120,"./user":121}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var s=a(e("../enums")),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./helper")),n=a(e("../packet"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if(!(this instanceof u))return new u(e);this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[]}u.prototype.toPacketlist=function(){const e=new n.default.List;return e.push(this.keyPacket),e.concat(this.revocationSignatures),e.concat(this.bindingSignatures),e},u.prototype.isRevoked=async function(e,t,r,n=new Date){return o.isDataRevoked(e,s.default.signature.subkey_revocation,{key:e,bind:this.keyPacket},this.revocationSignatures,t,r,n)},u.prototype.verify=async function(e,t=new Date){var r={key:e,bind:this.keyPacket},r=await o.getLatestValidSignature(this.bindingSignatures,e,s.default.signature.subkey_binding,r,t);if(r.revoked||await this.isRevoked(e,r,null,t))throw new Error("Subkey is revoked");if(o.isDataExpired(this.keyPacket,r,t))throw new Error("Subkey is expired")},u.prototype.getExpirationTime=async function(e,t=new Date){var r={key:e,bind:this.keyPacket};let n;try{n=await o.getLatestValidSignature(this.bindingSignatures,e,s.default.signature.subkey_binding,r,t)}catch(e){return null}r=o.getExpirationTime(this.keyPacket,n),t=n.getExpirationTime();return r<t?r:t},u.prototype.update=async function(e,r){if(!this.hasSameFingerprintAs(e))throw new Error("SubKey update method: fingerprints of subkeys not equal");this.keyPacket.tag===s.default.packet.publicSubkey&&e.keyPacket.tag===s.default.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const n=this,a={key:r,bind:n.keyPacket};await o.mergeSignatures(e,this,"bindingSignatures",async function(t){for(let e=0;e<n.bindingSignatures.length;e++)if(n.bindingSignatures[e].issuerKeyId.equals(t.issuerKeyId))return t.created>n.bindingSignatures[e].created&&(n.bindingSignatures[e]=t),!1;try{return t.verified||await t.verify(r,s.default.signature.subkey_binding,a)}catch(e){return!1}}),await o.mergeSignatures(e,this,"revocationSignatures",function(e){return o.isDataRevoked(r,s.default.signature.subkey_revocation,a,[e])})},u.prototype.revoke=async function(e,{flag:t=s.default.reasonForRevocation.no_reason,string:r=""}={},n=new Date){var a={key:e,bind:this.keyPacket};const i=new u(this.keyPacket);return i.revocationSignatures.push(await o.createSignaturePacket(a,null,e,{signatureType:s.default.signature.subkey_revocation,reasonForRevocationFlag:s.default.write(s.default.reasonForRevocation,t),reasonForRevocationString:r},n)),await i.update(this,e),i},["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(e=>{u.prototype[e]=function(){return this.keyPacket[e]()}}),u.prototype.hasSameFingerprintAs=function(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}},{"../enums":113,"../packet":131,"./helper":117}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var u=i(e("../enums")),c=i(e("../util")),n=i(e("../packet")),a=e("./helper");function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(!(this instanceof s))return new s(e);this.userId=e.tag===u.default.packet.userid?e:null,this.userAttribute=e.tag===u.default.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[]}s.prototype.toPacketlist=function(){const e=new n.default.List;return e.push(this.userId||this.userAttribute),e.concat(this.revocationSignatures),e.concat(this.selfCertifications),e.concat(this.otherCertifications),e},s.prototype.sign=async function(r,e){const n={userId:this.userId,userAttribute:this.userAttribute,key:r},t=new s(n.userId||n.userAttribute);return t.otherCertifications=await Promise.all(e.map(async function(e){if(e.isPublic())throw new Error("Need private key for signing");if(e.hasSameFingerprintAs(r))throw new Error("Not implemented for self signing");var t=await e.getSigningKey();return(0,a.createSignaturePacket)(n,e,t.keyPacket,{signatureType:u.default.signature.cert_generic,keyFlags:[u.default.keyFlags.certify_keys|u.default.keyFlags.sign_data]})})),await t.update(this,r),t},s.prototype.isRevoked=async function(e,t,r,n=new Date){return(0,a.isDataRevoked)(e,u.default.signature.cert_revocation,{key:e,userId:this.userId,userAttribute:this.userAttribute},this.revocationSignatures,t,r,n)},s.prototype.verifyCertificate=async function(t,r,e,n=new Date){const a=this,i=r.issuerKeyId,s={userId:this.userId,userAttribute:this.userAttribute,key:t},o=await Promise.all(e.map(async function(e){if(!e.getKeyIds().some(e=>e.equals(i)))return null;e=await e.getSigningKey(i,n);if(r.revoked||await a.isRevoked(t,r,e.keyPacket,n))throw new Error("User certificate is revoked");try{r.verified||await r.verify(e.keyPacket,u.default.signature.cert_generic,s)}catch(e){throw c.default.wrapError("User certificate is invalid",e)}if(r.isExpired(n))throw new Error("User certificate is expired");return!0}));return o.find(e=>null!==e)||null},s.prototype.verifyAllCertifications=async function(t,r,n=new Date){const a=this,e=this.selfCertifications.concat(this.otherCertifications);return Promise.all(e.map(async function(e){return{keyid:e.issuerKeyId,valid:await a.verifyCertificate(t,e,r,n).catch(()=>!1)}}))},s.prototype.verify=async function(t,r=new Date){if(!this.selfCertifications.length)throw new Error("No self-certifications");var n={userId:this.userId,userAttribute:this.userAttribute,key:t};let a;for(let e=this.selfCertifications.length-1;0<=e;e--)try{const i=this.selfCertifications[e];if(i.revoked||await this.isRevoked(t,i,void 0,r))throw new Error("Self-certification is revoked");try{i.verified||await i.verify(t,u.default.signature.cert_generic,n)}catch(e){throw c.default.wrapError("Self-certification is invalid",e)}if(i.isExpired(r))throw new Error("Self-certification is expired");return!0}catch(e){a=e}throw a},s.prototype.update=async function(e,t){const r={userId:this.userId,userAttribute:this.userAttribute,key:t};await(0,a.mergeSignatures)(e,this,"selfCertifications",async function(e){try{return e.verified||e.verify(t,u.default.signature.cert_generic,r)}catch(e){return!1}}),await(0,a.mergeSignatures)(e,this,"otherCertifications"),await(0,a.mergeSignatures)(e,this,"revocationSignatures",function(e){return(0,a.isDataRevoked)(t,u.default.signature.cert_revocation,r,[e])})}},{"../enums":113,"../packet":131,"../util":158,"./helper":117}],122:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("./keyring.js")),e=a(e("./localstore.js"));function a(e){return e&&e.__esModule?e:{default:e}}n.default.localstore=e.default,r.default=n.default},{"./keyring.js":123,"./localstore.js":124}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("../key"),a=e("./localstore"),s=(n=a)&&n.__esModule?n:{default:n};function o(e){this.storeHandler=e||new s.default}function u(e){this.keys=e}function c(e,t){return 16===e.length?e===t.getKeyId().toHex():e===t.getFingerprint()}o.prototype.load=async function(){this.publicKeys=new u(await this.storeHandler.loadPublic()),this.privateKeys=new u(await this.storeHandler.loadPrivate())},o.prototype.store=async function(){await Promise.all([this.storeHandler.storePublic(this.publicKeys.keys),this.storeHandler.storePrivate(this.privateKeys.keys)])},o.prototype.clear=function(){this.publicKeys.keys=[],this.privateKeys.keys=[]},o.prototype.getKeysForId=function(e,t){let r=[];return r=r.concat(this.publicKeys.getForId(e,t)||[]),r=r.concat(this.privateKeys.getForId(e,t)||[]),r.length?r:null},o.prototype.removeKeysForId=function(e){let t=[];return t=t.concat(this.publicKeys.removeForId(e)||[]),t=t.concat(this.privateKeys.removeForId(e)||[]),t.length?t:null},o.prototype.getAllKeys=function(){return this.publicKeys.keys.concat(this.privateKeys.keys)},u.prototype.getForAddress=function(t){const r=[];for(let e=0;e<this.keys.length;e++)!function(t,e){const r=(t=t.toLowerCase()).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp("<"+r+">"),a=e.getUserIds();for(let e=0;e<a.length;e++){var i=a[e].toLowerCase();if(t===i||n.test(i))return!0}return!1}(t,this.keys[e])||r.push(this.keys[e]);return r},u.prototype.getForId=function(r,e){for(let t=0;t<this.keys.length;t++){if(c(r,this.keys[t]))return this.keys[t];if(e&&this.keys[t].subKeys.length)for(let e=0;e<this.keys[t].subKeys.length;e++)if(c(r,this.keys[t].subKeys[e]))return this.keys[t]}return null},u.prototype.importKey=async function(e){var t=await(0,i.readArmored)(e);for(let e=0;e<t.keys.length;e++){const n=t.keys[e];var r=n.getKeyId().toHex();const a=this.getForId(r);a?await a.update(n):this.push(n)}return t.err||null},u.prototype.push=function(e){return this.keys.push(e)},u.prototype.removeForId=function(t){for(let e=0;e<this.keys.length;e++)if(c(t,this.keys[e]))return this.keys.splice(e,1)[0];return null},r.default=o},{"../key":118,"./localstore":124}],124:[function(c,e,l){!function(t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var n=e(c("web-stream-tools")),r=e(c("../config")),i=c("../key"),s=e(c("../util"));function e(e){return e&&e.__esModule?e:{default:e}}function a(e){this.publicKeysItem=(e=e||"openpgp-")+this.publicKeysItem,this.privateKeysItem=e+this.privateKeysItem,void 0!==t&&t.localStorage?this.storage=t.localStorage:this.storage=new(c("node-localstorage").LocalStorage)(r.default.node_store)}async function o(e,t){var r,n=JSON.parse(e.getItem(t));const a=[];if(null!==n&&0!==n.length)for(let e=0;e<n.length;e++)(r=await(0,i.readArmored)(n[e])).err?s.default.print_debug("Error reading armored key from keyring index: "+e):a.push(r.keys[0]);return a}async function u(e,t,r){r.length?(r=await Promise.all(r.map(e=>n.default.readToEnd(e.armor()))),e.setItem(t,JSON.stringify(r))):e.removeItem(t)}a.prototype.publicKeysItem="public-keys",a.prototype.privateKeysItem="private-keys",a.prototype.loadPublic=async function(){return o(this.storage,this.publicKeysItem)},a.prototype.loadPrivate=async function(){return o(this.storage,this.privateKeysItem)},a.prototype.storePublic=async function(e){await u(this.storage,this.publicKeysItem,e)},a.prototype.storePrivate=async function(e){await u(this.storage,this.privateKeysItem,e)},l.default=a}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../config":79,"../key":118,"../util":158,"node-localstorage":"node-localstorage","web-stream-tools":75}],125:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.loadScript=n=>"undefined"!=typeof importScripts?importScripts(n):new Promise((e,t)=>{const r=document.createElement("script");r.src=n,r.onload=()=>e(),r.onerror=e=>t(new Error(e.message)),document.head.appendChild(r)}),r.dl=async function(e,t){const r=await fetch(e,t);return r.arrayBuffer()}},{}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Message=g,r.encryptSessionKey=w,r.createSignaturePackets=v,r.createVerificationObjects=o,r.readArmored=async function(e){var t=y.default.isStream(e);"node"===t&&(e=u.default.nodeToWeb(e));e=await n.default.decode(e);return i(e.data,t)},r.read=i,r.fromText=function(e,t,r=new Date,n="utf8"){var a=y.default.isStream(e);"node"===a&&(e=u.default.nodeToWeb(e));const i=new b.default.Literal(r);i.setText(e,n),void 0!==t&&i.setFilename(t);const s=new b.default.List;s.push(i);const o=new g(s);return o.fromStream=a,o},r.fromBinary=function(e,t,r=new Date,n="binary"){var a=y.default.isStream(e);if(!y.default.isUint8Array(e)&&!a)throw new Error("Data must be in the form of a Uint8Array or Stream");"node"===a&&(e=u.default.nodeToWeb(e));const i=new b.default.Literal(r);i.setBytes(e,n),void 0!==t&&i.setFilename(t);const s=new b.default.List;s.push(i);const o=new g(s);return o.fromStream=a,o};var u=a(e("web-stream-tools")),n=a(e("./encoding/armor")),d=a(e("./type/keyid")),h=a(e("./config")),f=a(e("./crypto")),p=a(e("./enums")),y=a(e("./util")),b=a(e("./packet")),l=e("./signature"),m=e("./key");function a(e){return e&&e.__esModule?e:{default:e}}function g(e){if(!(this instanceof g))return new g(e);this.packets=e||new b.default.List}async function w(n,a,t,e,o,i=!1,s=new Date,u=[]){const r=new b.default.List;if(e&&(c=await Promise.all(e.map(async function(e){const t=await e.getEncryptionKey(void 0,s,u),r=new b.default.PublicKeyEncryptedSessionKey;return r.publicKeyId=i?d.default.wildcard():t.getKeyId(),r.publicKeyAlgorithm=t.keyPacket.algorithm,r.sessionKey=n,r.sessionKeyAlgorithm=a,await r.encrypt(t.keyPacket),delete r.sessionKey,r})),r.concat(c)),o){const l=(e,t)=>e+t,f=async function e(t,r,n,a){const i=new b.default.SymEncryptedSessionKey;if(i.sessionKey=t,i.sessionKeyAlgorithm=r,n&&(i.aeadAlgorithm=n),await i.encrypt(a),h.default.password_collision_check){const s=await Promise.all(o.map(e=>async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}}(i,e)));if(1!==s.reduce(l))return e(t,r,a)}return delete i.sessionKey,i};var c=await Promise.all(o.map(e=>f(n,a,t,e)));r.concat(c)}return new g(r)}async function v(n,e,t=null,a=new Date,i=[],s=!1,o=!1){const r=new b.default.List,u=null===n.text?p.default.signature.binary:p.default.signature.text;return await Promise.all(e.map(async(e,t)=>{var r=i[t];if(e.isPublic())throw new Error("Need private key for signing");t=await e.getSigningKey(void 0,a,r);return(0,m.createSignaturePacket)(n,e,t.keyPacket,{signatureType:u},a,r,s,o)})).then(e=>{e.forEach(e=>r.push(e))}),t&&(t=t.packets.filterByTag(p.default.packet.signature),r.concat(t)),r}async function o(e,t,r,n=new Date,a=!1,i=!1){return Promise.all(e.filter(function(e){return["text","binary"].includes(p.default.read(p.default.signature,e.signatureType))}).map(async function(e){return async function(r,n,e,a=new Date,i=!1,s=!1){let o=null,u=null;await Promise.all(e.map(async function(e){try{u=await e.getSigningKey(r.issuerKeyId,null),o=e}catch(e){}}));const c=r.correspondingSig||r,t={keyid:r.issuerKeyId,verified:(async()=>{if(!u)return null;var e=await r.verify(u.keyPacket,r.signatureType,n[0],i,s);const t=await c;if(t.isExpired(a)||!(t.created>=u.getCreationTime()&&t.created<await(u===o?u.getExpirationTime():u.getExpirationTime(o,a))))throw new Error("Signature is expired");return e})(),signature:(async()=>{var e=await c;const t=new b.default.List;return t.push(e),new l.Signature(t)})()};return t.signature.catch(()=>{}),t.verified.catch(()=>{}),t}(e,t,r,n,a,i)}))}async function i(e,t=y.default.isStream(e)){"node"===y.default.isStream(e)&&(e=u.default.nodeToWeb(e));const r=new b.default.List;await r.read(e,t);const n=new g(r);return n.fromStream=t,n}g.prototype.getEncryptionKeyIds=function(){const t=[],e=this.packets.filterByTag(p.default.packet.publicKeyEncryptedSessionKey);return e.forEach(function(e){t.push(e.publicKeyId)}),t},g.prototype.getSigningKeyIds=function(){const t=[],e=this.unwrapCompressed(),r=e.packets.filterByTag(p.default.packet.onePassSignature);if(r.forEach(function(e){t.push(e.issuerKeyId)}),!t.length){const n=e.packets.filterByTag(p.default.packet.signature);n.forEach(function(e){t.push(e.issuerKeyId)})}return t},g.prototype.decrypt=async function(e,t,r,n){const a=r||await this.decryptSessionKeys(e,t);t=this.packets.filterByTag(p.default.packet.symmetricallyEncrypted,p.default.packet.symEncryptedIntegrityProtected,p.default.packet.symEncryptedAEADProtected);if(0===t.length)return this;const i=t[0];let s=null;t=Promise.all(a.map(async e=>{if(!e||!y.default.isUint8Array(e.data)||!y.default.isString(e.algorithm))throw new Error("Invalid session key for decryption.");try{await i.decrypt(e.algorithm,e.data,n)}catch(e){y.default.print_debug_error(e),s=e}}));if(u.default.cancel(i.encrypted),i.encrypted=null,await t,!i.packets||!i.packets.length)throw s||new Error("Decryption failed.");t=new g(i.packets);return i.packets=new b.default.List,t},g.prototype.decryptSessionKeys=async function(e,t){let i=[],s;if(t){const n=this.packets.filterByTag(p.default.packet.symEncryptedSessionKey);if(!n)throw new Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map(async function(t,e){let r;e?(r=new b.default.List,await r.read(n.write())):r=n,await Promise.all(r.map(async function(e){try{await e.decrypt(t),i.push(e)}catch(e){y.default.print_debug_error(e)}}))}))}else{if(!e)throw new Error("No key or password specified.");{const r=this.packets.filterByTag(p.default.packet.publicKeyEncryptedSessionKey);if(!r)throw new Error("No public key encrypted session key packet found.");await Promise.all(r.map(async function(a){await Promise.all(e.map(async function(e){let t=[p.default.symmetric.aes256,p.default.symmetric.aes128,p.default.symmetric.tripledes,p.default.symmetric.cast5];try{var r=await e.getPrimaryUser();r.selfCertification.preferredSymmetricAlgorithms&&(t=t.concat(r.selfCertification.preferredSymmetricAlgorithms))}catch(e){}const n=(await e.getDecryptionKeys(a.publicKeyId,null)).map(e=>e.keyPacket);await Promise.all(n.map(async function(e){if(e){if(!e.isDecrypted())throw new Error("Private key is not decrypted.");try{if(await a.decrypt(e),!t.includes(p.default.write(p.default.symmetric,a.sessionKeyAlgorithm)))throw new Error("A non-preferred symmetric algorithm was used.");i.push(a)}catch(e){y.default.print_debug_error(e),s=e}}}))})),u.default.cancel(a.encrypted),a.encrypted=null}))}}if(i.length){if(1<i.length){const a={};i=i.filter(function(e){e=e.sessionKeyAlgorithm+y.default.Uint8Array_to_str(e.sessionKey);return!a.hasOwnProperty(e)&&(a[e]=!0)})}return i.map(e=>({data:e.sessionKey,algorithm:e.sessionKeyAlgorithm}))}throw s||new Error("Session key decryption failed.")},g.prototype.getLiteralData=function(){const e=this.unwrapCompressed(),t=e.packets.findPacket(p.default.packet.literal);return t&&t.getBytes()||null},g.prototype.getFilename=function(){const e=this.unwrapCompressed(),t=e.packets.findPacket(p.default.packet.literal);return t&&t.getFilename()||null},g.prototype.getText=function(){const e=this.unwrapCompressed(),t=e.packets.findPacket(p.default.packet.literal);return t?t.getText():null},g.prototype.encrypt=async function(e,t,r,n=!1,a=new Date,i=[],s){let o,u,c;if(r){if(!y.default.isUint8Array(r.data)||!y.default.isString(r.algorithm))throw new Error("Invalid session key for encryption.");o=r.algorithm,u=r.aeadAlgorithm,r=r.data}else if(e&&e.length)o=p.default.read(p.default.symmetric,await(0,m.getPreferredAlgo)("symmetric",e,a,i)),h.default.aead_protect&&await(0,m.isAeadSupported)(e,a,i)&&(u=p.default.read(p.default.aead,await(0,m.getPreferredAlgo)("aead",e,a,i)));else{if(!t||!t.length)throw new Error("No keys, passwords, or session key provided.");o=p.default.read(p.default.symmetric,h.default.encryption_cipher),u=p.default.read(p.default.aead,h.default.aead_mode)}const l=await w(r=r||await f.default.generateSessionKey(o),o,u,e,t,n,a,i);return h.default.aead_protect&&u?(c=new b.default.SymEncryptedAEADProtected,c.aeadAlgorithm=u):c=new(h.default.integrity_protect?b.default.SymEncryptedIntegrityProtected:b.default.SymmetricallyEncrypted),c.packets=this.packets,await c.encrypt(o,r,s),l.packets.push(c),c.packets=new b.default.List,{message:l,sessionKey:{data:r,algorithm:o,aeadAlgorithm:u}}},g.prototype.sign=async function(a=[],e=null,i=new Date,s=[],t=!1){const r=new b.default.List;var n,o=this.packets.findPacket(p.default.packet.literal);if(!o)throw new Error("No literal data packet to sign.");let u;const c=null===o.text?p.default.signature.binary:p.default.signature.text;if(e)for(n=e.packets.filterByTag(p.default.packet.signature),u=n.length-1;0<=u;u--){var l=n[u];const f=new b.default.OnePassSignature;f.signatureType=l.signatureType,f.hashAlgorithm=l.hashAlgorithm,f.publicKeyAlgorithm=l.publicKeyAlgorithm,f.issuerKeyId=l.issuerKeyId,a.length||0!==u||(f.flags=1),r.push(f)}return await Promise.all(Array.from(a).reverse().map(async function(e,t){if(e.isPublic())throw new Error("Need private key for signing");const r=await e.getSigningKey(void 0,i,s),n=new b.default.OnePassSignature;return n.signatureType=c,n.hashAlgorithm=await(0,m.getPreferredHashAlgo)(e,r.keyPacket,i,s),n.publicKeyAlgorithm=r.keyPacket.algorithm,n.issuerKeyId=r.getKeyId(),t===a.length-1&&(n.flags=1),n})).then(e=>{e.forEach(e=>r.push(e))}),r.push(o),r.concat(await v(o,a,e,i,s,!1,t)),new g(r)},g.prototype.compress=function(e){if(e===p.default.compression.uncompressed)return this;const t=new b.default.Compressed;t.packets=this.packets,t.algorithm=p.default.read(p.default.compression,e);const r=new b.default.List;return r.push(t),new g(r)},g.prototype.signDetached=async function(e=[],t=null,r=new Date,n=[],a=!1){var i=this.packets.findPacket(p.default.packet.literal);if(!i)throw new Error("No literal data packet to sign.");return new l.Signature(await v(i,e,t,r,n,!0,a))},g.prototype.verify=async function(e,t=new Date,n){const r=this.unwrapCompressed(),a=r.packets.filterByTag(p.default.packet.literal);if(1!==a.length)throw new Error("Can only verify message with one literal data packet.");n||r.packets.concat(await u.default.readToEnd(r.packets.stream,e=>e));const i=r.packets.filterByTag(p.default.packet.onePassSignature).reverse();var s=r.packets.filterByTag(p.default.packet.signature);return n&&i.length&&!s.length&&r.packets.stream?(await Promise.all(i.map(async r=>{r.correspondingSig=new Promise((e,t)=>{r.correspondingSigResolve=e,r.correspondingSigReject=t}),r.signatureData=u.default.fromAsync(async()=>(await r.correspondingSig).signatureData),r.hashed=u.default.readToEnd(await r.hash(r.signatureType,a[0],void 0,!1,n)),r.hashed.catch(()=>{})})),r.packets.stream=u.default.transformPair(r.packets.stream,async(e,t)=>{const r=u.default.getReader(e),n=u.default.getWriter(t);try{for(let e=0;e<i.length;e++){var a=(await r.read()).value;i[e].correspondingSigResolve(a)}await r.readToEnd(),await n.ready,await n.close()}catch(t){i.forEach(e=>{e.correspondingSigReject(t)}),await n.abort(t)}}),o(i,a,e,t,!1,n)):o(s,a,e,t,!1,n)},g.prototype.verifyDetached=function(e,t,r=new Date){const n=this.unwrapCompressed();var a=n.packets.filterByTag(p.default.packet.literal);if(1!==a.length)throw new Error("Can only verify message with one literal data packet.");return o(e.packets,a,t,r,!0)},g.prototype.unwrapCompressed=function(){var e=this.packets.filterByTag(p.default.packet.compressed);return e.length?new g(e[0].packets):this},g.prototype.appendSignature=async function(e){await this.packets.read(y.default.isUint8Array(e)?e:(await n.default.decode(e)).data)},g.prototype.armor=function(){return n.default.encode(p.default.armor.message,this.packets.write())}},{"./config":79,"./crypto":94,"./encoding/armor":111,"./enums":113,"./key":118,"./packet":131,"./signature":151,"./type/keyid":154,"./util":158,"web-stream-tools":75}],127:[function(r,e,n){!function(a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initWorker=async function({path:e="openpgp.worker.js",n:t=1,workers:r=[]}={}){if(r.length||void 0!==a&&a.Worker&&a.MessageChannel){const n=new i.default({path:e,n:t,workers:r,config:m.default});if(await n.loaded())return g=n,!0}return!1},n.getWorker=function(){return g},n.destroyWorker=async function(){const e=g;g=void 0,e&&(await e.clearKeyCache(),e.terminate())},n.generateKey=function({userIds:e=[],passphrase:t="",numBits:r=2048,rsaBits:n=r,keyExpirationTime:a=0,curve:i="",date:s=new Date,subkeys:o=[{}]}){o={userIds:e=v(e),passphrase:t,rsaBits:n,keyExpirationTime:a,curve:i,date:s,subkeys:o};if(f.default.getWebCryptoAll()&&n<2048)throw new Error("rsaBits should be 2048 or 4096, found: "+n);return f.default.getWebCryptoAll()||!g?(0,l.generate)(o).then(async e=>{var t=await e.getRevocationCertificate(s);return e.revocationSignatures=[],_({key:e,privateKeyArmored:e.armor(),publicKeyArmored:e.toPublic().armor(),revocationCertificate:t})}).catch(k.bind(null,"Error generating keypair")):g.delegate("generateKey",o)},n.reformatKey=function({privateKey:e,userIds:t=[],passphrase:r="",keyExpirationTime:n=0,date:a}){t=v(t);n={privateKey:e,userIds:t,passphrase:r,keyExpirationTime:n,date:a};if(g)return g.delegate("reformatKey",n);return(0,l.reformat)(n).then(async e=>{var t=await e.getRevocationCertificate(a);return e.revocationSignatures=[],_({key:e,privateKeyArmored:e.armor(),publicKeyArmored:e.toPublic().armor(),revocationCertificate:t})}).catch(k.bind(null,"Error reformatting keypair"))},n.revokeKey=function({key:e,revocationCertificate:t,reasonForRevocation:r}={}){var n={key:e,revocationCertificate:t,reasonForRevocation:r};return f.default.getWebCryptoAll()||!g?Promise.resolve().then(()=>t?e.applyRevocationCertificate(t):e.revoke(r)).then(async e=>{if(await _(e),e.isPrivate()){const t=e.toPublic();return{privateKey:e,privateKeyArmored:e.armor(),publicKey:t,publicKeyArmored:t.armor()}}return{publicKey:e,publicKeyArmored:e.armor()}}).catch(k.bind(null,"Error revoking key")):g.delegate("revokeKey",n)},n.decryptKey=function({privateKey:e,passphrase:t}){if(g)return g.delegate("decryptKey",{privateKey:e,passphrase:t});return Promise.resolve().then(async function(){return await e.decrypt(t),{key:e}}).catch(k.bind(null,"Error decrypting private key"))},n.encryptKey=function({privateKey:e,passphrase:t}){if(g)return g.delegate("encryptKey",{privateKey:e,passphrase:t});return Promise.resolve().then(async function(){return await e.encrypt(t),{key:e}}).catch(k.bind(null,"Error decrypting private key"))},n.encrypt=function({message:t,publicKeys:r,privateKeys:n,passwords:a,sessionKey:i,compression:s=m.default.compression,armor:o=!0,streaming:u=t&&t.fromStream,detached:c=!1,signature:l=null,returnSessionKey:f=!1,wildcard:d=!1,date:h=new Date,fromUserIds:p=[],toUserIds:y=[]}){if(w(t),r=v(r),n=v(n),a=v(a),p=v(p),y=v(y),!A()&&g)return g.delegate("encrypt",{message:t,publicKeys:r,privateKeys:n,passwords:a,sessionKey:i,compression:s,armor:o,streaming:u,detached:c,signature:l,returnSessionKey:f,wildcard:d,date:h,fromUserIds:p,toUserIds:y});const b={};return Promise.resolve().then(async function(){if((n=n||[]).length||l)if(c){const e=await t.signDetached(n,l,h,p,t.fromStream);b.signature=o?e.armor():e}else t=await t.sign(n,l,h,p,t.fromStream);return(t=t.compress(s)).encrypt(r,a,i,d,h,y,u)}).then(async e=>(o?b.data=e.message.armor():b.message=e.message,f&&(b.sessionKey=e.sessionKey),_(b,u,o?["signature","data"]:[]))).catch(k.bind(null,"Error encrypting message"))},n.decrypt=function({message:r,privateKeys:e,passwords:t,sessionKeys:n,publicKeys:a,format:i="utf8",streaming:s=r&&r.fromStream,signature:o=null,date:u=new Date}){return w(r),a=v(a),e=v(e),t=v(t),n=v(n),A()||!g?r.decrypt(e,t,n,s).then(async function(e){a=a||[];const t={};return t.signatures=o?await e.verifyDetached(o,a,u,s):await e.verify(a,u,s),t.data="binary"===i?e.getLiteralData():e.getText(),t.filename=e.getFilename(),s&&p(t,r),t.data=await h(t.data,s),s||await y(t.signatures),t}).catch(k.bind(null,"Error decrypting message")):g.delegate("decrypt",{message:r,privateKeys:e,passwords:t,sessionKeys:n,publicKeys:a,format:i,streaming:s,signature:o,date:u})},n.sign=function({message:t,privateKeys:r,armor:n=!0,streaming:a=t&&t.fromStream,detached:i=!1,date:s=new Date,fromUserIds:o=[]}){if(d(t),r=v(r),o=v(o),g)return g.delegate("sign",{message:t,privateKeys:r,armor:n,streaming:a,detached:i,date:s,fromUserIds:o});const u={};return Promise.resolve().then(async function(){if(i){const e=await t.signDetached(r,void 0,s,o,t.fromStream);u.signature=n?e.armor():e,t.packets&&(u.signature=c.default.transformPair(t.packets.write(),async(e,t)=>{await Promise.all([c.default.pipe(u.signature,t),c.default.readToEnd(e).catch(()=>{})])}))}else t=await t.sign(r,void 0,s,o,t.fromStream),n?u.data=t.armor():u.message=t;return _(u,a,n?["signature","data"]:[])}).catch(k.bind(null,"Error signing cleartext message"))},n.verify=function({message:t,publicKeys:r,streaming:n=t&&t.fromStream,signature:a=null,date:i=new Date}){if(d(t),r=v(r),g)return g.delegate("verify",{message:t,publicKeys:r,streaming:n,signature:a,date:i});return Promise.resolve().then(async function(){const e={};return e.signatures=a?await t.verifyDetached(a,r,i,n):await t.verify(r,i,n),e.data=t instanceof s.CleartextMessage?t.getText():t.getLiteralData(),n&&p(e,t),e.data=await h(e.data,n),n||await y(e.signatures),e}).catch(k.bind(null,"Error verifying cleartext signed message"))},n.encryptSessionKey=function({data:e,algorithm:t,aeadAlgorithm:r,publicKeys:n,passwords:a,wildcard:i=!1,date:s=new Date,toUserIds:o=[]}){if(function(e,t){if(!f.default.isUint8Array(e))throw new Error("Parameter ["+(t||"data")+"] must be of type Uint8Array")}(e),function(e,t){if(!f.default.isString(e))throw new Error("Parameter ["+(t||"data")+"] must be of type String")}(t,"algorithm"),n=v(n),a=v(a),o=v(o),g)return g.delegate("encryptSessionKey",{data:e,algorithm:t,aeadAlgorithm:r,publicKeys:n,passwords:a,wildcard:i,date:s,toUserIds:o});return Promise.resolve().then(async function(){return{message:await u.encryptSessionKey(e,t,r,n,a,i,s,o)}}).catch(k.bind(null,"Error encrypting session key"))},n.decryptSessionKeys=function({message:e,privateKeys:t,passwords:r}){if(w(e),t=v(t),r=v(r),g)return g.delegate("decryptSessionKeys",{message:e,privateKeys:t,passwords:r});return Promise.resolve().then(async function(){return e.decryptSessionKeys(t,r)}).catch(k.bind(null,"Error decrypting session keys"))};var c=t(r("web-stream-tools")),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r("./message")),s=r("./cleartext"),l=r("./key"),m=t(r("./config/config")),e=t(r("./enums"));r("./polyfills");var f=t(r("./util")),i=t(r("./worker/async_proxy"));function t(e){return e&&e.__esModule?e:{default:e}}let g;function w(e){if(!(e instanceof u.Message))throw new Error("Parameter [message] needs to be of type Message")}function d(e){if(!(e instanceof s.CleartextMessage||e instanceof u.Message))throw new Error("Parameter [message] needs to be of type Message or CleartextMessage")}function v(e){return e=e&&!f.default.isArray(e)?[e]:e}async function h(t,e){return!e&&f.default.isStream(t)?c.default.readToEnd(t):(e&&!f.default.isStream(t)&&(t=new ReadableStream({start(e){e.enqueue(t),e.close()}})),t="node"===e?c.default.webToNode(t):t)}async function _(r,n,a=[]){return Object.prototype.isPrototypeOf(r)&&!Uint8Array.prototype.isPrototypeOf(r)&&await Promise.all(Object.entries(r).map(async([e,t])=>{f.default.isStream(t)||a.includes(e)?r[e]=await h(t,n):await _(r[e],n)})),r}function p(r,e){r.data=c.default.transformPair(e.packets.stream,async(e,t)=>{await c.default.pipe(r.data,t)})}async function y(e){await Promise.all(e.map(async t=>{t.signature=await t.signature;try{t.valid=await t.verified}catch(e){t.valid=!1,t.error=e,f.default.print_debug_error(e)}}))}function k(e,t){f.default.print_debug_error(t);try{t.message=e+": "+t.message}catch(e){}throw t}function A(){return m.default.aead_protect&&(m.default.aead_mode===e.default.aead.eax||m.default.aead_mode===e.default.aead.experimental_gcm)&&f.default.getWebCrypto()}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cleartext":77,"./config/config":78,"./enums":113,"./key":118,"./message":126,"./polyfills":150,"./util":158,"./worker/async_proxy":160,"web-stream-tools":75}],128:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Trust=r.Signature=r.SecretSubkey=r.Userid=r.SecretKey=r.OnePassSignature=r.UserAttribute=r.PublicSubkey=r.Marker=r.SymmetricallyEncrypted=r.PublicKey=r.Literal=r.SymEncryptedSessionKey=r.PublicKeyEncryptedSessionKey=r.SymEncryptedAEADProtected=r.SymEncryptedIntegrityProtected=r.Compressed=void 0;var n=e("./compressed.js");Object.defineProperty(r,"Compressed",{enumerable:!0,get:function(){return k(n).default}});var a=e("./sym_encrypted_integrity_protected.js");Object.defineProperty(r,"SymEncryptedIntegrityProtected",{enumerable:!0,get:function(){return k(a).default}});var i=e("./sym_encrypted_aead_protected.js");Object.defineProperty(r,"SymEncryptedAEADProtected",{enumerable:!0,get:function(){return k(i).default}});var s=e("./public_key_encrypted_session_key.js");Object.defineProperty(r,"PublicKeyEncryptedSessionKey",{enumerable:!0,get:function(){return k(s).default}});var o=e("./sym_encrypted_session_key.js");Object.defineProperty(r,"SymEncryptedSessionKey",{enumerable:!0,get:function(){return k(o).default}});var u=e("./literal.js");Object.defineProperty(r,"Literal",{enumerable:!0,get:function(){return k(u).default}});var c=e("./public_key.js");Object.defineProperty(r,"PublicKey",{enumerable:!0,get:function(){return k(c).default}});var l=e("./symmetrically_encrypted.js");Object.defineProperty(r,"SymmetricallyEncrypted",{enumerable:!0,get:function(){return k(l).default}});var f=e("./marker.js");Object.defineProperty(r,"Marker",{enumerable:!0,get:function(){return k(f).default}});var d=e("./public_subkey.js");Object.defineProperty(r,"PublicSubkey",{enumerable:!0,get:function(){return k(d).default}});var h=e("./user_attribute.js");Object.defineProperty(r,"UserAttribute",{enumerable:!0,get:function(){return k(h).default}});var p=e("./one_pass_signature.js");Object.defineProperty(r,"OnePassSignature",{enumerable:!0,get:function(){return k(p).default}});var y=e("./secret_key.js");Object.defineProperty(r,"SecretKey",{enumerable:!0,get:function(){return k(y).default}});var b=e("./userid.js");Object.defineProperty(r,"Userid",{enumerable:!0,get:function(){return k(b).default}});var m=e("./secret_subkey.js");Object.defineProperty(r,"SecretSubkey",{enumerable:!0,get:function(){return k(m).default}});var g=e("./signature.js");Object.defineProperty(r,"Signature",{enumerable:!0,get:function(){return k(g).default}});var w=e("./trust.js");Object.defineProperty(r,"Trust",{enumerable:!0,get:function(){return k(w).default}}),r.newPacketFromTag=A,r.fromStructuredClone=function(e){const t=v.default.read(v.default.packet,e.tag),r=A(t);Object.assign(r,e),r.postCloneTypeFix&&r.postCloneTypeFix();return r};var v=k(e("../enums.js")),_=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./all_packets.js"));function k(e){return e&&e.__esModule?e:{default:e}}function A(e){return new _[(e=e).substr(0,1).toUpperCase()+e.substr(1)]}},{"../enums.js":113,"./all_packets.js":128,"./compressed.js":130,"./literal.js":132,"./marker.js":133,"./one_pass_signature.js":134,"./public_key.js":137,"./public_key_encrypted_session_key.js":138,"./public_subkey.js":139,"./secret_key.js":140,"./secret_subkey.js":141,"./signature.js":142,"./sym_encrypted_aead_protected.js":143,"./sym_encrypted_integrity_protected.js":144,"./sym_encrypted_session_key.js":145,"./symmetrically_encrypted.js":146,"./trust.js":147,"./user_attribute.js":148,"./userid.js":149}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.clonePackets=function(e){e.publicKeys&&(e.publicKeys=e.publicKeys.map(e=>e.toPacketlist()));e.privateKeys&&(e.privateKeys=e.privateKeys.map(e=>e.toPacketlist()));e.publicKey&&(e.publicKey=e.publicKey.toPacketlist());e.privateKey&&(e.privateKey=e.privateKey.toPacketlist());e.key&&(e.key=e.key.toPacketlist());e.message&&(e.message instanceof i.Message?e.message={packets:e.message.packets,fromStream:e.message.fromStream}:e.message instanceof s.CleartextMessage&&(e.message={text:e.message.text,signature:e.message.signature.packets}));e.signature&&e.signature instanceof o.Signature&&(e.signature=e.signature.packets);e.signatures&&e.signatures.forEach(d);return e},r.parseClonedPackets=function(e){e.publicKeys&&(e.publicKeys=e.publicKeys.map(h));e.privateKeys&&(e.privateKeys=e.privateKeys.map(h));e.publicKey&&(e.publicKey=h(e.publicKey));e.privateKey&&(e.privateKey=h(e.privateKey));e.key&&(e.key=h(e.key));e.message&&e.message.signature?e.message=function(e){var t=u.default.fromStructuredClone(e.signature);return new s.CleartextMessage(e.text,new o.Signature(t))}(e.message):e.message&&(e.message=function(e){const t=u.default.fromStructuredClone(e.packets),r=new i.Message(t);return r.fromStream=e.fromStream,r}(e.message));e.signatures&&(e.signatures=e.signatures.map(p));e.signature&&(e.signature=function(e){if(l.default.isString(e)||l.default.isStream(e))return e;e=u.default.fromStructuredClone(e);return new o.Signature(e)}(e.signature));return e};var n=f(e("web-stream-tools")),a=e("../key"),i=e("../message"),s=e("../cleartext"),o=e("../signature"),u=f(e("./packetlist")),c=f(e("../type/keyid")),l=f(e("../util"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){const t=e.verified;if(e.verified=n.default.fromAsync(()=>t),e.signature instanceof Promise){const r=e.signature;e.signature=n.default.fromAsync(async()=>{const e=(await r).packets;try{await t}catch(e){}return e&&e[0]&&(delete e[0].signature,delete e[0].hashed),e})}else e.signature=e.signature.packets;return e.error&&(e.error=e.error.message),e}function h(e){e=u.default.fromStructuredClone(e);return new a.Key(e)}function p(e){return e.keyid=c.default.fromClone(e.keyid),l.default.isStream(e.signature)?(e.signature=n.default.readToEnd(e.signature,([e])=>new o.Signature(u.default.fromStructuredClone(e))),e.signature.catch(()=>{})):e.signature=new o.Signature(u.default.fromStructuredClone(e.signature)),e.verified=n.default.readToEnd(e.verified,([e])=>e),e.verified.catch(()=>{}),e.error&&(e.error=new Error(e.error)),e}},{"../cleartext":77,"../key":118,"../message":126,"../signature":151,"../type/keyid":154,"../util":158,"./packetlist":136,"web-stream-tools":75}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=c(e("pako")),n=c(e("seek-bzip")),i=c(e("web-stream-tools")),s=c(e("../config")),o=c(e("../enums")),u=c(e("../util"));function c(e){return e&&e.__esModule?e:{default:e}}function l(){this.tag=o.default.packet.compressed,this.packets=null,this.algorithm="zip",this.compressed=null}l.prototype.read=async function(e,t){await i.default.parse(e,async e=>{this.algorithm=o.default.read(o.default.compression,await e.readByte()),this.compressed=e.remainder(),await this.decompress(t)})},l.prototype.write=function(){return null===this.compressed&&this.compress(),u.default.concat([new Uint8Array([o.default.write(o.default.compression,this.algorithm)]),this.compressed])},l.prototype.decompress=async function(e){if(!b[this.algorithm])throw new Error(this.algorithm+" decompression not supported");await this.packets.read(b[this.algorithm](this.compressed),e)},l.prototype.compress=function(){if(!y[this.algorithm])throw new Error(this.algorithm+" compression not supported");this.compressed=y[this.algorithm](this.packets.write())},r.default=l;r=u.default.getNodeZlib();function f(e){return e}function d(t,r={}){return function(e){return i.default.nodeToWeb(i.default.webToNode(e).pipe(t(r)))}}function h(r,n={}){return function(e){const t=new r(n);return i.default.transform(e,e=>{if(e.length)return t.push(e,a.default.Z_SYNC_FLUSH),t.result},()=>{if(r===a.default.Deflate)return t.push([],a.default.Z_FINISH),t.result})}}function p(t){return function(e){return i.default.fromAsync(async()=>t(await i.default.readToEnd(e)))}}let y,b;b=r?(y={zip:d(r.createDeflateRaw,{level:s.default.deflate_level}),zlib:d(r.createDeflate,{level:s.default.deflate_level})},{uncompressed:f,zip:d(r.createInflateRaw),zlib:d(r.createInflate),bzip2:p(n.default.decode)}):(y={zip:h(a.default.Deflate,{raw:!0,level:s.default.deflate_level}),zlib:h(a.default.Deflate,{level:s.default.deflate_level})},{uncompressed:f,zip:h(a.default.Inflate,{raw:!0}),zlib:h(a.default.Inflate),bzip2:p(n.default.decode)})},{"../config":79,"../enums":113,"../util":158,pako:50,"seek-bzip":69,"web-stream-tools":75}],131:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=o(e("./all_packets")),i=o(e("./clone")),s=e("./packetlist");function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}i={List:((n=s)&&n.__esModule?n:{default:n}).default,clone:i};Object.assign(i,a),r.default=i},{"./all_packets":128,"./clone":129,"./packetlist":136}],132:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("web-stream-tools")),a=s(e("../enums")),i=s(e("../util"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e=new Date){this.tag=a.default.packet.literal,this.format="utf8",this.date=i.default.normalizeDate(e),this.text=null,this.data=null,this.filename="msg.txt"}o.prototype.setText=function(e,t="utf8"){this.format=t,this.text=e,this.data=null},o.prototype.getText=function(e=!1){return null!==this.text&&!i.default.isStream(this.text)||(this.text=i.default.decode_utf8(i.default.nativeEOL(this.getBytes(e)))),this.text},o.prototype.setBytes=function(e,t){this.format=t,this.data=e,this.text=null},o.prototype.getBytes=function(e=!1){return null===this.data&&(this.data=i.default.canonicalizeEOL(i.default.encode_utf8(this.text))),e?n.default.passiveClone(this.data):this.data},o.prototype.setFilename=function(e){this.filename=e},o.prototype.getFilename=function(){return this.filename},o.prototype.read=async function(e){await n.default.parse(e,async e=>{var t=a.default.read(a.default.literal,await e.readByte()),r=await e.readByte();this.filename=i.default.decode_utf8(await e.readBytes(r)),this.date=i.default.readDate(await e.readBytes(4));e=e.remainder();this.setBytes(e,t)})},o.prototype.writeHeader=function(){var e=i.default.encode_utf8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([a.default.write(a.default.literal,this.format)]),n=i.default.writeDate(this.date);return i.default.concatUint8Array([r,t,e,n])},o.prototype.write=function(){var e=this.writeHeader(),t=this.getBytes();return i.default.concat([e,t])},r.default=o},{"../enums":113,"../util":158,"web-stream-tools":75}],133:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=e("../enums"),i=(n=a)&&n.__esModule?n:{default:n};function s(){this.tag=i.default.packet.marker}s.prototype.read=function(e){return 80===e[0]&&71===e[1]&&80===e[2]},r.default=s},{"../enums":113}],134:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=u(e("web-stream-tools")),a=u(e("./signature")),i=u(e("../type/keyid")),s=u(e("../enums")),o=u(e("../util"));function u(e){return e&&e.__esModule?e:{default:e}}function c(){this.tag=s.default.packet.onePassSignature,this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyId=null,this.flags=null}c.prototype.read=function(e){var t=0;return this.version=e[t++],this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[+t],this.issuerKeyId=new i.default,this.issuerKeyId.read(e.subarray(4,12)),this.flags=e[12],this},c.prototype.write=function(){var e=new Uint8Array([3,s.default.write(s.default.signature,this.signatureType),s.default.write(s.default.hash,this.hashAlgorithm),s.default.write(s.default.publicKey,this.publicKeyAlgorithm)]),t=new Uint8Array([this.flags]);return o.default.concatUint8Array([e,this.issuerKeyId.write(),t])},c.prototype.postCloneTypeFix=function(){this.issuerKeyId=i.default.fromClone(this.issuerKeyId)},c.prototype.hash=a.default.prototype.hash,c.prototype.toHash=a.default.prototype.toHash,c.prototype.toSign=a.default.prototype.toSign,c.prototype.calculateTrailer=function(...e){return n.default.fromAsync(async()=>a.default.prototype.calculateTrailer.apply(await this.correspondingSig,e))},c.prototype.verify=async function(){const e=await this.correspondingSig;if(!e||e.tag!==s.default.packet.signature)throw new Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyId.equals(this.issuerKeyId))throw new Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)},r.default=c},{"../enums":113,"../type/keyid":154,"../util":158,"./signature":142,"web-stream-tools":75}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_=a(e("web-stream-tools")),n=a(e("../enums")),k=a(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}r.default={readSimpleLength:function(e){let t=0,r;var n,a=e[0];return a<192?(n=i(e,1),t=n[0],r=1):a<255?(t=(e[0]-192<<8)+e[1]+192,r=2):255===a&&(t=k.default.readNumber(e.subarray(1,5)),r=5),{len:t,offset:r}},writeSimpleLength:function(e){return e<192?new Uint8Array([e]):191<e&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):k.default.concatUint8Array([new Uint8Array([255]),k.default.writeNumber(e,4)])},writePartialLength:function(e){if(e<0||30<e)throw new Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])},writeTag:function(e){return new Uint8Array([192|e])},writeHeader:function(e,t){return k.default.concatUint8Array([this.writeTag(e),this.writeSimpleLength(t)])},supportsStreaming:function(e){return[n.default.packet.literal,n.default.packet.compressed,n.default.packet.symmetricallyEncrypted,n.default.packet.symEncryptedIntegrityProtected,n.default.packet.symEncryptedAEADProtected].includes(e)},read:async function(e,s,o){const u=_.default.getReader(e);let c,l;try{var f=await u.peekBytes(2);if(!f||f.length<2||0==(128&f[0]))throw new Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");var d=await u.readByte();let e=-1,t=-1,r;(t=0)!=(64&d)&&(t=1);let n;t?e=63&d:(e=(63&d)>>2,n=3&d);var h,p=this.supportsStreaming(e);let a=null;s&&p?(h=new TransformStream,c=_.default.getWriter(h.writable),a=h.readable,l=o({tag:e,packet:a})):a=[];let i;do{if(t){var y=await u.readByte();if(i=!1,y<192)r=y;else if(192<=y&&y<224)r=(y-192<<8)+await u.readByte()+192;else if(223<y&&y<255){if(r=1<<(31&y),i=!0,!p)throw new TypeError("This packet type does not support partial lengths.")}else r=await u.readByte()<<24|await u.readByte()<<16|await u.readByte()<<8|await u.readByte()}else switch(n){case 0:r=await u.readByte();break;case 1:r=await u.readByte()<<8|await u.readByte();break;case 2:r=await u.readByte()<<24|await u.readByte()<<16|await u.readByte()<<8|await u.readByte();break;default:r=1/0}if(0<r){let e=0;for(;;){c&&await c.ready;var b=await u.read();const w=b.done,v=b.value;if(w){if(r===1/0)break;throw new Error("Unexpected end of packet")}var m=r===1/0?v:v.subarray(0,r-e);if(c?await c.write(m):a.push(m),e+=v.length,e>=r){u.unshift(v.subarray(r-e+v.length));break}}}}while(i);var g=await u.peekBytes(p?1/0:2);return c?(await c.ready,await c.close()):(a=k.default.concatUint8Array(a),await o({tag:e,packet:a})),!g||!g.length}catch(e){if(c)return await c.abort(e),!0;throw e}finally{c&&await l,u.releaseLock()}}}},{"../enums":113,"../util":158,"web-stream-tools":75}],136:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=n(e("web-stream-tools")),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(e("./all_packets")),o=n(e("./packet")),u=n(e("../config")),c=n(e("../enums")),l=n(e("../util"));function n(e){return e&&e.__esModule?e:{default:e}}function f(){this.length=0}(f.prototype=[]).read=async function(e,a){this.stream=s.default.transformPair(e,async(e,t)=>{const n=s.default.getWriter(t);try{for(;;)if(await n.ready,await o.default.read(e,a,async t=>{try{var e=c.default.read(c.default.packet,t.tag);const r=i.newPacketFromTag(e);r.packets=new f,r.fromStream=l.default.isStream(t.packet),await r.read(t.packet,a),await n.write(r)}catch(e){u.default.tolerant&&!o.default.supportsStreaming(t.tag)||await n.abort(e),l.default.print_debug_error(e)}}))return await n.ready,void await n.close()}catch(e){await n.abort(e)}});const t=s.default.getReader(this.stream);for(;;){var r=await t.read(),n=r.done,r=r.value;if(n?this.stream=null:this.push(r),n||o.default.supportsStreaming(r.tag))break}t.releaseLock()},f.prototype.write=function(){const r=[];for(let e=0;e<this.length;e++){var i=this[e].write();if(l.default.isStream(i)&&o.default.supportsStreaming(this[e].tag)){let n=[],a=0;r.push(o.default.writeTag(this[e].tag)),r.push(s.default.transform(i,e=>{if(n.push(e),a+=e.length,512<=a){var t=Math.min(Math.log(a)/Math.LN2|0,30),e=2**t;const r=l.default.concat([o.default.writePartialLength(t)].concat(n));return n=[r.subarray(1+e)],a=n[0].length,r.subarray(0,1+e)}},()=>l.default.concat([o.default.writeSimpleLength(a)].concat(n))))}else{if(l.default.isStream(i)){let t=0;r.push(s.default.transform(s.default.clone(i),e=>{t+=e.length},()=>o.default.writeHeader(this[e].tag,t)))}else r.push(o.default.writeHeader(this[e].tag,i.length));r.push(i)}}return l.default.concat(r)},f.prototype.push=function(e){e&&(e.packets=e.packets||new f,this[this.length]=e,this.length++)},f.prototype.filterByTag=function(...t){const r=new f;for(let e=0;e<this.length;e++)t.some((t=>e=>t===e)(this[e].tag))&&r.push(this[e]);return r},f.prototype.findPacket=function(t){return this.find(e=>e.tag===t)},f.prototype.indexOfTag=function(...t){const r=[];for(let e=0;e<this.length;e++)t.some((t=>e=>t===e)(this[e].tag))&&r.push(e);return r},f.prototype.concat=function(t){if(t)for(let e=0;e<t.length;e++)this.push(t[e]);return this},f.fromStructuredClone=function(t){const r=new f;for(let e=0;e<t.length;e++){const n=i.fromStructuredClone(t[e]);r.push(n),n.embeddedSignature&&(n.embeddedSignature=i.fromStructuredClone(n.embeddedSignature)),0!==n.packets.length?n.packets=this.fromStructuredClone(n.packets):n.packets=new f}return t.stream&&(r.stream=s.default.transform(t.stream,e=>i.fromStructuredClone(e))),r},r.default=f},{"../config":79,"../enums":113,"../util":158,"./all_packets":128,"./packet":135,"web-stream-tools":75}],137:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("asmcrypto.js/dist_es5/hash/sha1/sha1"),a=e("asmcrypto.js/dist_es5/hash/sha256/sha256"),i=f(e("../type/keyid")),s=f(e("../type/mpi")),o=f(e("../config")),u=f(e("../crypto")),c=f(e("../enums")),l=f(e("../util"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e=new Date){this.tag=c.default.packet.publicKey,this.version=o.default.v5_keys?5:4,this.created=l.default.normalizeDate(e),this.algorithm=null,this.params=[],this.expirationTimeV3=0,this.fingerprint=null,this.keyid=null}d.prototype.read=function(t){let r=0;if(this.version=t[r++],4!==this.version&&5!==this.version)throw new Error("Version "+this.version+" of the key packet is unsupported.");this.created=l.default.readDate(t.subarray(r,r+4)),r+=4,this.algorithm=c.default.read(c.default.publicKey,t[r++]);var e=c.default.write(c.default.publicKey,this.algorithm);5===this.version&&(r+=4);var n=u.default.getPubKeyParamTypes(e);this.params=u.default.constructParams(n);for(let e=0;e<n.length&&r<t.length;e++)if(r+=this.params[e].read(t.subarray(r,t.length)),r>t.length)throw new Error("Error reading MPI @:"+r);return r},d.prototype.readPublicKey=d.prototype.read,d.prototype.write=function(){const e=[];e.push(new Uint8Array([this.version])),e.push(l.default.writeDate(this.created));var t=c.default.write(c.default.publicKey,this.algorithm);e.push(new Uint8Array([t]));t=u.default.getPubKeyParamTypes(t).length,t=l.default.concatUint8Array(this.params.slice(0,t).map(e=>e.write()));return 5===this.version&&e.push(l.default.writeNumber(t.length,4)),e.push(t),l.default.concatUint8Array(e)},d.prototype.writePublicKey=d.prototype.write,d.prototype.writeForHash=function(e){var t=this.writePublicKey();return 5===e?l.default.concatUint8Array([new Uint8Array([154]),l.default.writeNumber(t.length,4),t]):l.default.concatUint8Array([new Uint8Array([153]),l.default.writeNumber(t.length,2),t])},d.prototype.isDecrypted=function(){return null},d.prototype.getCreationTime=function(){return this.created},d.prototype.getKeyId=function(){return this.keyid||(this.keyid=new i.default,5===this.version?this.keyid.read(l.default.hex_to_Uint8Array(this.getFingerprint()).subarray(0,8)):4===this.version&&this.keyid.read(l.default.hex_to_Uint8Array(this.getFingerprint()).subarray(12,20)),this.keyid)},d.prototype.getFingerprintBytes=function(){if(this.fingerprint)return this.fingerprint;var e=this.writeForHash(this.version);return 5===this.version?this.fingerprint=a.Sha256.bytes(e):4===this.version&&(this.fingerprint=n.Sha1.bytes(e)),this.fingerprint},d.prototype.getFingerprint=function(){return l.default.Uint8Array_to_hex(this.getFingerprintBytes())},d.prototype.hasSameFingerprintAs=function(e){return this.version===e.version&&l.default.equalsUint8Array(this.writePublicKey(),e.writePublicKey())},d.prototype.getAlgorithmInfo=function(){const e={};return e.algorithm=this.algorithm,this.params[0]instanceof s.default?(e.rsaBits=8*this.params[0].byteLength(),e.bits=e.rsaBits):e.curve=this.params[0].getName(),e},d.prototype.postCloneTypeFix=function(){var e=c.default.write(c.default.publicKey,this.algorithm);const t=u.default.getPubKeyParamTypes(e);for(let e=0;e<t.length;e++){var r=this.params[e];this.params[e]=t[e].fromClone(r)}this.keyid&&(this.keyid=i.default.fromClone(this.keyid))},r.default=d},{"../config":79,"../crypto":94,"../enums":113,"../type/keyid":154,"../type/mpi":155,"../util":158,"asmcrypto.js/dist_es5/hash/sha1/sha1":11,"asmcrypto.js/dist_es5/hash/sha256/sha256":13}],138:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("../type/keyid")),a=o(e("../crypto")),i=o(e("../enums")),s=o(e("../util"));function o(e){return e&&e.__esModule?e:{default:e}}function u(){this.tag=i.default.packet.publicKeyEncryptedSessionKey,this.version=3,this.publicKeyId=new n.default,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted=[]}u.prototype.read=function(t){this.version=t[0],this.publicKeyId.read(t.subarray(1,t.length)),this.publicKeyAlgorithm=i.default.read(i.default.publicKey,t[9]);let r=10;var e=i.default.write(i.default.publicKey,this.publicKeyAlgorithm),n=a.default.getEncSessionKeyParamTypes(e);this.encrypted=a.default.constructParams(n);for(let e=0;e<n.length;e++)r+=this.encrypted[e].read(t.subarray(r,t.length))},u.prototype.write=function(){const t=[new Uint8Array([this.version]),this.publicKeyId.write(),new Uint8Array([i.default.write(i.default.publicKey,this.publicKeyAlgorithm)])];for(let e=0;e<this.encrypted.length;e++)t.push(this.encrypted[e].write());return s.default.concatUint8Array(t)},u.prototype.encrypt=async function(e){var t=String.fromCharCode(i.default.write(i.default.symmetric,this.sessionKeyAlgorithm));t+=s.default.Uint8Array_to_str(this.sessionKey),t+=s.default.Uint8Array_to_str(s.default.write_checksum(this.sessionKey));var r=i.default.write(i.default.publicKey,this.publicKeyAlgorithm);return this.encrypted=await a.default.publicKeyEncrypt(r,e.params,t,e.getFingerprintBytes()),!0},u.prototype.decrypt=async function(e){var t=i.default.write(i.default.publicKey,this.publicKeyAlgorithm);if(t!==i.default.write(i.default.publicKey,e.algorithm))throw new Error("Decryption error");const r=await a.default.publicKeyDecrypt(t,e.params,this.encrypted,e.getFingerprintBytes());t=s.default.str_to_Uint8Array(r.substr(r.length-2));if(e=s.default.str_to_Uint8Array(r.substring(1,r.length-2)),!s.default.equalsUint8Array(t,s.default.write_checksum(e)))throw new Error("Decryption error");return this.sessionKey=e,this.sessionKeyAlgorithm=i.default.read(i.default.symmetric,r.charCodeAt(0)),!0},u.prototype.postCloneTypeFix=function(){this.publicKeyId=n.default.fromClone(this.publicKeyId);var e=i.default.write(i.default.publicKey,this.publicKeyAlgorithm);const t=a.default.getEncSessionKeyParamTypes(e);for(let e=0;e<this.encrypted.length;e++)this.encrypted[e]=t[e].fromClone(this.encrypted[e])},r.default=u},{"../crypto":94,"../enums":113,"../type/keyid":154,"../util":158}],139:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("./public_key")),a=i(e("../enums"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){n.default.call(this),this.tag=a.default.packet.publicSubkey}s.prototype=new n.default,r.default=s.prototype.constructor=s},{"../enums":113,"./public_key":137}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=c(e("./public_key")),a=c(e("../type/keyid.js")),i=c(e("../type/s2k")),o=c(e("../crypto")),s=c(e("../enums")),u=c(e("../util"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e=new Date){n.default.call(this,e),this.tag=s.default.packet.secretKey,this.keyMaterial=null,this.isEncrypted=null,this.s2k_usage=0,this.s2k=null,this.symmetric=null,this.aead=null}function f(t,e){var e=s.default.write(s.default.publicKey,e),r=o.default.getPrivKeyParamTypes(e);const n=o.default.constructParams(r);let a=0;for(let e=0;e<r.length&&a<t.length;e++)if(a+=n[e].read(t.subarray(a,t.length)),a>t.length)throw new Error("Error reading param @:"+a);return n}function d(t,r){const n=[];r=s.default.write(s.default.publicKey,r);for(let e=o.default.getPubKeyParamTypes(r).length;e<t.length;e++)n.push(t[e].write());return u.default.concatUint8Array(n)}async function h(e,t,r){return e.produce_key(t,o.default.cipher[r].keySize)}((l.prototype=new n.default).constructor=l).prototype.read=function(e){let t=this.readPublicKey(e);if(this.s2k_usage=e[t++],5===this.version&&t++,255===this.s2k_usage||254===this.s2k_usage||253===this.s2k_usage){if(this.symmetric=e[t++],this.symmetric=s.default.read(s.default.symmetric,this.symmetric),253===this.s2k_usage&&(this.aead=e[t++],this.aead=s.default.read(s.default.aead,this.aead)),this.s2k=new i.default,t+=this.s2k.read(e.subarray(t,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2k_usage&&(this.symmetric=this.s2k_usage,this.symmetric=s.default.read(s.default.symmetric,this.symmetric));if(this.s2k_usage&&(this.iv=e.subarray(t,t+o.default.cipher[this.symmetric].blockSize),t+=this.iv.length),5===this.version&&(t+=4),this.keyMaterial=e.subarray(t),this.isEncrypted=!!this.s2k_usage,!this.isEncrypted){e=this.keyMaterial.subarray(0,-2);if(!u.default.equalsUint8Array(u.default.write_checksum(e),this.keyMaterial.subarray(-2)))throw new Error("Key checksum mismatch");e=f(e,this.algorithm);this.params=this.params.concat(e)}},l.prototype.write=function(){const e=[this.writePublicKey()];e.push(new Uint8Array([this.s2k_usage]));const t=[];var r;return 255!==this.s2k_usage&&254!==this.s2k_usage&&253!==this.s2k_usage||(t.push(s.default.write(s.default.symmetric,this.symmetric)),253===this.s2k_usage&&t.push(s.default.write(s.default.aead,this.aead)),t.push(...this.s2k.write())),this.s2k_usage&&"gnu-dummy"!==this.s2k.type&&t.push(...this.iv),5===this.version&&e.push(new Uint8Array([t.length])),e.push(new Uint8Array(t)),this.isDummy()||(this.s2k_usage||(r=d(this.params,this.algorithm),this.keyMaterial=u.default.concatUint8Array([r,u.default.write_checksum(r)])),5===this.version&&e.push(u.default.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial)),u.default.concatUint8Array(e)},l.prototype.isDecrypted=function(){return!1===this.isEncrypted},l.prototype.isDummy=function(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)},l.prototype.makeDummy=function(){if(!this.isDummy()){if(!this.isDecrypted())throw new Error("Key is not decrypted");this.clearPrivateParams(),this.keyMaterial=null,this.isEncrypted=!1,this.s2k=new i.default,this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2k_usage=254,this.symmetric="aes256"}},l.prototype.encrypt=async function(e){if(this.isDummy())return!1;if(!this.isDecrypted())throw new Error("Key packet is already encrypted");if(this.isDecrypted()&&!e)return this.s2k_usage=0,!1;if(!e)throw new Error("The key must be decrypted before removing passphrase protection.");this.s2k=new i.default,this.s2k.salt=await o.default.random.getRandomBytes(8);var t=d(this.params,this.algorithm);this.symmetric="aes256";var r=await h(this.s2k,e,this.symmetric),e=o.default.cipher[this.symmetric].blockSize;if(this.iv=await o.default.random.getRandomBytes(e),5===this.version){this.s2k_usage=253,this.aead="eax";const n=o.default[this.aead],a=await n(this.symmetric,r);this.keyMaterial=await a.encrypt(t,this.iv.subarray(0,n.ivLength),new Uint8Array)}else this.s2k_usage=254,this.keyMaterial=await o.default.cfb.encrypt(this.symmetric,r,u.default.concatUint8Array([t,await o.default.hash.sha1(t)]),this.iv);return!0},l.prototype.decrypt=async function(e){if(this.isDummy())return this.isEncrypted=!1;if(this.isDecrypted())throw new Error("Key packet is already decrypted.");let t;if(254!==this.s2k_usage&&253!==this.s2k_usage)throw 255===this.s2k_usage?new Error("Encrypted private key is authenticated using an insecure two-byte hash"):new Error("Private key is encrypted using an insecure S2K function: unsalted MD5");t=await h(this.s2k,e,this.symmetric);let r;if(253===this.s2k_usage){const a=o.default[this.aead];try{const i=await a(this.symmetric,t);r=await i.decrypt(this.keyMaterial,this.iv.subarray(0,a.ivLength),new Uint8Array)}catch(e){if("Authentication tag mismatch"===e.message)throw new Error("Incorrect key passphrase: "+e.message);throw e}}else{const s=await o.default.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=s.subarray(0,-20);var n=await o.default.hash.sha1(r);if(!u.default.equalsUint8Array(n,s.subarray(-20)))throw new Error("Incorrect key passphrase")}n=f(r,this.algorithm);return this.params=this.params.concat(n),this.isEncrypted=!1,this.keyMaterial=null,!(this.s2k_usage=0)},l.prototype.generate=async function(e,t){var r=s.default.write(s.default.publicKey,this.algorithm);this.params=await o.default.generateParams(r,e,t),this.isEncrypted=!1},l.prototype.validate=async function(){if(!this.isDummy()){if(!this.isDecrypted())throw new Error("Key is not decrypted");var e=s.default.write(s.default.publicKey,this.algorithm);if(!await o.default.validateParams(e,this.params))throw new Error("Key is invalid")}},l.prototype.clearPrivateParams=function(){var e;this.s2k&&"gnu-dummy"===this.s2k.type||(e=s.default.write(s.default.publicKey,this.algorithm),e=o.default.getPubKeyParamTypes(e).length,this.params.slice(e).forEach(e=>{e.data.fill(0)}),this.params.length=e),this.isEncrypted=!0},l.prototype.postCloneTypeFix=function(){var e=s.default.write(s.default.publicKey,this.algorithm);const t=[].concat(o.default.getPubKeyParamTypes(e),o.default.getPrivKeyParamTypes(e));for(let e=0;e<this.params.length;e++){var r=this.params[e];this.params[e]=t[e].fromClone(r)}this.keyid&&(this.keyid=a.default.fromClone(this.keyid)),this.s2k&&(this.s2k=i.default.fromClone(this.s2k))},r.default=l},{"../crypto":94,"../enums":113,"../type/keyid.js":154,"../type/s2k":157,"../util":158,"./public_key":137}],141:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("./secret_key")),a=i(e("../enums"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e=new Date){n.default.call(this,e),this.tag=a.default.packet.secretSubkey}s.prototype=new n.default,r.default=s.prototype.constructor=s},{"../enums":113,"./secret_key":140}],142:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=a(e("web-stream-tools")),i=a(e("./packet")),n=a(e("../type/keyid.js")),p=a(e("../type/mpi.js")),y=a(e("../crypto")),b=a(e("../enums")),f=a(e("../util")),m=a(e("../config"));function a(e){return e&&e.__esModule?e:{default:e}}function d(e=new Date){this.tag=b.default.packet.signature,this.version=4,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=f.default.normalizeDate(e),this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyId=new n.default,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserId=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAeadAlgorithms=null,this.verified=null,this.revoked=null}function s(e,t){const r=[];return r.push(i.default.writeSimpleLength(t.length+1)),r.push(new Uint8Array([e])),r.push(t),f.default.concat(r)}d.prototype.read=function(e){var t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new Error("Version "+this.version+" of the signature is unsupported.");this.signatureType=e[t++],this.publicKeyAlgorithm=e[t++],this.hashAlgorithm=e[t++],t+=this.read_sub_packets(e.subarray(4,e.length),!0),this.signatureData=e.subarray(0,t),t+=this.read_sub_packets(e.subarray(t,e.length),!1),this.signedHashValue=e.subarray(t,t+2),this.signature=e.subarray(t+=2,e.length)},d.prototype.write=function(){const e=[];return e.push(this.signatureData),e.push(this.write_unhashed_sub_packets()),e.push(this.signedHashValue),e.push(h.default.clone(this.signature)),f.default.concat(e)},d.prototype.sign=async function(e,t,r=!1,n=!1){var a=b.default.write(b.default.signature,this.signatureType);const i=b.default.write(b.default.publicKey,this.publicKeyAlgorithm),s=b.default.write(b.default.hash,this.hashAlgorithm);5===e.version&&(this.version=5);const o=[new Uint8Array([this.version,a,i,s])];this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyId=e.getKeyId(),o.push(this.write_hashed_sub_packets()),this.signatureData=f.default.concat(o);const u=this.toHash(a,t,r),c=await this.hash(a,t,u,r);this.signedHashValue=h.default.slice(h.default.clone(c),0,2);const l=e.params;e=async()=>y.default.signature.sign(i,s,l,u,await h.default.readToEnd(c));return n?this.signature=h.default.fromAsync(e):(this.signature=await e(),this.verified=!0),!0},d.prototype.write_hashed_sub_packets=function(){const n=b.default.signatureSubpacket,a=[];let i;null!==this.created&&a.push(s(n.signature_creation_time,f.default.writeDate(this.created))),null!==this.signatureExpirationTime&&a.push(s(n.signature_expiration_time,f.default.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&a.push(s(n.exportable_certification,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(i=new Uint8Array([this.trustLevel,this.trustAmount]),a.push(s(n.trust_signature,i))),null!==this.regularExpression&&a.push(s(n.regular_expression,this.regularExpression)),null!==this.revocable&&a.push(s(n.revocable,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&a.push(s(n.key_expiration_time,f.default.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(i=f.default.str_to_Uint8Array(f.default.Uint8Array_to_str(this.preferredSymmetricAlgorithms)),a.push(s(n.preferred_symmetric_algorithms,i))),null!==this.revocationKeyClass&&(i=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),i=f.default.concat([i,this.revocationKeyFingerprint]),a.push(s(n.revocation_key,i))),this.rawNotations.forEach(([{name:e,value:t,humanReadable:r}])=>{i=[new Uint8Array([r?128:0,0,0,0])],i.push(f.default.writeNumber(e.length,2)),i.push(f.default.writeNumber(t.length,2)),i.push(f.default.str_to_Uint8Array(e)),i.push(t),i=f.default.concat(i),a.push(s(n.notation_data,i))}),null!==this.preferredHashAlgorithms&&(i=f.default.str_to_Uint8Array(f.default.Uint8Array_to_str(this.preferredHashAlgorithms)),a.push(s(n.preferred_hash_algorithms,i))),null!==this.preferredCompressionAlgorithms&&(i=f.default.str_to_Uint8Array(f.default.Uint8Array_to_str(this.preferredCompressionAlgorithms)),a.push(s(n.preferred_compression_algorithms,i))),null!==this.keyServerPreferences&&(i=f.default.str_to_Uint8Array(f.default.Uint8Array_to_str(this.keyServerPreferences)),a.push(s(n.key_server_preferences,i))),null!==this.preferredKeyServer&&a.push(s(n.preferred_key_server,f.default.str_to_Uint8Array(this.preferredKeyServer))),null!==this.isPrimaryUserID&&a.push(s(n.primary_user_id,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&a.push(s(n.policy_uri,f.default.str_to_Uint8Array(this.policyURI))),null!==this.keyFlags&&(i=f.default.str_to_Uint8Array(f.default.Uint8Array_to_str(this.keyFlags)),a.push(s(n.key_flags,i))),null!==this.signersUserId&&a.push(s(n.signers_user_id,f.default.str_to_Uint8Array(this.signersUserId))),null!==this.reasonForRevocationFlag&&(i=f.default.str_to_Uint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),a.push(s(n.reason_for_revocation,i))),null!==this.features&&(i=f.default.str_to_Uint8Array(f.default.Uint8Array_to_str(this.features)),a.push(s(n.features,i))),null!==this.signatureTargetPublicKeyAlgorithm&&(i=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],i.push(f.default.str_to_Uint8Array(this.signatureTargetHash)),i=f.default.concat(i),a.push(s(n.signature_target,i))),null!==this.preferredAeadAlgorithms&&(i=f.default.str_to_Uint8Array(f.default.Uint8Array_to_str(this.preferredAeadAlgorithms)),a.push(s(n.preferred_aead_algorithms,i)));var e=f.default.concat(a),t=f.default.writeNumber(e.length,2);return f.default.concat([t,e])},d.prototype.write_unhashed_sub_packets=function(){var e=b.default.signatureSubpacket;const t=[];this.issuerKeyId.isNull()||5===this.issuerKeyVersion||t.push(s(e.issuer,this.issuerKeyId.write())),null!==this.embeddedSignature&&t.push(s(e.embedded_signature,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(r=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],r=f.default.concat(r),t.push(s(e.issuer_fingerprint,r))),this.unhashedSubpackets.forEach(e=>{t.push(i.default.writeSimpleLength(e.length)),t.push(e)});var e=f.default.concat(t),r=f.default.writeNumber(e.length,2);return f.default.concat([r,e])},d.prototype.read_sub_packet=function(e,t=!0){let r=0;var n=(t,r)=>{this[t]=[];for(let e=0;e<r.length;e++)this[t].push(r[e])},a=128&e[r],i=127&e[r];if(t||[b.default.signatureSubpacket.issuer,b.default.signatureSubpacket.issuer_fingerprint,b.default.signatureSubpacket.embedded_signature].includes(i))switch(r++,i){case 2:this.created=f.default.readDate(e.subarray(r,e.length));break;case 3:var s=f.default.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===s,this.signatureExpirationTime=s;break;case 4:this.exportable=1===e[r++];break;case 5:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case 6:this.regularExpression=e[r];break;case 7:this.revocable=1===e[r++];break;case 9:var o=f.default.readNumber(e.subarray(r,e.length));this.keyExpirationTime=o,this.keyNeverExpires=0===o;break;case 11:n("preferredSymmetricAlgorithms",e.subarray(r,e.length));break;case 12:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case 16:this.issuerKeyId.read(e.subarray(r,e.length));break;case 20:var u=!!(128&e[r]);r+=4;var c=f.default.readNumber(e.subarray(r,r+2));r+=2;s=f.default.readNumber(e.subarray(r,r+2));r+=2;o=f.default.Uint8Array_to_str(e.subarray(r,r+c)),s=e.subarray(r+c,r+c+s);if(this.rawNotations.push({name:o,humanReadable:u,value:s}),u&&(this.notations[o]=f.default.Uint8Array_to_str(s)),a&&-1===m.default.known_notations.indexOf(o))throw new Error("Unknown critical notation: "+o);break;case 21:n("preferredHashAlgorithms",e.subarray(r,e.length));break;case 22:n("preferredCompressionAlgorithms",e.subarray(r,e.length));break;case 23:n("keyServerPreferences",e.subarray(r,e.length));break;case 24:this.preferredKeyServer=f.default.Uint8Array_to_str(e.subarray(r,e.length));break;case 25:this.isPrimaryUserID=0!==e[r++];break;case 26:this.policyURI=f.default.Uint8Array_to_str(e.subarray(r,e.length));break;case 27:n("keyFlags",e.subarray(r,e.length));break;case 28:this.signersUserId=f.default.Uint8Array_to_str(e.subarray(r,e.length));break;case 29:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=f.default.Uint8Array_to_str(e.subarray(r,e.length));break;case 30:n("features",e.subarray(r,e.length));break;case 31:this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];var l=y.default.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=f.default.Uint8Array_to_str(e.subarray(r,r+l));break;case 32:this.embeddedSignature=new d,this.embeddedSignature.read(e.subarray(r,e.length));break;case 33:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),5===this.issuerKeyVersion?this.issuerKeyId.read(this.issuerFingerprint):this.issuerKeyId.read(this.issuerFingerprint.subarray(-8));break;case 34:n.call(this,"preferredAeadAlgorithms",e.subarray(r,e.length));break;default:l=new Error("Unknown signature subpacket type "+i+" @:"+r);if(a)throw l;f.default.print_debug(l)}else this.unhashedSubpackets.push(e.subarray(r,e.length))},d.prototype.read_sub_packets=function(e,t=!0){var r=f.default.readNumber(e.subarray(0,2));let n=2;for(;n<2+r;){var a=i.default.readSimpleLength(e.subarray(n,e.length));n+=a.offset,this.read_sub_packet(e.subarray(n,n+a.len),t),n+=a.len}return n},d.prototype.toSign=function(e,r){var n=b.default.signature;switch(e){case n.binary:return null!==r.text?f.default.encode_utf8(r.getText(!0)):r.getBytes(!0);case n.text:var a=r.getBytes(!0);return f.default.canonicalizeEOL(a);case n.standalone:return new Uint8Array(0);case n.cert_generic:case n.cert_persona:case n.cert_casual:case n.cert_positive:case n.cert_revocation:{let e,t;if(r.userId)t=180,e=r.userId;else{if(!r.userAttribute)throw new Error("Either a userId or userAttribute packet needs to be supplied for certification.");t=209,e=r.userAttribute}a=e.write();return f.default.concat([this.toSign(n.key,r),new Uint8Array([t]),f.default.writeNumber(a.length,4),a])}case n.subkey_binding:case n.subkey_revocation:case n.key_binding:return f.default.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(void 0===r.key)throw new Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.key_revocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.third_party:throw new Error("Not implemented");default:throw new Error("Unknown signature type.")}},d.prototype.calculateTrailer=function(t,r){let n=0;return h.default.transform(h.default.clone(this.signatureData),e=>{n+=e.length},()=>{const e=[];return 5!==this.version||this.signatureType!==b.default.signature.binary&&this.signatureType!==b.default.signature.text||(r?e.push(new Uint8Array(6)):e.push(t.writeHeader())),e.push(new Uint8Array([this.version,255])),5===this.version&&e.push(new Uint8Array(4)),e.push(f.default.writeNumber(n,4)),f.default.concat(e)})},d.prototype.toHash=function(e,t,r=!1){e=this.toSign(e,t);return f.default.concat([e,this.signatureData,this.calculateTrailer(t,r)])},d.prototype.hash=async function(e,t,r,n=!1,a=!0){var i=b.default.write(b.default.hash,this.hashAlgorithm);return r=r||this.toHash(e,t,n),!a&&f.default.isStream(r)?h.default.fromAsync(async()=>this.hash(e,t,await h.default.readToEnd(r),n)):y.default.hash.digest(i,r)},d.prototype.verify=async function(e,t,r,n=!1,a=!1){var i=b.default.write(b.default.publicKey,this.publicKeyAlgorithm),s=b.default.write(b.default.hash,this.hashAlgorithm);if(i!==b.default.write(b.default.publicKey,e.algorithm))throw new Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let o,u;if(u=this.hashed?await this.hashed:(o=this.toHash(t,r,n),a||(o=await h.default.readToEnd(o)),await this.hash(t,r,o)),u=await h.default.readToEnd(u),this.signedHashValue[0]!==u[0]||this.signedHashValue[1]!==u[1])throw new Error("Message digest did not match");let c=0;0<i&&i<4?c=1:i!==b.default.publicKey.dsa&&i!==b.default.publicKey.ecdsa&&i!==b.default.publicKey.eddsa||(c=2);var l=i===b.default.publicKey.eddsa?"le":"be";const f=[];let d=0;this.signature=await h.default.readToEnd(this.signature);for(let e=0;e<c;e++)f[e]=new p.default,d+=f[e].read(this.signature.subarray(d,this.signature.length),l);if(!await y.default.signature.verify(i,s,f,e.params,o,u))throw new Error("Signature verification failed");if(m.default.reject_hash_algorithms.has(s))throw new Error("Insecure hash algorithm: "+b.default.read(b.default.hash,s).toUpperCase());if(m.default.reject_message_hash_algorithms.has(s)&&[b.default.signature.binary,b.default.signature.text].includes(this.signatureType))throw new Error("Insecure message hash algorithm: "+b.default.read(b.default.hash,s).toUpperCase());if(null!==this.revocationKeyClass)throw new Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.");return this.verified=!0},d.prototype.isExpired=function(e=new Date){var t=f.default.normalizeDate(e);if(null===t)return!1;e=this.getExpirationTime();return!(this.created<=t&&t<=e)},d.prototype.getExpirationTime=function(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)},d.prototype.postCloneTypeFix=function(){this.issuerKeyId=n.default.fromClone(this.issuerKeyId)},r.default=d},{"../config":79,"../crypto":94,"../enums":113,"../type/keyid.js":154,"../type/mpi.js":155,"../util":158,"./packet":135,"web-stream-tools":75}],143:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var _=s(e("web-stream-tools")),n=s(e("../config")),a=s(e("../crypto")),i=s(e("../enums")),k=s(e("../util"));function s(e){return e&&e.__esModule?e:{default:e}}function o(){this.tag=i.default.packet.symEncryptedAEADProtected,this.version=1,this.cipherAlgo=null,this.aeadAlgorithm="eax",this.aeadAlgo=null,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}(r.default=o).prototype.read=async function(e){await _.default.parse(e,async e=>{if(1!==await e.readByte())throw new Error("Invalid packet version.");this.cipherAlgo=await e.readByte(),this.aeadAlgo=await e.readByte(),this.chunkSizeByte=await e.readByte();var t=a.default[i.default.read(i.default.aead,this.aeadAlgo)];this.iv=await e.readBytes(t.ivLength),this.encrypted=e.remainder()})},o.prototype.write=function(){return k.default.concat([new Uint8Array([this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte]),this.iv,this.encrypted])},o.prototype.decrypt=async function(e,t,r){return await this.packets.read(await this.crypt("decrypt",t,_.default.clone(this.encrypted),r),r),!0},o.prototype.encrypt=async function(e,t,r){this.cipherAlgo=i.default.write(i.default.symmetric,e),this.aeadAlgo=i.default.write(i.default.aead,this.aeadAlgorithm);e=a.default[i.default.read(i.default.aead,this.aeadAlgo)];this.iv=await a.default.random.getRandomBytes(e.ivLength),this.chunkSizeByte=n.default.aead_chunk_size_byte;e=this.packets.write();this.encrypted=await this.crypt("encrypt",t,e,r)},o.prototype.crypt=async function(s,e,t,r){var n=i.default.read(i.default.symmetric,this.cipherAlgo);const o=a.default[i.default.read(i.default.aead,this.aeadAlgo)],u=await o(n,e),c="decrypt"===s?o.tagLength:0,l="encrypt"===s?o.tagLength:0,f=2**(this.chunkSizeByte+6)+c;e=new ArrayBuffer(21);const d=new Uint8Array(e,0,13),h=new Uint8Array(e),p=new DataView(e),y=new Uint8Array(e,5,8);d.set([192|this.tag,this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte],0);let b=0,m=Promise.resolve(),g=0,w=0;const v=this.iv;return _.default.transformPair(t,async(e,t)=>{const n=_.default.getReader(e);e=new TransformStream({},{highWaterMark:r?k.default.getHardwareConcurrency()*2**(this.chunkSizeByte+6):1/0,size:e=>e.length});_.default.pipe(e.readable,t);const a=_.default.getWriter(e.writable);try{for(;;){let e=await n.readBytes(f+c)||new Uint8Array;var i=e.subarray(e.length-c);e=e.subarray(0,e.length-c);let t,r;if(!b||e.length?(n.unshift(i),t=u[s](e,o.getNonce(v,y),d),w+=e.length-c+l):(p.setInt32(17,g),t=u[s](i,o.getNonce(v,y),h),w+=l,r=!0),g+=e.length-c,m=m.then(()=>t).then(async e=>{await a.ready,await a.write(e),w-=e.length}).catch(e=>a.abort(e)),(r||w>a.desiredSize)&&await m,r){await a.close();break}p.setInt32(9,++b)}}catch(e){await a.abort(e)}})}},{"../config":79,"../crypto":94,"../enums":113,"../util":158,"web-stream-tools":75}],144:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=a(e("web-stream-tools")),u=a(e("../config")),c=a(e("../crypto")),n=a(e("../enums")),l=a(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){this.tag=n.default.packet.symEncryptedIntegrityProtected,this.version=1,this.encrypted=null,this.modification=!1,this.packets=null}i.prototype.read=async function(e){await o.default.parse(e,async e=>{if(1!==await e.readByte())throw new Error("Invalid packet version.");this.encrypted=e.remainder()})},i.prototype.write=function(){return l.default.concat([new Uint8Array([1]),this.encrypted])},i.prototype.encrypt=async function(e,t,r){let n=this.packets.write();r||(n=await o.default.readToEnd(n));var a=await c.default.getPrefixRandom(e),r=new Uint8Array([211,20]),a=l.default.concat([a,n,r]),r=await c.default.hash.sha1(o.default.passiveClone(a)),r=l.default.concat([a,r]);return this.encrypted=await c.default.cfb.encrypt(e,t,r,new Uint8Array(c.default.cipher[e].blockSize)),!0},i.prototype.decrypt=async function(e,t,r){let n=o.default.clone(this.encrypted);r||(n=await o.default.readToEnd(n));var a=await c.default.cfb.decrypt(e,t,n,new Uint8Array(c.default.cipher[e].blockSize)),t=o.default.slice(o.default.passiveClone(a),-20),a=o.default.slice(a,0,-20);const i=Promise.all([o.default.readToEnd(await c.default.hash.sha1(o.default.passiveClone(a))),o.default.readToEnd(t)]).then(([e,t])=>{if(!l.default.equalsUint8Array(e,t))throw new Error("Modification detected.");return new Uint8Array});e=o.default.slice(a,c.default.cipher[e].blockSize+2);let s=o.default.slice(e,0,-2);return s=o.default.concat([s,o.default.fromAsync(()=>i)]),l.default.isStream(n)&&u.default.allow_unauthenticated_stream||(s=await o.default.readToEnd(s)),await this.packets.read(s,r),!0},r.default=i},{"../config":79,"../crypto":94,"../enums":113,"../util":158,"web-stream-tools":75}],145:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=a(e("../type/s2k")),n=a(e("../config")),o=a(e("../crypto")),u=a(e("../enums")),c=a(e("../util"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){this.tag=u.default.packet.symEncryptedSessionKey,this.version=n.default.aead_protect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm="aes256",this.aeadAlgorithm=u.default.read(u.default.aead,n.default.aead_mode),this.encrypted=null,this.s2k=null,this.iv=null}i.prototype.read=function(e){let t=0;this.version=e[t++];var r,n=u.default.read(u.default.symmetric,e[t++]);5===this.version&&(this.aeadAlgorithm=u.default.read(u.default.aead,e[t++])),this.s2k=new s.default,t+=this.s2k.read(e.subarray(t,e.length)),5===this.version&&(r=o.default[this.aeadAlgorithm],this.iv=e.subarray(t,t+=r.ivLength)),5===this.version||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n},i.prototype.write=function(){var e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;return 5===this.version?t=c.default.concatUint8Array([new Uint8Array([this.version,u.default.write(u.default.symmetric,e),u.default.write(u.default.aead,this.aeadAlgorithm)]),this.s2k.write(),this.iv,this.encrypted]):(t=c.default.concatUint8Array([new Uint8Array([this.version,u.default.write(u.default.symmetric,e)]),this.s2k.write()]),null!==this.encrypted&&(t=c.default.concatUint8Array([t,this.encrypted]))),t},i.prototype.decrypt=async function(e){var t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,r=o.default.cipher[t].keySize,e=await this.s2k.produce_key(e,r);if(5===this.version){const n=o.default[this.aeadAlgorithm];r=new Uint8Array([192|this.tag,this.version,u.default.write(u.default.symmetric,this.sessionKeyEncryptionAlgorithm),u.default.write(u.default.aead,this.aeadAlgorithm)]);const a=await n(t,e);this.sessionKey=await a.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){const i=await o.default.cfb.decrypt(t,e,this.encrypted,new Uint8Array(o.default.cipher[t].blockSize));this.sessionKeyAlgorithm=u.default.read(u.default.symmetric,i[0]),this.sessionKey=i.subarray(1,i.length)}else this.sessionKey=e;return!0},i.prototype.encrypt=async function(e){var t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=t,this.s2k=new s.default,this.s2k.salt=await o.default.random.getRandomBytes(8);var r=o.default.cipher[t].keySize,r=await this.s2k.produce_key(e,r);if(null===this.sessionKey&&(this.sessionKey=await o.default.generateSessionKey(this.sessionKeyAlgorithm)),5===this.version){const a=o.default[this.aeadAlgorithm];this.iv=await o.default.random.getRandomBytes(a.ivLength);var n=new Uint8Array([192|this.tag,this.version,u.default.write(u.default.symmetric,this.sessionKeyEncryptionAlgorithm),u.default.write(u.default.aead,this.aeadAlgorithm)]);const i=await a(t,r);this.encrypted=await i.encrypt(this.sessionKey,this.iv,n)}else{n=new Uint8Array([u.default.write(u.default.symmetric,this.sessionKeyAlgorithm)]),n=c.default.concatUint8Array([n,this.sessionKey]);this.encrypted=await o.default.cfb.encrypt(t,r,n,new Uint8Array(o.default.cipher[t].blockSize))}return!0},i.prototype.postCloneTypeFix=function(){this.s2k=s.default.fromClone(this.s2k)},r.default=i},{"../config":79,"../crypto":94,"../enums":113,"../type/s2k":157,"../util":158}],146:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=u(e("web-stream-tools")),a=u(e("../config")),i=u(e("../crypto")),s=u(e("../enums")),o=u(e("../util"));function u(e){return e&&e.__esModule?e:{default:e}}function c(){this.tag=s.default.packet.symmetricallyEncrypted,this.encrypted=null,this.packets=null,this.ignore_mdc_error=a.default.ignore_mdc_error}c.prototype.read=function(e){this.encrypted=e},c.prototype.write=function(){return this.encrypted},c.prototype.decrypt=async function(e,t){if(!this.ignore_mdc_error)throw new Error("Decryption failed due to missing MDC.");this.encrypted=await n.default.readToEnd(this.encrypted);e=await i.default.cfb.decrypt(e,t,this.encrypted.subarray(i.default.cipher[e].blockSize+2),this.encrypted.subarray(2,i.default.cipher[e].blockSize+2));return await this.packets.read(e),!0},c.prototype.encrypt=async function(e,t){var r=this.packets.write(),n=await i.default.getPrefixRandom(e);const a=await i.default.cfb.encrypt(e,t,n,new Uint8Array(i.default.cipher[e].blockSize));r=await i.default.cfb.encrypt(e,t,r,a.subarray(2));return this.encrypted=o.default.concat([a,r]),!0},r.default=c},{"../config":79,"../crypto":94,"../enums":113,"../util":158,"web-stream-tools":75}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=e("../enums"),i=(n=a)&&n.__esModule?n:{default:n};function s(){this.tag=i.default.packet.trust}s.prototype.read=function(){},r.default=s},{"../enums":113}],148:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("./packet")),a=s(e("../enums")),i=s(e("../util"));function s(e){return e&&e.__esModule?e:{default:e}}function o(){this.tag=a.default.packet.userAttribute,this.attributes=[]}o.prototype.read=function(e){let t=0;for(;t<e.length;){var r=n.default.readSimpleLength(e.subarray(t,e.length));t+=r.offset,this.attributes.push(i.default.Uint8Array_to_str(e.subarray(t,t+r.len))),t+=r.len}},o.prototype.write=function(){const t=[];for(let e=0;e<this.attributes.length;e++)t.push(n.default.writeSimpleLength(this.attributes[e].length)),t.push(i.default.str_to_Uint8Array(this.attributes[e]));return i.default.concatUint8Array(t)},o.prototype.equals=function(r){return!!(r&&r instanceof o)&&this.attributes.every(function(e,t){return e===r.attributes[t]})},r.default=o},{"../enums":113,"../util":158,"./packet":135}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("../enums")),a=i(e("../util"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){this.tag=n.default.packet.userid,this.userid="",this.name="",this.email="",this.comment=""}s.prototype.read=function(e){this.parse(a.default.decode_utf8(e))},s.prototype.parse=function(e){try{Object.assign(this,a.default.parseUserId(e))}catch(e){}this.userid=e},s.prototype.write=function(){return a.default.encode_utf8(this.userid)},s.prototype.format=function(e){a.default.isString(e)&&(e=a.default.parseUserId(e)),Object.assign(this,e),this.userid=a.default.formatUserId(e)},r.default=s},{"../enums":113,"../util":158}],150:[function(i,e,t){!function(e){"use strict";var t,r,n=i("./util"),a=(t=n)&&t.__esModule?t:{default:t};if(void 0!==e)try{void 0===e.fetch&&i("whatwg-fetch"),void 0===Array.prototype.fill&&i("core-js/fn/array/fill"),void 0===Array.prototype.find&&i("core-js/fn/array/find"),void 0===Array.prototype.includes&&i("core-js/fn/array/includes"),void 0===Array.from&&i("core-js/fn/array/from"),i("core-js/fn/promise"),void 0===Uint8Array.from&&i("core-js/fn/typed/uint8-array"),void 0===String.prototype.repeat&&i("core-js/fn/string/repeat"),"undefined"==typeof Symbol&&i("core-js/fn/symbol"),void 0===Object.assign&&i("core-js/fn/object/assign")}catch(e){}"undefined"==typeof TransformStream&&i("@mattiasbuelens/web-streams-polyfill/es6"),"undefined"==typeof TextEncoder&&(r=a.default.nodeRequire("util")||{},e.TextEncoder=r.TextEncoder,e.TextDecoder=r.TextDecoder),"undefined"==typeof TextEncoder&&(r=i("text-encoding-utf-8"),e.TextEncoder=r.TextEncoder,e.TextDecoder=r.TextDecoder)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":158,"@mattiasbuelens/web-streams-polyfill/es6":1,"core-js/fn/array/fill":"core-js/fn/array/fill","core-js/fn/array/find":"core-js/fn/array/find","core-js/fn/array/from":"core-js/fn/array/from","core-js/fn/array/includes":"core-js/fn/array/includes","core-js/fn/object/assign":"core-js/fn/object/assign","core-js/fn/promise":"core-js/fn/promise","core-js/fn/string/repeat":"core-js/fn/string/repeat","core-js/fn/symbol":"core-js/fn/symbol","core-js/fn/typed/uint8-array":"core-js/fn/typed/uint8-array","text-encoding-utf-8":71,"whatwg-fetch":"whatwg-fetch"}],151:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Signature=o,r.readArmored=async function(e){e=await n.default.decode(e);return u(e.data)},r.read=u;var n=s(e("./encoding/armor")),a=s(e("./packet")),i=s(e("./enums"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!(this instanceof o))return new o(e);this.packets=e||new a.default.List}async function u(e){const t=new a.default.List;return await t.read(e),new o(t)}o.prototype.armor=function(){return n.default.encode(i.default.armor.signature,this.packets.write())}},{"./encoding/armor":111,"./enums":113,"./packet":131}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=e("../util"),i=(n=a)&&n.__esModule?n:{default:n};function s(e){e=void 0===e?new Uint8Array([]):i.default.isString(e)?i.default.str_to_Uint8Array(e):new Uint8Array(e),this.data=e}s.prototype.read=function(e){if(1<=e.length){var t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw new Error("Invalid symmetric key")},s.prototype.write=function(){return i.default.concatUint8Array([new Uint8Array([this.data.length]),this.data])},s.fromClone=function(e){return new s(e.data)},r.default=s},{"../util":158}],153:[function(e,t,r){"use strict";function n(e){var t;e?(t=e.hash,e=e.cipher,this.hash=t,this.cipher=e):(this.hash=null,this.cipher=null)}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype.read=function(e){if(e.length<4||3!==e[0]||1!==e[1])throw new Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4},n.prototype.write=function(){return new Uint8Array([3,1,this.hash,this.cipher])},n.fromClone=function(e){return new n({hash:e.hash,cipher:e.cipher})},r.default=n},{}],154:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=e("../util.js"),i=(n=a)&&n.__esModule?n:{default:n};function s(){this.bytes=""}s.prototype.read=function(e){this.bytes=i.default.Uint8Array_to_str(e.subarray(0,8))},s.prototype.write=function(){return i.default.str_to_Uint8Array(this.bytes)},s.prototype.toHex=function(){return i.default.str_to_hex(this.bytes)},s.prototype.equals=function(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes},s.prototype.isNull=function(){return""===this.bytes},s.prototype.isWildcard=function(){return/^0+$/.test(this.toHex())},s.mapToHex=function(e){return e.toHex()},s.fromClone=function(e){const t=new s;return t.bytes=e.bytes,t},s.fromId=function(e){const t=new s;return t.read(i.default.hex_to_Uint8Array(e)),t},s.wildcard=function(){const e=new s;return e.read(new Uint8Array(8)),e},r.default=s},{"../util.js":158}],155:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("bn.js")),a=i(e("../util"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){e instanceof s?this.data=e.data:n.default.isBN(e)?this.fromBN(e):a.default.isUint8Array(e)?this.fromUint8Array(e):a.default.isString(e)?this.fromString(e):this.data=null}s.prototype.read=function(e,t="be"){var r=7+((e=a.default.isString(e)?a.default.str_to_Uint8Array(e):e)[0]<<8|e[1])>>>3,e=e.subarray(2,2+r);return this.fromUint8Array(e,t),2+r},s.prototype.write=function(e,t){return a.default.Uint8Array_to_MPI(this.toUint8Array(e,t))},s.prototype.bitLength=function(){return 8*(this.data.length-1)+a.default.nbits(this.data[0])},s.prototype.byteLength=function(){return this.data.length},s.prototype.toUint8Array=function(e,t){e=e||"be",t=t||this.data.length;const r=new Uint8Array(t);t="le"===e?0:t-this.data.length;return r.set(this.data,t),"le"===e&&r.reverse(),r},s.prototype.fromUint8Array=function(e,t="be"){this.data=new Uint8Array(e.length),this.data.set(e),"le"===t&&this.data.reverse()},s.prototype.toString=function(){return a.default.Uint8Array_to_str(this.toUint8Array())},s.prototype.fromString=function(e,t="be"){this.fromUint8Array(a.default.str_to_Uint8Array(e),t)},s.prototype.toBN=function(){return new n.default(this.toUint8Array())},s.prototype.fromBN=function(e){this.data=e.toArrayLike(Uint8Array)},s.fromClone=function(e){return new s(e.data)},r.default=s},{"../util":158,"bn.js":16}],156:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("../util")),a=i(e("../enums"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e instanceof s)this.oid=e.oid;else if(n.default.isArray(e)||n.default.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw new Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}s.prototype.read=function(e){if(1<=e.length){var t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw new Error("Invalid oid")},s.prototype.write=function(){return n.default.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])},s.prototype.toHex=function(){return n.default.Uint8Array_to_hex(this.oid)},s.prototype.getName=function(){var e=this.toHex();if(a.default.curve[e])return a.default.write(a.default.curve,e);throw new Error("Unknown curve object identifier.")},s.fromClone=function(e){return new s(e.oid)},r.default=s},{"../enums":113,"../util":158}],157:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("../config")),l=a(e("../crypto")),f=a(e("../enums.js")),d=a(e("../util.js"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){this.algorithm="sha256",this.type="iterated",this.c=n.default.s2k_iteration_count_byte,this.salt=null}i.prototype.get_count=function(){return 16+(15&this.c)<<6+(this.c>>4)},i.prototype.read=function(e){let t=0;switch(this.type=f.default.read(f.default.s2k,e[t++]),this.algorithm=e[t++],"gnu"!==this.type&&(this.algorithm=f.default.read(f.default.hash,this.algorithm)),this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==d.default.Uint8Array_to_str(e.subarray(t,t+3)))throw new Error("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw new Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new Error("Unknown s2k type.")}return t},i.prototype.write=function(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...d.default.str_to_Uint8Array("GNU"),1]);const e=[new Uint8Array([f.default.write(f.default.s2k,this.type),f.default.write(f.default.hash,this.algorithm)])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}return d.default.concatUint8Array(e)},i.prototype.produce_key=async function(e,t){e=d.default.encode_utf8(e);var n=f.default.write(f.default.hash,this.algorithm);const a=[];let i=0,s=0;for(;i<t;){let r;switch(this.type){case"simple":r=d.default.concatUint8Array([new Uint8Array(s),e]);break;case"salted":r=d.default.concatUint8Array([new Uint8Array(s),this.salt,e]);break;case"iterated":{var o=d.default.concatUint8Array([this.salt,e]);let t=o.length;var u=Math.max(this.get_count(),t);r=new Uint8Array(s+u),r.set(o,s);for(let e=s+t;e<u;e+=t,t*=2)r.copyWithin(e,s,e);break}case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}var c=await l.default.hash.digest(n,r);a.push(c),i+=c.length,s++}return d.default.concatUint8Array(a).subarray(0,t)},i.fromClone=function(e){const t=new i;return t.algorithm=e.algorithm,t.type=e.type,t.c=e.c,t.salt=e.salt,t},r.default=i},{"../config":79,"../crypto":94,"../enums.js":113,"../util.js":158}],158:[function(r,e,a){!function(e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(r("email-addresses")),u=t(r("web-stream-tools")),s=t(r("./config")),c=t(r("./util")),n=t(r("./encoding/base64"));function t(e){return e&&e.__esModule?e:{default:e}}a.default={isString:function(e){return"string"==typeof e||String.prototype.isPrototypeOf(e)},isArray:function(e){return Array.prototype.isPrototypeOf(e)},isUint8Array:u.default.isUint8Array,isStream:u.default.isStream,getTransferables:function(e,t){var r=[];return c.default.collectTransferables(e,r,t),r.length?r:void 0},collectTransferables:function(s,o,t){s&&(c.default.isUint8Array(s)?t&&-1===o.indexOf(s.buffer)&&!(-1!==navigator.userAgent.indexOf("Version/11.1")||(navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1]<56&&-1===navigator.userAgent.indexOf("Edge"))&&o.push(s.buffer):Object.prototype.isPrototypeOf(s)&&Object.entries(s).forEach(([a,e])=>{if(c.default.isStream(e))if(e.locked)s[a]=null;else{const i=u.default.transformPair(e,async e=>{const r=u.default.getReader(e);e=new MessageChannel;const n=e.port1,t=e.port2;n.onmessage=async function({data:{action:e}}){if("read"===e)try{var t=await r.read();n.postMessage(t,c.default.getTransferables(t))}catch(e){n.postMessage({error:e.message})}else"cancel"===e&&(await i.cancel(),n.postMessage())},s[a]=t,o.push(t)})}else{if("[object MessagePort]"===Object.prototype.toString.call(e))throw new Error("Can't transfer the same stream twice.");c.default.collectTransferables(e,o,t)}}))},restoreStreams:function(r){return Object.prototype.isPrototypeOf(r)&&!Uint8Array.prototype.isPrototypeOf(r)&&Object.entries(r).forEach(([e,t])=>{"[object MessagePort]"!==Object.prototype.toString.call(t)?c.default.restoreStreams(t):r[e]=new ReadableStream({pull(a){return new Promise(n=>{t.onmessage=e=>{var t=e.data,r=t.done,e=t.value,t=t.error;t?a.error(new Error(t)):r?a.close():a.enqueue(e),n()},t.postMessage({action:"read"})})},cancel(){return new Promise(e=>{t.onmessage=e,t.postMessage({action:"cancel"})})}},{highWaterMark:0})}),r},readNumber:function(t){let r=0;for(let e=0;e<t.length;e++)r+=256**e*t[t.length-1-e];return r},writeNumber:function(t,r){const n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t>>8*(r-e-1)&255;return n},readDate:function(e){e=c.default.readNumber(e);return new Date(1e3*e)},writeDate:function(e){e=Math.floor(e.getTime()/1e3);return c.default.writeNumber(e,4)},normalizeDate:function(e=Date.now()){return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},str_to_hex:function(e){if(null===e)return"";const t=[];var r=e.length;let n=0,a;for(;n<r;){for(a=e.charCodeAt(n++).toString(16);a.length<2;)a="0"+a;t.push(""+a)}return t.join("")},hex_to_str:function(t){let r="";for(let e=0;e<t.length;e+=2)r+=String.fromCharCode(parseInt(t.substr(e,2),16));return r},Uint8Array_to_MPI:function(e){var t=8*(e.length-1)+c.default.nbits(e[0]),t=Uint8Array.from([(65280&t)>>8,255&t]);return c.default.concatUint8Array([t,e])},b64_to_Uint8Array:function(e){return n.default.decode(e.replace(/-/g,"+").replace(/_/g,"/"))},Uint8Array_to_b64:function(e,t){let r=n.default.encode(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r},hex_to_Uint8Array:function(t){const r=new Uint8Array(t.length>>1);for(let e=0;e<t.length>>1;e++)r[e]=parseInt(t.substr(e<<1,2),16);return r},Uint8Array_to_hex:function(e){const t=[];var r=e.length;let n=0,a;for(;n<r;){for(a=e[n++].toString(16);a.length<2;)a="0"+a;t.push(""+a)}return t.join("")},str_to_Uint8Array:function(e){return u.default.transform(e,t=>{if(!c.default.isString(t))throw new Error("str_to_Uint8Array: Data must be in the form of a string");const r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r})},Uint8Array_to_str:function(t){const r=[];var n=(t=new Uint8Array(t)).length;for(let e=0;e<n;e+=16384)r.push(String.fromCharCode.apply(String,t.subarray(e,e+16384<n?e+16384:n)));return r.join("")},encode_utf8:function(e){const r=new TextEncoder("utf-8");function t(e,t=!1){return r.encode(e,{stream:!t})}return u.default.transform(e,t,()=>t("",!0))},decode_utf8:function(e){const r=new TextDecoder("utf-8");function t(e,t=!1){return r.decode(e,{stream:!t})}return u.default.transform(e,t,()=>t(new Uint8Array,!0))},concat:u.default.concat,concatUint8Array:u.default.concatUint8Array,equalsUint8Array:function(t,r){if(!c.default.isUint8Array(t)||!c.default.isUint8Array(r))throw new Error("Data must be in the form of a Uint8Array");if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0},write_checksum:function(t){let r=0;for(let e=0;e<t.length;e++)r=r+t[e]&65535;return c.default.writeNumber(r,2)},print_debug:function(e){s.default.debug&&console.log(e)},print_debug_hexarray_dump:function(e,t){s.default.debug&&(e+=": "+c.default.Uint8Array_to_hex(t),console.log(e))},print_debug_hexstr_dump:function(e,t){s.default.debug&&(e+=c.default.str_to_hex(t),console.log(e))},print_debug_error:function(e){s.default.debug&&console.error(e)},print_entire_stream:function(t,e,r){u.default.readToEnd(u.default.clone(e),r).then(e=>{console.log(t+": ",e)})},nbits:function(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),r=e>>8,0!==r&&(e=r,t+=8),r=e>>4,0!==r&&(e=r,t+=4),r=e>>2,0!==r&&(e=r,t+=2),r=e>>1,0!==r&&(e=r,t+=1),t},double:function(t){const r=new Uint8Array(t.length);var n=t.length-1;for(let e=0;e<n;e++)r[e]=t[e]<<1^t[e+1]>>7;return r[n]=t[n]<<1^135*(t[0]>>7),r},shiftRight:function(t,r){if(r)for(let e=t.length-1;0<=e;e--)t[e]>>=r,0<e&&(t[e]|=t[e-1]<<8-r);return t},getWebCrypto:function(){if(s.default.use_native)return void 0!==e&&e.crypto&&e.crypto.subtle},getWebCryptoAll:function(){if(s.default.use_native)return void 0!==e?e.crypto?e.crypto.subtle||e.crypto.webkitSubtle:e.msCrypto?e.msCrypto.subtle:void 0:void 0},detectNode:function(){return"object"==typeof e.process&&"object"==typeof e.process.versions},nodeRequire:function(e){if(c.default.detectNode())return r(e)},getNodeCrypto:function(){if(s.default.use_native)return c.default.nodeRequire("crypto")},getNodeZlib:function(){if(s.default.use_native)return c.default.nodeRequire("zlib")},getNodeBuffer:function(){return(c.default.nodeRequire("buffer")||{}).Buffer},getNodeStream:function(){return(c.default.nodeRequire("stream")||{}).Readable},getHardwareConcurrency:function(){if(c.default.detectNode()){const e=c.default.nodeRequire("os");return e.cpus().length}return navigator.hardwareConcurrency||1},isEmailAddress:function(e){if(!c.default.isString(e))return!1;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(e)},formatUserId:function(e){if(e.name&&!c.default.isString(e.name)||e.email&&!c.default.isEmailAddress(e.email)||e.comment&&!c.default.isString(e.comment))throw new Error("Invalid user id format");const t=[];return e.name&&t.push(e.name),e.comment&&t.push(`(${e.comment})`),e.email&&t.push(`<${e.email}>`),t.join(" ")},parseUserId:function(e){if(e.length>s.default.max_userid_length)throw new Error("User id string is too long");try{var t=i.default.parseOneAddress({input:e,atInDisplayName:!0});const r=t.name,n=t.address,a=t.comments;return{name:r,email:n,comment:a.replace(/^\(|\)$/g,"")}}catch(e){throw new Error("Invalid user id format")}},canonicalizeEOL:function(e){let o=!1;return u.default.transform(e,t=>{13===(t=o?c.default.concatUint8Array([new Uint8Array([13]),t]):t)[t.length-1]?(o=!0,t=t.subarray(0,-1)):o=!1;let r;const n=[];for(let e=0;r=t.indexOf(10,e)+1,r;e=r)13!==t[r-2]&&n.push(r);if(!n.length)return t;const a=new Uint8Array(t.length+n.length);let i=0;for(let e=0;e<n.length;e++){var s=t.subarray(n[e-1]||0,n[e]);a.set(s,i),i+=s.length,a[i-1]=13,a[i]=10,i++}return a.set(t.subarray(n[n.length-1]||0),i),a},()=>o?new Uint8Array([13]):void 0)},nativeEOL:function(e){let i=!1;return u.default.transform(e,t=>{13===(t=i&&10!==t[0]?c.default.concatUint8Array([new Uint8Array([13]),t]):new Uint8Array(t))[t.length-1]?(i=!0,t=t.subarray(0,-1)):i=!1;let r,n=0;for(let e=0;e!==t.length;e=r){r=t.indexOf(13,e)+1,r=r||t.length;var a=r-(10===t[r]?1:0);e&&t.copyWithin(n,e,a),n+=a-e}return t.subarray(0,n)},()=>i?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(e){return e.split("\n").map(e=>{let t=e.length-1;for(;0<=t&&(" "===e[t]||"\t"===e[t]);t--);return e.substr(0,t+1)}).join("\n")},encodeZBase32:function(e){if(0===e.length)return"";var t;let r=e[0],n=1,a=8,i="";for(;0<a||n<e.length;)a<5&&(n<e.length?(r<<=8,r|=255&e[n++],a+=8):(t=5-a,r<<=t,a+=t)),a-=5,i+="ybndrfg8ejkmcpqxot1uwisza345h769"[31&r>>a];return i},wrapError:function(e,t){if(!t)return new Error(e);try{t.message=e+": "+t.message}catch(e){}return t}}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":79,"./encoding/base64":112,"./util":158,"email-addresses":33,"web-stream-tools":75}],159:[function(n,e,a){!function(e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=t(n("./util")),c=t(n("./crypto")),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(n("./key"));function t(e){return e&&e.__esModule?e:{default:e}}function r(){this._fetch="function"==typeof e.fetch?e.fetch:n("node-fetch")}r.prototype.lookup=async function(e){const t=this._fetch;if(!e.email)throw new Error("You must provide an email parameter!");if(!u.default.isEmailAddress(e.email))throw new Error("Invalid e-mail address.");var r=/(.*)@(.*)/.exec(e.email),n=o(r,3);const a=n[1],i=n[2];r=u.default.encodeZBase32(await c.default.hash.sha1(u.default.str_to_Uint8Array(a.toLowerCase()))),n=`https://openpgpkey.${i}/.well-known/openpgpkey/${i}/hu/${r}`,r=`https://${i}/.well-known/openpgpkey/hu/${r}`;let s;try{if(s=await t(n),200!==s.status)throw new Error("Advanced WKD lookup failed: "+s.statusText)}catch(e){if(u.default.print_debug_error(e),s=await t(r),200!==s.status)throw new Error("Direct WKD lookup failed: "+s.statusText)}r=new Uint8Array(await s.arrayBuffer());return e.rawBytes?r:l.read(r)},a.default=r}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./crypto":94,"./key":118,"./util":158,"node-fetch":"node-fetch"}],160:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=a(e("../util.js")),o=a(e("../config")),n=a(e("../crypto")),u=a(e("../packet"));function a(e){return e&&e.__esModule?e:{default:e}}function i({path:e="openpgp.worker.js",n:t=1,workers:r=[],config:n}={}){const a=n=>e=>{var t=e.data;switch(t.event){case"loaded":this.workers[n].loadedResolve(!0);break;case"method-return":if(t.err){const r=new Error(t.err);r.workerStack=t.stack,this.tasks[t.id].reject(r)}else this.tasks[t.id].resolve(t.data);delete this.tasks[t.id],this.workers[n].requests--;break;case"request-seed":this.seedRandom(n,t.amount);break;default:throw new Error("Unknown Worker Event.")}};if(r.length)this.workers=r;else for(this.workers=[];this.workers.length<t;)this.workers.push(new Worker(e));let i=0;this.workers.forEach(t=>{t.loadedPromise=new Promise(e=>{t.loadedResolve=e}),t.requests=0,t.onmessage=a(i++),t.onerror=e=>(t.loadedResolve(!1),console.error("Unhandled error in openpgp worker: "+e.message+" ("+e.filename+":"+e.lineno+")"),!1),n&&t.postMessage({event:"configure",config:n})}),this.tasks={},this.currentID=0}i.prototype.loaded=async function(){const e=await Promise.all(this.workers.map(e=>e.loadedPromise));return e.every(Boolean)},i.prototype.getID=function(){return this.currentID++},i.prototype.seedRandom=async function(e,t){t=await n.default.random.getRandomBytes(t);this.workers[e].postMessage({event:"seed-random",buf:t},s.default.getTransferables(t,!0))},i.prototype.clearKeyCache=async function(){await Promise.all(this.workers.map(n=>new Promise((e,t)=>{var r=this.getID();n.postMessage({id:r,event:"clear-key-cache"}),this.tasks[r]={resolve:e,reject:t}})))},i.prototype.terminate=function(){this.workers.forEach(e=>{e.terminate()})},i.prototype.delegate=function(r,n){const a=this.getID();var e=this.workers.map(e=>e.requests),t=Math.min(...e);let i=0;for(;i<this.workers.length&&this.workers[i].requests!==t;i++);return new Promise((t,e)=>{this.workers[i].postMessage({id:a,event:r,options:u.default.clone.clonePackets(n)},s.default.getTransferables(n,o.default.zero_copy)),this.workers[i].requests++,this.tasks[a]={resolve:e=>t(u.default.clone.parseClonedPackets(s.default.restoreStreams(e),r)),reject:e}})},r.default=i},{"../config":79,"../crypto":94,"../packet":131,"../util.js":158}]},{},[115])(115)}),function(i){"use strict";function b(e,t){this.hi=0|e,this.lo=0|t}var p=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},s=function(){throw new Error("no PRNG")},a=new Uint8Array(16),r=new Uint8Array(32);r[0]=9;var c=p(),l=p([1]),y=p([56129,1]),f=p([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=p([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n=p([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),o=p([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=p([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(e,t){return e<<t|e>>>32-t}function g(e,t){return(((255&e[t+3])<<8|255&e[t+2])<<8|255&e[t+1])<<8|255&e[t+0]}function w(e,t){var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t=e[t+4]<<24|e[t+5]<<16|e[t+6]<<8|e[t+7];return new b(r,t)}function v(e,t,r){for(var n=0;n<4;n++)e[t+n]=255&r,r>>>=8}function _(e,t,r){e[t]=r.hi>>24&255,e[t+1]=r.hi>>16&255,e[t+2]=r.hi>>8&255,e[t+3]=255&r.hi,e[t+4]=r.lo>>24&255,e[t+5]=r.lo>>16&255,e[t+6]=r.lo>>8&255,e[t+7]=255&r.lo}function u(e,t,r,n,a){for(var i=0,s=0;s<a;s++)i|=e[t+s]^r[n+s];return(1&i-1>>>8)-1}function k(e,t,r,n){return u(e,t,r,n,16)}function A(e,t,r,n){return u(e,t,r,n,32)}function S(e,t,r,n,a){for(var i,s,o=new Uint32Array(16),u=new Uint32Array(16),c=new Uint32Array(16),l=new Uint32Array(4),f=0;f<4;f++)u[5*f]=g(n,4*f),u[1+f]=g(r,4*f),u[6+f]=g(t,4*f),u[11+f]=g(r,16+4*f);for(f=0;f<16;f++)c[f]=u[f];for(f=0;f<20;f++){for(i=0;i<4;i++){for(s=0;s<4;s++)l[s]=u[(5*i+4*s)%16];for(l[1]^=m(l[0]+l[3]|0,7),l[2]^=m(l[1]+l[0]|0,9),l[3]^=m(l[2]+l[1]|0,13),l[0]^=m(l[3]+l[2]|0,18),s=0;s<4;s++)o[4*i+(i+s)%4]=l[s]}for(s=0;s<16;s++)u[s]=o[s]}if(a){for(f=0;f<16;f++)u[f]=u[f]+c[f]|0;for(f=0;f<4;f++)u[5*f]=u[5*f]-g(n,4*f)|0,u[6+f]=u[6+f]-g(t,4*f)|0;for(f=0;f<4;f++)v(e,4*f,u[5*f]),v(e,16+4*f,u[6+f])}else for(f=0;f<16;f++)v(e,4*f,u[f]+c[f]|0)}function E(e,t,r,n){S(e,t,r,n,!1)}function P(e,t,r,n){return S(e,t,r,n,!0),0}var x=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function M(e,t,r,n,a,i,s){var o,u,c=new Uint8Array(16),l=new Uint8Array(64);if(!a)return 0;for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=i[u];for(;64<=a;){for(E(l,c,s,x),u=0;u<64;u++)e[t+u]=(r?r[n+u]:0)^l[u];for(o=1,u=8;u<16;u++)o=o+(255&c[u])|0,c[u]=255&o,o>>>=8;a-=64,t+=64,r&&(n+=64)}if(0<a)for(E(l,c,s,x),u=0;u<a;u++)e[t+u]=(r?r[n+u]:0)^l[u];return 0}function K(e,t,r,n,a){return M(e,t,null,0,r,n,a)}function C(e,t,r,n,a){var i=new Uint8Array(32);return P(i,n,a,x),K(e,t,r,n.subarray(16),i)}function U(e,t,r,n,a,i,s){var o=new Uint8Array(32);return P(o,i,s,x),M(e,t,r,n,a,i.subarray(16),o)}function T(e,t){for(var r=0,n=0;n<17;n++)r=r+(e[n]+t[n]|0)|0,e[n]=255&r,r>>>=8}var B=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function R(e,t,r,n,a,i){for(var s,o,u,c=new Uint32Array(17),l=new Uint32Array(17),f=new Uint32Array(17),d=new Uint32Array(17),h=new Uint32Array(17),p=0;p<17;p++)l[p]=f[p]=0;for(p=0;p<16;p++)l[p]=i[p];for(l[3]&=15,l[4]&=252,l[7]&=15,l[8]&=252,l[11]&=15,l[12]&=252,l[15]&=15;0<a;){for(p=0;p<17;p++)d[p]=0;for(p=0;p<16&&p<a;++p)d[p]=r[n+p];for(d[p]=1,n+=p,a-=p,T(f,d),o=0;o<17;o++)for(p=c[o]=0;p<17;p++)c[o]=c[o]+f[p]*(p<=o?l[o-p]:320*l[o+17-p]|0)|0;for(o=0;o<17;o++)f[o]=c[o];for(p=u=0;p<16;p++)u=u+f[p]|0,f[p]=255&u,u>>>=8;for(u=u+f[16]|0,f[16]=3&u,u=5*(u>>>2)|0,p=0;p<16;p++)u=u+f[p]|0,f[p]=255&u,u>>>=8;u=u+f[16]|0,f[16]=u}for(p=0;p<17;p++)h[p]=f[p];for(T(f,B),s=0|-(f[16]>>>7),p=0;p<17;p++)f[p]^=s&(h[p]^f[p]);for(p=0;p<16;p++)d[p]=i[p+16];for(d[16]=0,T(f,d),p=0;p<16;p++)e[t+p]=f[p];return 0}function j(e,t,r,n,a,i){var s=new Uint8Array(16);return R(s,0,r,n,a,i),k(e,t,s,0)}function I(e,t,r,n,a){var i;if(r<32)return-1;for(U(e,0,t,0,r,n,a),R(e,16,e,32,r-32,e),i=0;i<16;i++)e[i]=0;return 0}function O(e,t,r,n,a){var i,s=new Uint8Array(32);if(r<32)return-1;if(C(s,0,32,n,a),0!==j(t,16,t,32,r-32,s))return-1;for(U(e,0,t,0,r,n,a),i=0;i<32;i++)e[i]=0;return 0}function z(e,t){for(var r=0;r<16;r++)e[r]=0|t[r]}function D(e){for(var t,r=0;r<16;r++)e[r]+=65536,t=Math.floor(e[r]/65536),e[(r+1)*(r<15?1:0)]+=t-1+37*(t-1)*(15===r?1:0),e[r]-=65536*t}function N(e,t,r){for(var n,a=~(r-1),i=0;i<16;i++)n=a&(e[i]^t[i]),e[i]^=n,t[i]^=n}function F(e,t){for(var r,n,a=p(),i=p(),s=0;s<16;s++)i[s]=t[s];for(D(i),D(i),D(i),r=0;r<2;r++){for(a[0]=i[0]-65517,s=1;s<15;s++)a[s]=i[s]-65535-(a[s-1]>>16&1),a[s-1]&=65535;a[15]=i[15]-32767-(a[14]>>16&1),n=a[15]>>16&1,a[14]&=65535,N(i,a,1-n)}for(s=0;s<16;s++)e[2*s]=255&i[s],e[2*s+1]=i[s]>>8}function q(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return F(r,e),F(n,t),A(r,0,n,0)}function L(e){var t=new Uint8Array(32);return F(t,e),1&t[0]}function H(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function W(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]|0}function G(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]|0}function Z(e,t,r){for(var n,a=new Float64Array(31),i=0;i<31;i++)a[i]=0;for(i=0;i<16;i++)for(n=0;n<16;n++)a[i+n]+=t[i]*r[n];for(i=0;i<15;i++)a[i]+=38*a[i+16];for(i=0;i<16;i++)e[i]=a[i];D(e),D(e)}function V(e,t){Z(e,t,t)}function Y(e,t){for(var r=p(),n=0;n<16;n++)r[n]=t[n];for(n=253;0<=n;n--)V(r,r),2!==n&&4!==n&&Z(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function $(e,t){for(var r=p(),n=0;n<16;n++)r[n]=t[n];for(n=250;0<=n;n--)V(r,r),1!==n&&Z(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function J(e,t,r){for(var n,a=new Uint8Array(32),i=new Float64Array(80),s=p(),o=p(),u=p(),c=p(),l=p(),f=p(),d=0;d<31;d++)a[d]=t[d];for(a[31]=127&t[31]|64,a[0]&=248,H(i,r),d=0;d<16;d++)o[d]=i[d],c[d]=s[d]=u[d]=0;for(s[0]=c[0]=1,d=254;0<=d;--d)N(s,o,n=a[d>>>3]>>>(7&d)&1),N(u,c,n),W(l,s,u),G(s,s,u),W(u,o,c),G(o,o,c),V(c,l),V(f,s),Z(s,u,s),Z(u,o,l),W(l,s,u),G(s,s,u),V(o,s),G(u,c,f),Z(s,u,y),W(s,s,c),Z(u,u,s),Z(s,c,f),Z(c,o,i),V(o,l),N(s,o,n),N(u,c,n);for(d=0;d<16;d++)i[d+16]=s[d],i[d+32]=u[d],i[d+48]=o[d],i[d+64]=c[d];var h=i.subarray(32),r=i.subarray(16);return Y(h,h),Z(r,r,h),F(e,r),0}function X(e,t){return J(e,t,r)}function Q(e,t){return s(t,32),X(e,t)}function ee(e,t,r){var n=new Uint8Array(32);return J(n,r,t),P(e,a,n,x)}var te=I,re=O;function ne(){for(var e,t=0,r=0,n=0,a=0,i=0;i<arguments.length;i++)t+=65535&(e=arguments[i].lo),r+=e>>>16,n+=65535&(e=arguments[i].hi),a+=e>>>16;return new b(65535&(n+=(r+=t>>>16)>>>16)|(a+=n>>>16)<<16,65535&t|r<<16)}function ae(e,t){return new b(e.hi>>>t,e.lo>>>t|e.hi<<32-t)}function ie(){for(var e=0,t=0,r=0;r<arguments.length;r++)e^=arguments[r].lo,t^=arguments[r].hi;return new b(t,e)}function se(e,t){var r,n,a=32-t;return t<32?(r=e.hi>>>t|e.lo<<a,n=e.lo>>>t|e.hi<<a):t<64&&(r=e.lo>>>t|e.hi<<a,n=e.hi>>>t|e.lo<<a),new b(r,n)}var oe=[new b(1116352408,3609767458),new b(1899447441,602891725),new b(3049323471,3964484399),new b(3921009573,2173295548),new b(961987163,4081628472),new b(1508970993,3053834265),new b(2453635748,2937671579),new b(2870763221,3664609560),new b(3624381080,2734883394),new b(310598401,1164996542),new b(607225278,1323610764),new b(1426881987,3590304994),new b(1925078388,4068182383),new b(2162078206,991336113),new b(2614888103,633803317),new b(3248222580,3479774868),new b(3835390401,2666613458),new b(4022224774,944711139),new b(264347078,2341262773),new b(604807628,2007800933),new b(770255983,1495990901),new b(1249150122,1856431235),new b(1555081692,3175218132),new b(1996064986,2198950837),new b(2554220882,3999719339),new b(2821834349,766784016),new b(2952996808,2566594879),new b(3210313671,3203337956),new b(3336571891,1034457026),new b(3584528711,2466948901),new b(113926993,3758326383),new b(338241895,168717936),new b(666307205,1188179964),new b(773529912,1546045734),new b(1294757372,1522805485),new b(1396182291,2643833823),new b(1695183700,2343527390),new b(1986661051,1014477480),new b(2177026350,1206759142),new b(2456956037,344077627),new b(2730485921,1290863460),new b(2820302411,3158454273),new b(3259730800,3505952657),new b(3345764771,106217008),new b(3516065817,3606008344),new b(3600352804,1432725776),new b(4094571909,1467031594),new b(275423344,851169720),new b(430227734,3100823752),new b(506948616,1363258195),new b(659060556,3750685593),new b(883997877,3785050280),new b(958139571,3318307427),new b(1322822218,3812723403),new b(1537002063,2003034995),new b(1747873779,3602036899),new b(1955562222,1575990012),new b(2024104815,1125592928),new b(2227730452,2716904306),new b(2361852424,442776044),new b(2428436474,593698344),new b(2756734187,3733110249),new b(3204031479,2999351573),new b(3329325298,3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];function ue(e,t,r){for(var n,a=[],i=[],s=[],o=[],u=0;u<8;u++)a[u]=s[u]=w(e,8*u);for(var c,l,f,d,h,p,y=0;128<=r;){for(u=0;u<16;u++)o[u]=w(t,8*u+y);for(u=0;u<80;u++){for(n=0;n<8;n++)i[n]=s[n];for(p=ne(s[7],ie(se(p=s[4],14),se(p,18),se(p,41)),(l=s[4],f=s[5],d=s[6],h=void 0,h=l.hi&f.hi^~l.hi&d.hi,d=l.lo&f.lo^~l.lo&d.lo,new b(h,d)),oe[u],o[u%16]),i[7]=ne(p,ie(se(f=s[0],28),se(f,34),se(f,39)),(l=s[0],h=s[1],d=s[2],f=void 0,f=l.hi&h.hi^l.hi&d.hi^h.hi&d.hi,d=l.lo&h.lo^l.lo&d.lo^h.lo&d.lo,new b(f,d))),i[3]=ne(i[3],p),n=0;n<8;n++)s[(n+1)%8]=i[n];if(u%16==15)for(n=0;n<16;n++)o[n]=ne(o[n],o[(n+9)%16],ie(se(c=o[(n+1)%16],1),se(c,8),ae(c,7)),ie(se(c=o[(n+14)%16],19),se(c,61),ae(c,6)))}for(u=0;u<8;u++)s[u]=ne(s[u],a[u]),a[u]=s[u];y+=128,r-=128}for(u=0;u<8;u++)_(e,8*u,a[u]);return r}var ce=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function le(e,t,r){for(var n=new Uint8Array(64),a=new Uint8Array(256),i=r,s=0;s<64;s++)n[s]=ce[s];for(ue(n,t,r),r%=128,s=0;s<256;s++)a[s]=0;for(s=0;s<r;s++)a[s]=t[i-r+s];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,_(a,r-8,new b(i/536870912|0,i<<3)),ue(n,a,r),s=0;s<64;s++)e[s]=n[s];return 0}function fe(e,t){var r=p(),n=p(),a=p(),i=p(),s=p(),o=p(),u=p(),c=p(),l=p();G(r,e[1],e[0]),G(l,t[1],t[0]),Z(r,r,l),W(n,e[0],e[1]),W(l,t[0],t[1]),Z(n,n,l),Z(a,e[3],t[3]),Z(a,a,d),Z(i,e[2],t[2]),W(i,i,i),G(s,n,r),G(o,i,a),W(u,i,a),W(c,n,r),Z(e[0],s,o),Z(e[1],c,u),Z(e[2],u,o),Z(e[3],s,c)}function de(e,t,r){for(var n=0;n<4;n++)N(e[n],t[n],r)}function he(e,t){var r=p(),n=p(),a=p();Y(a,t[2]),Z(r,t[0],a),Z(n,t[1],a),F(e,n),e[31]^=L(r)<<7}function pe(e,t,r){var n,a;for(z(e[0],c),z(e[1],l),z(e[2],l),z(e[3],c),a=255;0<=a;--a)de(e,t,n=r[a/8|0]>>(7&a)&1),fe(t,e),fe(e,e),de(e,t,n)}function ye(e,t){var r=[p(),p(),p(),p()];z(r[0],n),z(r[1],o),z(r[2],l),Z(r[3],n,o),pe(e,r,t)}function be(e,t,r){var n,a=new Uint8Array(64),i=[p(),p(),p(),p()];for(r||s(t,32),le(a,t,32),a[0]&=248,a[31]&=127,a[31]|=64,ye(i,a),he(e,i),n=0;n<32;n++)t[n+32]=e[n];return 0}var me=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ge(e,t){for(var r,n,a,i=63;32<=i;--i){for(r=0,n=i-32,a=i-12;n<a;++n)t[n]+=r-16*t[i]*me[n-(i-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[i]=0}for(n=r=0;n<32;n++)t[n]+=r-(t[31]>>4)*me[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*me[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function we(e){for(var t=new Float64Array(64),r=0;r<64;r++)t[r]=e[r];for(r=0;r<64;r++)e[r]=0;ge(e,t)}function ve(e,t,r,n){var a,i=new Uint8Array(64),s=new Uint8Array(64),o=new Uint8Array(64),u=new Float64Array(64),c=[p(),p(),p(),p()];le(i,n,32),i[0]&=248,i[31]&=127,i[31]|=64;for(var l=r+64,f=0;f<r;f++)e[64+f]=t[f];for(f=0;f<32;f++)e[32+f]=i[32+f];for(le(o,e.subarray(32),r+32),we(o),ye(c,o),he(e,c),f=32;f<64;f++)e[f]=n[f];for(le(s,e,r+64),we(s),f=0;f<64;f++)u[f]=0;for(f=0;f<32;f++)u[f]=o[f];for(f=0;f<32;f++)for(a=0;a<32;a++)u[f+a]+=s[f]*i[a];return ge(e.subarray(32),u),l}function _e(e,t,r,n){var a,i=new Uint8Array(32),s=new Uint8Array(64),o=[p(),p(),p(),p()],u=[p(),p(),p(),p()];if(r<64)return-1;if(function(e,t){var r=p(),n=p(),a=p(),i=p(),s=p(),o=p(),u=p();if(z(e[2],l),H(e[1],t),V(a,e[1]),Z(i,a,f),G(a,a,e[2]),W(i,e[2],i),V(s,i),V(o,s),Z(u,o,s),Z(r,u,a),Z(r,r,i),$(r,r),Z(r,r,a),Z(r,r,i),Z(r,r,i),Z(e[0],r,i),V(n,e[0]),Z(n,n,i),q(n,a)&&Z(e[0],e[0],h),V(n,e[0]),Z(n,n,i),q(n,a))return 1;L(e[0])===t[31]>>7&&G(e[0],c,e[0]),Z(e[3],e[0],e[1])}(u,n))return-1;for(a=0;a<r;a++)e[a]=t[a];for(a=0;a<32;a++)e[a+32]=n[a];if(le(s,e,r),we(s),pe(o,u,s),ye(u,t.subarray(32)),fe(o,u),he(i,o),r-=64,A(t,0,i,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=t[a+64];return r}var ke;function Ae(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function Se(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ee(e){for(var t=0;t<e.length;t++)e[t]=0}i.lowlevel={crypto_core_hsalsa20:P,crypto_stream_xor:U,crypto_stream:C,crypto_stream_salsa20_xor:M,crypto_stream_salsa20:K,crypto_onetimeauth:R,crypto_onetimeauth_verify:j,crypto_verify_16:k,crypto_verify_32:A,crypto_secretbox:I,crypto_secretbox_open:O,crypto_scalarmult:J,crypto_scalarmult_base:X,crypto_box_beforenm:ee,crypto_box_afternm:te,crypto_box:function(e,t,r,n,a,i){var s=new Uint8Array(32);return ee(s,a,i),te(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,a,i){var s=new Uint8Array(32);return ee(s,a,i),re(e,t,r,n,s)},crypto_box_keypair:Q,crypto_hash:le,crypto_sign:ve,crypto_sign_keypair:be,crypto_sign_open:_e,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:p,D:f,L:me,pack25519:F,unpack25519:H,M:Z,A:W,S:V,Z:G,pow2523:$,add:fe,set25519:z,modL:ge,scalarmult:pe,scalarbase:ye},i.randomBytes=function(e){var t=new Uint8Array(e);return s(t,e),t},i.secretbox=function(e,t,r){Se(e,t,r),Ae(r,t);for(var n=new Uint8Array(32+e.length),a=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+32]=e[i];return I(a,n,n.length,t,r),a.subarray(16)},i.secretbox.open=function(e,t,r){Se(e,t,r),Ae(r,t);for(var n=new Uint8Array(16+e.length),a=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+16]=e[i];return n.length<32||0!==O(a,n,n.length,t,r)?null:a.subarray(32)},i.secretbox.keyLength=32,i.secretbox.nonceLength=24,i.secretbox.overheadLength=16,i.scalarMult=function(e,t){if(Se(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return J(r,e,t),r},i.scalarMult.base=function(e){if(Se(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return X(t,e),t},i.scalarMult.scalarLength=32,i.scalarMult.groupElementLength=32,i.box=function(e,t,r,n){n=i.box.before(r,n);return i.secretbox(e,t,n)},i.box.before=function(e,t){Se(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return ee(r,e,t),r},i.box.after=i.secretbox,i.box.open=function(e,t,r,n){n=i.box.before(r,n);return i.secretbox.open(e,t,n)},i.box.open.after=i.secretbox.open,i.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return Q(e,t),{publicKey:e,secretKey:t}},i.box.keyPair.fromSecretKey=function(e){if(Se(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return X(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},i.box.publicKeyLength=32,i.box.secretKeyLength=32,i.box.sharedKeyLength=32,i.box.nonceLength=24,i.box.overheadLength=i.secretbox.overheadLength,i.sign=function(e,t){if(Se(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return ve(r,e,e.length,t),r},i.sign.open=function(e,t){if(Se(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),t=_e(r,e,e.length,t);if(t<0)return null;for(var n=new Uint8Array(t),a=0;a<n.length;a++)n[a]=r[a];return n},i.sign.detached=function(e,t){for(var r=i.sign(e,t),n=new Uint8Array(64),a=0;a<n.length;a++)n[a]=r[a];return n},i.sign.detached.verify=function(e,t,r){if(Se(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");for(var n=new Uint8Array(64+e.length),a=new Uint8Array(64+e.length),i=0;i<64;i++)n[i]=t[i];for(i=0;i<e.length;i++)n[i+64]=e[i];return 0<=_e(a,n,n.length,r)},i.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return be(e,t),{publicKey:e,secretKey:t}},i.sign.keyPair.fromSecretKey=function(e){if(Se(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},i.sign.keyPair.fromSeed=function(e){if(Se(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return be(t,r,!0),{publicKey:t,secretKey:r}},i.sign.publicKeyLength=32,i.sign.secretKeyLength=64,i.sign.seedLength=32,i.sign.signatureLength=64,i.hash=function(e){Se(e);var t=new Uint8Array(64);return le(t,e,e.length),t},i.hash.hashLength=64,i.verify=function(e,t){return Se(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===u(e,0,t,0,e.length))},i.setPRNG=function(e){s=e},(ke="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&ke.getRandomValues?i.setPRNG(function(e,t){for(var r=new Uint8Array(t),n=0;n<t;n+=65536)ke.getRandomValues(r.subarray(n,n+Math.min(t-n,65536)));for(n=0;n<t;n++)e[n]=r[n];Ee(r)}):"undefined"!=typeof require&&(ke=require("crypto"))&&ke.randomBytes&&i.setPRNG(function(e,t){for(var r=ke.randomBytes(t),n=0;n<t;n++)e[n]=r[n];Ee(r)})}("undefined"!=typeof module&&module.exports?module.exports:self.nacl=self.nacl||{}),function(e){var t={};!function(t){"use strict";t.__esModule=true,t.digestLength=32,t.blockSize=64;var g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(e,t,r,n,a){var i,s,o,u,c,l,f,d,h,p,y,b,m;while(a>=64){i=t[0];s=t[1];o=t[2];u=t[3];c=t[4];l=t[5];f=t[6];d=t[7];for(p=0;p<16;p++){y=n+p*4;e[p]=(r[y]&255)<<24|(r[y+1]&255)<<16|(r[y+2]&255)<<8|r[y+3]&255}for(p=16;p<64;p++){h=e[p-2];b=(h>>>17|h<<32-17)^(h>>>19|h<<32-19)^h>>>10;h=e[p-15];m=(h>>>7|h<<32-7)^(h>>>18|h<<32-18)^h>>>3;e[p]=(b+e[p-7]|0)+(m+e[p-16]|0)}for(p=0;p<64;p++){b=(((c>>>6|c<<32-6)^(c>>>11|c<<32-11)^(c>>>25|c<<32-25))+(c&l^~c&f)|0)+(d+(g[p]+e[p]|0)|0)|0;m=((i>>>2|i<<32-2)^(i>>>13|i<<32-13)^(i>>>22|i<<32-22))+(i&s^i&o^s&o)|0;d=f;f=l;l=c;c=u+b|0;u=o;o=s;s=i;i=b+m|0}t[0]+=i;t[1]+=s;t[2]+=o;t[3]+=u;t[4]+=c;t[5]+=l;t[6]+=f;t[7]+=d;n+=64;a-=64}return n}var n=function(){function e(){this.digestLength=t.digestLength;this.blockSize=t.blockSize;this.state=new Int32Array(8);this.temp=new Int32Array(64);this.buffer=new Uint8Array(128);this.bufferLength=0;this.bytesHashed=0;this.finished=false;this.reset()}e.prototype.reset=function(){this.state[0]=1779033703;this.state[1]=3144134277;this.state[2]=1013904242;this.state[3]=2773480762;this.state[4]=1359893119;this.state[5]=2600822924;this.state[6]=528734635;this.state[7]=1541459225;this.bufferLength=0;this.bytesHashed=0;this.finished=false;return this};e.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(var e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()};e.prototype.update=function(e,t){if(t===void 0)t=e.length;if(this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;this.bytesHashed+=t;if(this.bufferLength>0){while(this.bufferLength<64&&t>0){this.buffer[this.bufferLength++]=e[r++];t--}if(this.bufferLength===64){o(this.temp,this.state,this.buffer,0,64);this.bufferLength=0}}if(t>=64){r=o(this.temp,this.state,e,r,t);t%=64}while(t>0){this.buffer[this.bufferLength++]=e[r++];t--}return this};e.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed;var r=this.bufferLength;var n=t/536870912|0;var a=t<<3;var i=t%64<56?64:128;this.buffer[r]=128;for(var s=r+1;s<i-8;s++)this.buffer[s]=0;this.buffer[i-8]=n>>>24&255;this.buffer[i-7]=n>>>16&255;this.buffer[i-6]=n>>>8&255;this.buffer[i-5]=n>>>0&255;this.buffer[i-4]=a>>>24&255;this.buffer[i-3]=a>>>16&255;this.buffer[i-2]=a>>>8&255;this.buffer[i-1]=a>>>0&255;o(this.temp,this.state,this.buffer,0,i);this.finished=true}for(var s=0;s<8;s++){e[s*4+0]=this.state[s]>>>24&255;e[s*4+1]=this.state[s]>>>16&255;e[s*4+2]=this.state[s]>>>8&255;e[s*4+3]=this.state[s]>>>0&255}return this};e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);this.finish(e);return e};e.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]};e.prototype._restoreState=function(e,t){for(var r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t;this.finished=false;this.bufferLength=0};return e}();t.Hash=n;var p=function(){function e(e){this.inner=new n;this.outer=new n;this.blockSize=this.inner.blockSize;this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new n).update(e).finish(t).clean();else for(var r=0;r<e.length;r++)t[r]=e[r];for(var r=0;r<t.length;r++)t[r]^=54;this.inner.update(t);for(var r=0;r<t.length;r++)t[r]^=54^92;this.outer.update(t);this.istate=new Uint32Array(8);this.ostate=new Uint32Array(8);this.inner._saveState(this.istate);this.outer._saveState(this.ostate);for(var r=0;r<t.length;r++)t[r]=0}e.prototype.reset=function(){this.inner._restoreState(this.istate,this.inner.blockSize);this.outer._restoreState(this.ostate,this.outer.blockSize);return this};e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean();this.outer.clean()};e.prototype.update=function(e){this.inner.update(e);return this};e.prototype.finish=function(e){if(this.outer.finished)this.outer.finish(e);else{this.inner.finish(e);this.outer.update(e,this.digestLength).finish(e)}return this};e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);this.finish(e);return e};return e}();function e(e){var t=(new n).update(e);var r=t.digest();t.clean();return r}function f(e,t){var r=new p(e).update(t);var n=r.digest();r.clean();return n}function d(e,t,r,n){var a=n[0];if(a===0)throw new Error("hkdf: cannot expand more");t.reset();if(a>1)t.update(e);if(r)t.update(r);t.update(n);t.finish(e);n[0]++}t.HMAC=p,t.hash=e,t["default"]=e,t.hmac=f;var h=new Uint8Array(t.digestLength);function r(e,t,r,n){if(t===void 0)t=h;if(n===void 0)n=32;var a=new Uint8Array([1]);var i=f(t,e);var s=new p(i);var o=new Uint8Array(s.digestLength);var u=o.length;var c=new Uint8Array(n);for(var l=0;l<n;l++){if(u===o.length){d(o,s,r,a);u=0}c[l]=o[u++]}s.clean();o.fill(0);a.fill(0);return c}function a(e,t,r,n){var a=new p(e);var i=a.digestLength;var s=new Uint8Array(4);var o=new Uint8Array(i);var u=new Uint8Array(i);var c=new Uint8Array(n);for(var l=0;l*i<n;l++){var f=l+1;s[0]=f>>>24&255;s[1]=f>>>16&255;s[2]=f>>>8&255;s[3]=f>>>0&255;a.reset();a.update(t);a.update(s);a.finish(u);for(var d=0;d<i;d++)o[d]=u[d];for(var d=2;d<=r;d++){a.reset();a.update(u).finish(u);for(var h=0;h<i;h++)o[h]^=u[h]}for(var d=0;d<i&&l*i+d<n;d++)c[l*i+d]=o[d]}for(var l=0;l<i;l++)o[l]=u[l]=0;for(var l=0;l<4;l++)s[l]=0;a.clean();return c}t.hkdf=r,t.pbkdf2=a}(t);var r,n=t.default;for(r in t)n[r]=t[r];"object"==typeof module&&"object"==typeof module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):e.sha256=n}(this),null==window.TogaTech&&(window.TogaTech={}),TogaTech.tEnvoy=new tEnvoy(openpgp,nacl,sha256);let message=()=>{console.log("%cPowered by TogaTech (TogaTech.org)\n%cSTOP!%c\nTHE CONSOLE IS INTENDED FOR DEVELOPERS ONLY. USE AT YOUR OWN RISK.\n\nIF SOMEONE TOLD YOU TO TYPE ANYTHING HERE, YOU ARE BEING SCAMMED.%c\nIf you were told to enter any text here, maybe to enable a hidden feature, DO NOT TYPE IT HERE. Doing so could send your password and sensitive data to hackers.\n\nTo learn more, visit togatech.org/selfxss.\n\n%ctEnvoy "+TogaTech.tEnvoy.version,"font-size: 15px;","color: red; font-size: 50px;","font-size: 27px;","font-size: 17px;","font-size: 12px;")};message(),setTimeout(()=>{message()},1e3),setTimeout(()=>{message()},2e3),setTimeout(()=>{message()},3e3),setTimeout(()=>{message()},4e3),setTimeout(()=>{message()},5e3);
//# sourceMappingURL=tenvoy.min.js.map